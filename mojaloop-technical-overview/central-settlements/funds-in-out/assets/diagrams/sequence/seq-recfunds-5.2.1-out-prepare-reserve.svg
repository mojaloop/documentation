<svg xmlns="http://www.w3.org/2000/svg" height="2163" preserveAspectRatio="none" style="width:1497px;height:2163px" width="1497">
  <defs>
    <filter height="300%" id="a" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2"/>
      <feColorMatrix in="blurOut" result="blurOut2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3"/>
    </filter>
  </defs>
  <text font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="706" x="393.5" y="28.708">
    5.2.1. Record Funds Out - Prepare &amp; Reserve (recordFundsOutPrepareReserve)
  </text>
  <path fill="#FFB6C1" stroke="#a80036" d="M16 40.953h114v2116.078H16z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="28.5" y="53.02">
    Central HUB
  </text>
  <path fill="#FFFFE0" stroke="#a80036" d="M327.5 40.953H1262v2116.078H327.5z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="739.25" y="53.02">
    Central Service
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M381 510.172h10v546.984h-10zM618 911.359h10v116.664h-10zM820 153.383h10v1907.352h-10zM966 1130.555h10v915.18h-10zM1205 1665.477h10v30h-10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M10 160.383h1473v1893.352H10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M892 1145.555h581v872.047H892z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M912 1169.688h356v117.664H912zM912 1301.352h356v223.594H912zM902 1563.945h561v446.656H902z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M912 1627.211h541v376.391H912z"/>
  <path stroke="#a80036" stroke-dasharray="5,5" d="M73 143.383v1927.351M385.5 143.383v1927.351M623 143.383v1927.351M824.5 143.383v1927.351M971 143.383v1927.351M1210 143.383v1927.351"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="20" y="140.081">
    Hub Employee
  </text>
  <circle cx="73" cy="70.086" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M73 78.086v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="20" y="2082.729">
    Hub Employee
  </text>
  <circle cx="73" cy="2096.031" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M73 2104.031v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="331.5" y="123.784">
    Central Service
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="351" y="140.081">
    Admin API
  </text>
  <path d="M365.5 82.79v24m0-12h17" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <circle cx="394.5" cy="94.789" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="331.5" y="2082.729">
    Central Service
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="351" y="2099.026">
    Admin API
  </text>
  <path d="M365.5 2106.328v24m0-12h17" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <circle cx="394.5" cy="2118.328" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M542 104.086h162v30.297H542z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M538 108.086h162v30.297H538z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="148" x="545" y="128.081">
    Admin-Transfer-Topic
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M542 2069.734h162v30.297H542z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M538 2073.734h162v30.297H538z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="148" x="545" y="2093.729">
    Admin-Transfer-Topic
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="750.5" y="140.081">
    Admin Event Handler
  </text>
  <circle cx="825" cy="111.086" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M821 99.086l6-5-2 5 2 5-6-5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="750.5" y="2082.729">
    Admin Event Handler
  </text>
  <circle cx="825" cy="2102.031" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M821 2090.031l6-5-2 5 2 5-6-5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="922" y="140.081">
    Transfer DAO
  </text>
  <circle cx="971" cy="111.086" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path stroke="#a80036" stroke-width="2" d="M959 125.086h24"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="922" y="2082.729">
    Transfer DAO
  </text>
  <circle cx="971" cy="2102.031" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path stroke="#a80036" stroke-width="2" d="M959 2116.031h24"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1162" y="140.081">
    Central Store
  </text>
  <path d="M1192 91.086c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10v-26" fill="#FEFECE" filter="url(#a)" stroke="#000" stroke-width="1.5"/>
  <path d="M1192 91.086c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#000" stroke-width="1.5"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1162" y="2082.729">
    Central Store
  </text>
  <path d="M1192 2096.031c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10v-26" fill="#FEFECE" filter="url(#a)" stroke="#000" stroke-width="1.5"/>
  <path d="M1192 2096.031c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#000" stroke-width="1.5"/>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M381 510.172h10v546.984h-10zM618 911.359h10v116.664h-10zM820 153.383h10v1907.352h-10zM966 1130.555h10v915.18h-10zM1205 1665.477h10v30h-10z"/>
  <path d="M10 160.383h332v7l-10 10H10v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M10 160.383h1473v1893.352H10z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="287" x="25" y="173.45">
    Record Funds Out - Prepare &amp; Reserve
  </text>
  <path d="M78 182.516v297h311v-287l-10-10H78" fill="#FF0" filter="url(#a)" stroke="#a80036"/>
  <path d="M379 182.516v10h10l-10-10" fill="#FF0" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="84" y="199.583">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="100" y="214.715">
    &quot;transferId&quot;: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="100" y="229.848">
    &quot;externalReference&quot;: &quot;string&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="274" x="100" y="244.981">
    &quot;action&quot;: &quot;recordFundsOutPrepareReserve&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="100" y="260.114">
    &quot;amount&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="116" y="275.247">
    &quot;amount&quot;: &lt;decimal&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="116" y="290.379">
    &quot;currency&quot;: &quot;string&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="100" y="320.645">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="100" y="335.778">
    &quot;reason&quot;: &quot;string&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="100" y="350.911">
    &quot;extensionList&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="116" y="366.043">
    &quot;extension&quot;: [
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="132" y="381.176">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="148" y="396.309">
    &quot;key&quot;: &quot;string&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="148" y="411.442">
    &quot;value&quot;: &quot;string&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="132" y="426.575">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="116" y="441.707">
    ]
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="100" y="456.84">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="84" y="471.973">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M369 506.172l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M73 510.172h302"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="80" y="505.106">
    1
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="276" x="93" y="505.106">
    POST - /participants/{name}/accounts/{id}
  </text>
  <path d="M396 523.172v342h333v-332l-10-10H396" fill="#FF0" filter="url(#a)" stroke="#a80036"/>
  <path d="M719 523.172v10h10l-10-10" fill="#FF0" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="402" y="540.239">
    Message:
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="402" y="555.372">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="418" y="570.504">
    id: &lt;payload.transferId&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="418" y="585.637">
    from: &quot;Hub&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="418" y="600.77">
    to: &quot;dfspName&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="418" y="615.903">
    type: &quot;application/json&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="418" y="631.036">
    content: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="434" y="646.168">
    headers: &lt;payloadHeaders&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="434" y="661.301">
    payload: &lt;payloadMessage&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="418" y="676.434">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="418" y="691.567">
    metadata: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="434" y="706.7">
    event: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="450" y="721.832">
    id: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="450" y="736.965">
    responseTo: &quot;&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="450" y="752.098">
    type: &quot;transfer&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="450" y="767.231">
    action: &quot;recordFundsOutPrepareReserve&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="450" y="782.364">
    createdAt: &lt;timestamp&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="450" y="797.497">
    state: &quot;&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="434" y="812.629">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="418" y="827.762">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="418" y="842.895">
    pp: &quot;&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="402" y="858.028">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M606 907.36l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M391 911.359h221"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="398" y="898.727">
    2
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="411" y="891.161">
    Route &amp; Publish Prepare event
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="411" y="906.293">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="497" y="906.293">
    2003
  </text>
  <path stroke="#a80036" d="M628 970.758h42M670 970.758v13M629 983.758h41"/>
  <path fill="#A80036" stroke="#a80036" d="M639 979.758l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="635" y="950.559">
    3
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="648" y="935.426">
    Ensure event is replicated
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="648" y="950.559">
    as configured (ACKS=all)
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="648" y="965.692">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="734" y="965.692">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M402 1024.023l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M396 1028.023h226"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="408" y="1015.391">
    4
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="421" y="1007.825">
    Respond replication acks
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="421" y="1022.957">
    have been received
  </text>
  <path fill="#A80036" stroke="#a80036" d="M84 1053.156l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M78 1057.156h307"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="90" y="1052.09">
    5
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="103" y="1052.09">
    Respond HTTP - 202 (Accepted)
  </text>
  <path fill="#A80036" stroke="#a80036" d="M634 1082.29l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M628 1086.289h191"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="640" y="1081.223">
    6
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="653" y="1081.223">
    Consume message
  </text>
  <path fill="#A80036" stroke="#a80036" d="M954 1126.555l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M830 1130.555h130"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="837" y="1117.922">
    7
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="850" y="1110.356">
    Prepare transfer
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="850" y="1125.489">
    and reserve
  </text>
  <path d="M892 1145.555h173v7l-10 10H892v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M892 1145.555h581v872.047H892z"/>
  <text fill="#00F" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="128" x="907" y="1158.622">
    DB TRANSACTION
  </text>
  <path d="M912 1169.688h277v7l-10 10H912v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M912 1169.688h356v117.664H912z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="232" x="927" y="1182.754">
    Reconciliation Transfer Prepare
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M919 1211.82h338v70.531H919z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M919 1211.82h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="932" y="1225.887">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="981" y="1244.887">
    reconciliationTransferPrepare
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="981" y="1260.02">
    (payload, trx)
  </text>
  <path d="M912 1301.352h277v7l-10 10H912v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M912 1301.352h356v223.594H912z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="232" x="927" y="1314.418">
    Reconciliation Transfer Reserve
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M919 1343.484h338v176.461H919z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M919 1343.484h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="932" y="1357.551">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="240" x="956" y="1376.551">
    transferStateAndPositionUpdate
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="13" x="956" y="1391.684">
    ({
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="972" y="1406.817">
    transferId: {payload.transferId},
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="972" y="1421.95">
    transferStateId: &quot;RESERVED&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="972" y="1437.082">
    reason: {payload.reason},
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="972" y="1452.215">
    createdDate: {transactionTimestamp},
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="972" y="1467.348">
    drUpdated: true,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="972" y="1482.481">
    crUpdated: false
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="956" y="1497.614">
    }, trx)
  </text>
  <path d="M902 1563.945h70v7l-10 10h-60v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M902 1563.945h561v446.656H902z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="917" y="1577.012">
    opt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="346" x="987" y="1576.156">
    [transferStateAndPositionUpdate.crPositionValue &gt; 0]
  </text>
  <path d="M981 1586.078v25h351v-15l-10-10H981" fill="#D3D3D3" filter="url(#a)" stroke="#a80036"/>
  <path d="M1322 1586.078v10h10l-10-10" fill="#D3D3D3" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="330" x="987" y="1603.145">
    payload.reason = &apos;Aborted due to insufficient funds&apos;
  </text>
  <path d="M912 1627.21h259v7l-10 10H912v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M912 1627.211h541v376.391H912z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="214" x="927" y="1640.278">
    Reconciliation Transfer Abort
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1193 1661.477l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M976 1665.477h223"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="983" y="1660.411">
    8
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="996" y="1660.411">
    Insert transferFulfilment record
  </text>
  <path fill="#FFFFE0" filter="url(#a)" stroke="#a80036" d="M986 1708.477h447l10 41-10 42H986l-10-42 10-41z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="988" y="1724.543">
    INSERT INTO
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="133" x="1071" y="1724.543">
    transferFulfilment
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="1004" y="1739.676">
    (transferFulfilmentId, transferId, ilpFulfilment,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="377" x="1004" y="1754.809">
    completedDate, isValid, settlementWindowId, createdDate)
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="443" x="988" y="1769.942">
    VALUES ({Uuid()}, {payload.transferId}, 0, {transactionTimestamp},
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="1004" y="1785.075">
    1, NULL, {transactionTimestamp})
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M919 1822.141h338v176.461H919z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M919 1822.14h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="932" y="1836.207">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="240" x="956" y="1855.207">
    transferStateAndPositionUpdate
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="13" x="956" y="1870.34">
    ({
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="972" y="1885.473">
    transferId: {payload.transferId},
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="972" y="1900.606">
    transferStateId: &quot;ABORTED&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="972" y="1915.739">
    reason: {payload.reason},
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="972" y="1930.872">
    createdDate: {transactionTimestamp},
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="972" y="1946.004">
    drUpdated: true,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="972" y="1961.137">
    crUpdated: false
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="956" y="1976.27">
    }, trx)
  </text>
  <path fill="#A80036" stroke="#a80036" d="M841 2041.734l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M835 2045.734h135"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="847" y="2040.668">
    9
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="860" y="2040.668">
    Finished await
  </text>
</svg>
