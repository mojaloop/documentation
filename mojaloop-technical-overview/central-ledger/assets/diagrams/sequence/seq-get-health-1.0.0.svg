<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1277px" preserveAspectRatio="none" style="width:1254px;height:1277px;" version="1.1" viewBox="0 0 1254 1277" width="1254px" zoomAndPan="magnify"><defs><filter height="300%" id="f1mgdy2h7s1yal" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162" x="547.25" y="23.5352">1.0.0 Get Health Check</text><rect fill="#FFFFE0" height="1232.1484" style="stroke: #A80036; stroke-width: 1.0;" width="865" x="372.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="751" y="47.0566">Central Services</text><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="699.4492" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="84.5" y="126.2871"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="653.8281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="438.5" y="171.9082"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="341.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="723.5" y="201.2188"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="928.5" y="342.7715"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1036.5" y="401.3926"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1162.5" y="460.0137"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="1050.8613" style="stroke: #000000; stroke-width: 2.0;" width="1230.5" x="13" y="133.2871"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="329.4121" style="stroke: #000000; stroke-width: 2.0;" width="779" x="23" y="504.3242"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="329.4121" style="stroke: #000000; stroke-width: 2.0;" width="779" x="23" y="847.7363"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="89" x2="89" y1="116.2871" y2="1201.1484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="443.5" x2="443.5" y1="116.2871" y2="1201.1484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="728" x2="728" y1="116.2871" y2="1201.1484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="933.5" x2="933.5" y1="116.2871" y2="1201.1484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1041.5" x2="1041.5" y1="116.2871" y2="1201.1484"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1167.5" x2="1167.5" y1="116.2871" y2="1201.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="33" y="113.334">HUB OPERATOR</text><ellipse cx="89.5" cy="83.7988" fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="77.5" x2="101.5" y1="97.7988" y2="97.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="33" y="1213.6836">HUB OPERATOR</text><ellipse cx="89.5" cy="1232.6367" fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="77.5" x2="101.5" y1="1246.6367" y2="1246.6367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="376.5" y="113.334">Central Service API</text><path d="M423,71.7988 L423,95.7988 M423,83.7988 L440,83.7988 " fill="none" filter="url(#f1mgdy2h7s1yal)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="452" cy="83.7988" fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="376.5" y="1213.6836">Central Service API</text><path d="M423,1220.6367 L423,1244.6367 M423,1232.6367 L440,1232.6367 " fill="none" filter="url(#f1mgdy2h7s1yal)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="452" cy="1232.6367" fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="665" y="113.334">Metadata Handler</text><ellipse cx="728.5" cy="83.7988" fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="724.5,71.7988,730.5,66.7988,728.5,71.7988,730.5,76.7988,724.5,71.7988" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="665" y="1213.6836">Metadata Handler</text><ellipse cx="728.5" cy="1232.6367" fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="724.5,1220.6367,730.5,1215.6367,728.5,1220.6367,730.5,1225.6367,724.5,1220.6367" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="885.5" y="113.334">Central Store</text><path d="M915.5,63.7988 C915.5,53.7988 933.5,53.7988 933.5,53.7988 C933.5,53.7988 951.5,53.7988 951.5,63.7988 L951.5,89.7988 C951.5,99.7988 933.5,99.7988 933.5,99.7988 C933.5,99.7988 915.5,99.7988 915.5,89.7988 L915.5,63.7988 " fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M915.5,63.7988 C915.5,73.7988 933.5,73.7988 933.5,73.7988 C933.5,73.7988 951.5,73.7988 951.5,63.7988 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="885.5" y="1213.6836">Central Store</text><path d="M915.5,1226.6367 C915.5,1216.6367 933.5,1216.6367 933.5,1216.6367 C933.5,1216.6367 951.5,1216.6367 951.5,1226.6367 L951.5,1252.6367 C951.5,1262.6367 933.5,1262.6367 933.5,1262.6367 C933.5,1262.6367 915.5,1262.6367 915.5,1252.6367 L915.5,1226.6367 " fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M915.5,1226.6367 C915.5,1236.6367 933.5,1236.6367 933.5,1236.6367 C933.5,1236.6367 951.5,1236.6367 951.5,1226.6367 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="995.5" y="76.7988"/><rect fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="991.5" y="80.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="998.5" y="101.334">Kafka Store</text><rect fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="995.5" y="1200.1484"/><rect fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="991.5" y="1204.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="998.5" y="1224.6836">Kafka Store</text><rect fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="1105.5" y="76.7988"/><rect fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="1101.5" y="80.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="1108.5" y="101.334">Logging Sidecar</text><rect fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="1105.5" y="1200.1484"/><rect fill="#FEFECE" filter="url(#f1mgdy2h7s1yal)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="1101.5" y="1204.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="1108.5" y="1224.6836">Logging Sidecar</text><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="699.4492" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="84.5" y="126.2871"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="653.8281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="438.5" y="171.9082"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="341.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="723.5" y="201.2188"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="928.5" y="342.7715"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1036.5" y="401.3926"/><rect fill="#FFFFFF" filter="url(#f1mgdy2h7s1yal)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1162.5" y="460.0137"/><path d="M13,133.2871 L234,133.2871 L234,140.2871 L224,150.2871 L13,150.2871 L13,133.2871 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1050.8613" style="stroke: #000000; stroke-width: 2.0;" width="1230.5" x="13" y="133.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="28" y="146.8555">Get Detailed Health Check</text><polygon fill="#A80036" points="426.5,167.9082,436.5,171.9082,426.5,175.9082,430.5,171.9082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="94.5" x2="432.5" y1="171.9082" y2="171.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="101.5" y="167.166">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="312" x="114.5" y="167.166">Request to getHealth - GET /health?detailed=true</text><polygon fill="#A80036" points="711.5,197.2188,721.5,201.2188,711.5,205.2188,715.5,201.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="448.5" x2="717.5" y1="201.2188" y2="201.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="455.5" y="196.4766">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="468.5" y="196.4766">Fetch health status for all sub services</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="733.5" x2="775.5" y1="230.5293" y2="230.5293"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="775.5" x2="775.5" y1="230.5293" y2="243.5293"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="734.5" x2="775.5" y1="243.5293" y2="243.5293"/><polygon fill="#A80036" points="744.5,239.5293,734.5,243.5293,744.5,247.5293,740.5,243.5293" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="740.5" y="225.7871">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="753.5" y="225.7871">Fetch Service Metadata</text><path d="M738,256.5293 L738,311.5293 L895,311.5293 L895,266.5293 L885,256.5293 L738,256.5293 " fill="#FFFF00" filter="url(#f1mgdy2h7s1yal)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M885,256.5293 L885,266.5293 L895,266.5293 L885,256.5293 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="744" y="274.0977">- versionNumber</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="744" y="289.4082">- uptime</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="744" y="304.7188">- time service started</text><polygon fill="#A80036" points="916.5,338.7715,926.5,342.7715,916.5,346.7715,920.5,342.7715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="733.5" x2="922.5" y1="342.7715" y2="342.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="740.5" y="338.0293">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="753.5" y="338.0293">Check connection status</text><polygon fill="#A80036" points="744.5,368.082,734.5,372.082,744.5,376.082,740.5,372.082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="738.5" x2="932.5" y1="372.082" y2="372.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="750.5" y="367.3398">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="763.5" y="367.3398">Report connection status</text><polygon fill="#A80036" points="1024.5,397.3926,1034.5,401.3926,1024.5,405.3926,1028.5,401.3926" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="733.5" x2="1030.5" y1="401.3926" y2="401.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="740.5" y="396.6504">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="753.5" y="396.6504">Check connection status</text><polygon fill="#A80036" points="744.5,426.7031,734.5,430.7031,744.5,434.7031,740.5,430.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="738.5" x2="1040.5" y1="430.7031" y2="430.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="750.5" y="425.9609">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="763.5" y="425.9609">Report connection status</text><polygon fill="#A80036" points="1150.5,456.0137,1160.5,460.0137,1150.5,464.0137,1154.5,460.0137" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="733.5" x2="1156.5" y1="460.0137" y2="460.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="740.5" y="455.2715">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="753.5" y="455.2715">Check connection status</text><polygon fill="#A80036" points="744.5,485.3242,734.5,489.3242,744.5,493.3242,740.5,489.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="738.5" x2="1166.5" y1="489.3242" y2="489.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="750.5" y="484.582">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="763.5" y="484.582">Report connection status</text><path d="M23,504.3242 L85,504.3242 L85,511.3242 L75,521.3242 L23,521.3242 L23,504.3242 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="329.4121" style="stroke: #000000; stroke-width: 2.0;" width="779" x="23" y="504.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="517.8926">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="100" y="516.959">[Validate Status (success)]</text><polygon fill="#A80036" points="459.5,538.9453,449.5,542.9453,459.5,546.9453,455.5,542.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="453.5" x2="727.5" y1="542.9453" y2="542.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="465.5" y="538.2031">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="487.5" y="538.2031">Return status response</text><path d="M99,555.9453 L99,794.9453 L384,794.9453 L384,565.9453 L374,555.9453 L99,555.9453 " fill="#FFFF00" filter="url(#f1mgdy2h7s1yal)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M374,555.9453 L374,565.9453 L384,565.9453 L374,555.9453 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="124" x="105" y="573.5137">Example Message:</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="105" y="588.3228">200 Success</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="105" y="603.957">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="113" y="619.2676">"status": "UP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="113" y="634.5781">"uptime": 1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="113" y="649.8887">"started": "2019-05-31T05:09:25.409Z",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="113" y="665.1992">"versionNumber": "5.2.3",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="113" y="680.5098">"services": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="121" y="695.8203">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="129" y="711.1309">"name": "kafka",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="129" y="726.4414">"status": "UP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="129" y="741.752">"latency": 10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="121" y="757.0625">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="113" y="772.373">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="105" y="787.6836">}</text><polygon fill="#A80036" points="100.5,821.7363,90.5,825.7363,100.5,829.7363,96.5,825.7363" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="94.5" x2="442.5" y1="825.7363" y2="825.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="106.5" y="820.9941">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="128.5" y="820.9941">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="173.5" y="820.9941">HTTP Status:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="261.5" y="820.9941">200</text><path d="M23,847.7363 L85,847.7363 L85,854.7363 L75,864.7363 L23,864.7363 L23,847.7363 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="329.4121" style="stroke: #000000; stroke-width: 2.0;" width="779" x="23" y="847.7363"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="861.3047">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="183" x="100" y="860.3711">[Validate Status (service failure)]</text><polygon fill="#A80036" points="454.5,882.3574,444.5,886.3574,454.5,890.3574,450.5,886.3574" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="448.5" x2="727.5" y1="886.3574" y2="886.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="460.5" y="881.6152">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="482.5" y="881.6152">Return status response</text><path d="M94,899.3574 L94,1138.3574 L379,1138.3574 L379,909.3574 L369,899.3574 L94,899.3574 " fill="#FFFF00" filter="url(#f1mgdy2h7s1yal)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M369,899.3574 L369,909.3574 L379,909.3574 L369,899.3574 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="124" x="100" y="916.9258">Example Message:</text><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="100" y="931.7349">502 Bad Gateway</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="100" y="947.3691">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="108" y="962.6797">"status": "DOWN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="108" y="977.9902">"uptime": 1234,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="108" y="993.3008">"started": "2019-05-31T05:09:25.409Z",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="108" y="1008.6113">"versionNumber": "5.2.3",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="108" y="1023.9219">"services": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="116" y="1039.2324">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="124" y="1054.543">"name": "kafka",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="124" y="1069.8535">"status": "DOWN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="124" y="1085.1641">"latency": 1111111</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="116" y="1100.4746">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="108" y="1115.7852">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="100" y="1131.0957">}</text><polygon fill="#A80036" points="100.5,1165.1484,90.5,1169.1484,100.5,1173.1484,96.5,1169.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="94.5" x2="442.5" y1="1169.1484" y2="1169.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="106.5" y="1164.4063">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="128.5" y="1164.4063">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="173.5" y="1164.4063">HTTP Status:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="261.5" y="1164.4063">502</text><!--
@startuml
title 1.0.0 Get Health Check

autonumber



entity "HUB OPERATOR" as OPERATOR
boundary "Central Service API" as CSAPI
control "Metadata Handler" as METADATA_HANDLER
entity "Central Service API" as CSAPI
database "Central Store" as DB
collections "Kafka Store" as KAFKA
collections "Logging Sidecar" as SIDECAR

box "Central Services" #LightYellow
participant CSAPI
participant METADATA_HANDLER
participant DB
participant KAFKA
participant SIDECAR
end box


activate OPERATOR
group Get Detailed Health Check
  OPERATOR -> CSAPI: Request to getHealth - GET /health?detailed=true
  activate CSAPI

  CSAPI -> METADATA_HANDLER: Fetch health status for all sub services
  activate METADATA_HANDLER

  METADATA_HANDLER -> METADATA_HANDLER: Fetch Service Metadata
  note right of METADATA_HANDLER #yellow
      - versionNumber
      - uptime
      - time service started
    end note


  METADATA_HANDLER -> DB: Check connection status
  activate DB
  DB - -> METADATA_HANDLER: Report connection status 
  deactivate DB


  METADATA_HANDLER -> KAFKA: Check connection status
  activate KAFKA
  KAFKA - -> METADATA_HANDLER: Report connection status 
  deactivate KAFKA


  METADATA_HANDLER -> SIDECAR: Check connection status
  activate SIDECAR
  SIDECAR - -> METADATA_HANDLER: Report connection status 
  deactivate SIDECAR

  alt Validate Status (success)
    METADATA_HANDLER - -> CSAPI: Return status response
    deactivate METADATA_HANDLER
    note right of OPERATOR #yellow
      **Example Message:**
      ""200 Success""
      {
        "status": "UP",
        "uptime": 1234,
        "started": "2019-05-31T05:09:25.409Z",
        "versionNumber": "5.2.3",
        "services": [
          {
            "name": "kafka",
            "status": "UP",
            "latency": 10
          }
        ]
      }
    end note

    CSAPI - -> OPERATOR: Return <color #000000><b>HTTP Status:</b> 200</color>

    deactivate CSAPI
    deactivate OPERATOR
  end

  alt Validate Status (service failure)
    METADATA_HANDLER - -> CSAPI: Return status response
    deactivate METADATA_HANDLER
    note right of OPERATOR #yellow
      **Example Message:**
      ""502 Bad Gateway""
      {
        "status": "DOWN",
        "uptime": 1234,
        "started": "2019-05-31T05:09:25.409Z",
        "versionNumber": "5.2.3",
        "services": [
          {
            "name": "kafka",
            "status": "DOWN",
            "latency": 1111111
          }
        ]
      }
    end note

    CSAPI - -> OPERATOR: Return <color #FF0000><b>HTTP Status:</b> 502</color>

    deactivate CSAPI
    deactivate OPERATOR


  end




end

@enduml

PlantUML version 1.2019.06(Sat May 25 01:10:25 PHT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>