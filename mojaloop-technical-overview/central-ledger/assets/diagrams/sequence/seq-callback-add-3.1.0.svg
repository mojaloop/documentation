<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1659px" preserveAspectRatio="none" style="width:1502px;height:1659px;" version="1.1" viewBox="0 0 1502 1659" width="1502px" zoomAndPan="magnify"><defs><filter height="300%" id="f69vfrtyfgtk8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="271" x="616.5" y="23.5352">3.1.0 Add Participant Callback Details</text><rect fill="#FFFFE0" height="1613.5879" style="stroke: #A80036; stroke-width: 1.0;" width="923" x="526.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="934" y="47.0566">Central Services</text><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="1417.6113" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="94.5" y="126.9766"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="1371.9902" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592.5" y="172.5977"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="641.4531" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="856.5" y="363.7031"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="465.8105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="856.5" y="1034.4668"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="121.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1177.5" y="408.3242"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="253.1055" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1177.5" y="656.1191"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="62.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1392.5" y="437.6348"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1392.5" y="685.4297"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="1410.6113" style="stroke: #000000; stroke-width: 2.0;" width="1478" x="13" y="133.9766"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="950.7109" style="stroke: #000000; stroke-width: 2.0;" width="1458" x="23" y="586.877"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="319.9922" style="stroke: #000000; stroke-width: 2.0;" width="1092" x="33" y="966.5352"/><rect fill="#FFFFFF" height="244.0605" style="stroke: none; stroke-width: 1.0;" width="1092" x="33" y="1042.4668"/><rect fill="#FFFFFF" height="244.0605" style="stroke: none; stroke-width: 1.0;" width="1458" x="23" y="1293.5273"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="99" x2="99" y1="116.9766" y2="1561.5879"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="597.5" x2="597.5" y1="116.9766" y2="1561.5879"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="861" x2="861" y1="116.9766" y2="1561.5879"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1182.5" x2="1182.5" y1="116.9766" y2="1561.5879"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1397.5" x2="1397.5" y1="116.9766" y2="1561.5879"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="43" y="114.0234">HUB OPERATOR</text><ellipse cx="99.5" cy="43.4883" fill="#FEFECE" filter="url(#f69vfrtyfgtk8)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M99.5,51.4883 L99.5,78.4883 M86.5,59.4883 L112.5,59.4883 M99.5,78.4883 L86.5,93.4883 M99.5,78.4883 L112.5,93.4883 " fill="none" filter="url(#f69vfrtyfgtk8)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="43" y="1574.123">HUB OPERATOR</text><ellipse cx="99.5" cy="1587.0762" fill="#FEFECE" filter="url(#f69vfrtyfgtk8)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M99.5,1595.0762 L99.5,1622.0762 M86.5,1603.0762 L112.5,1603.0762 M99.5,1622.0762 L86.5,1637.0762 M99.5,1622.0762 L112.5,1637.0762 " fill="none" filter="url(#f69vfrtyfgtk8)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="530.5" y="114.0234">Central Service API</text><path d="M577,72.4883 L577,96.4883 M577,84.4883 L594,84.4883 " fill="none" filter="url(#f69vfrtyfgtk8)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="606" cy="84.4883" fill="#FEFECE" filter="url(#f69vfrtyfgtk8)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="530.5" y="1574.123">Central Service API</text><path d="M577,1581.0762 L577,1605.0762 M577,1593.0762 L594,1593.0762 " fill="none" filter="url(#f69vfrtyfgtk8)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="606" cy="1593.0762" fill="#FEFECE" filter="url(#f69vfrtyfgtk8)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="793" y="114.0234">Participant Handler</text><ellipse cx="861.5" cy="84.4883" fill="#FEFECE" filter="url(#f69vfrtyfgtk8)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="857.5,72.4883,863.5,67.4883,861.5,72.4883,863.5,77.4883,857.5,72.4883" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="793" y="1574.123">Participant Handler</text><ellipse cx="861.5" cy="1593.0762" fill="#FEFECE" filter="url(#f69vfrtyfgtk8)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="857.5,1581.0762,863.5,1576.0762,861.5,1581.0762,863.5,1586.0762,857.5,1581.0762" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1125.5" y="114.0234">Participant DAO</text><ellipse cx="1182.5" cy="84.4883" fill="#FEFECE" filter="url(#f69vfrtyfgtk8)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1170.5" x2="1194.5" y1="98.4883" y2="98.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1125.5" y="1574.123">Participant DAO</text><ellipse cx="1182.5" cy="1593.0762" fill="#FEFECE" filter="url(#f69vfrtyfgtk8)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1170.5" x2="1194.5" y1="1607.0762" y2="1607.0762"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1349.5" y="114.0234">Central Store</text><path d="M1379.5,64.4883 C1379.5,54.4883 1397.5,54.4883 1397.5,54.4883 C1397.5,54.4883 1415.5,54.4883 1415.5,64.4883 L1415.5,90.4883 C1415.5,100.4883 1397.5,100.4883 1397.5,100.4883 C1397.5,100.4883 1379.5,100.4883 1379.5,90.4883 L1379.5,64.4883 " fill="#FEFECE" filter="url(#f69vfrtyfgtk8)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1379.5,64.4883 C1379.5,74.4883 1397.5,74.4883 1397.5,74.4883 C1397.5,74.4883 1415.5,74.4883 1415.5,64.4883 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1349.5" y="1574.123">Central Store</text><path d="M1379.5,1587.0762 C1379.5,1577.0762 1397.5,1577.0762 1397.5,1577.0762 C1397.5,1577.0762 1415.5,1577.0762 1415.5,1587.0762 L1415.5,1613.0762 C1415.5,1623.0762 1397.5,1623.0762 1397.5,1623.0762 C1397.5,1623.0762 1379.5,1623.0762 1379.5,1613.0762 L1379.5,1587.0762 " fill="#FEFECE" filter="url(#f69vfrtyfgtk8)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1379.5,1587.0762 C1379.5,1597.0762 1397.5,1597.0762 1397.5,1597.0762 C1397.5,1597.0762 1415.5,1597.0762 1415.5,1587.0762 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="1417.6113" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="94.5" y="126.9766"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="1371.9902" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="592.5" y="172.5977"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="641.4531" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="856.5" y="363.7031"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="465.8105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="856.5" y="1034.4668"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="121.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1177.5" y="408.3242"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="253.1055" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1177.5" y="656.1191"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="62.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1392.5" y="437.6348"/><rect fill="#FFFFFF" filter="url(#f69vfrtyfgtk8)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1392.5" y="685.4297"/><path d="M13,133.9766 L197,133.9766 L197,140.9766 L187,150.9766 L13,150.9766 L13,133.9766 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1410.6113" style="stroke: #000000; stroke-width: 2.0;" width="1478" x="13" y="133.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="139" x="28" y="147.5449">Add Callback Details</text><polygon fill="#A80036" points="580.5,168.5977,590.5,172.5977,580.5,176.5977,584.5,172.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="104.5" x2="586.5" y1="172.5977" y2="172.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="111.5" y="167.8555">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="456" x="124.5" y="167.8555">Request to add callback details - POST - /paticipants/{name}/endpoints</text><path d="M109,185.5977 L109,332.5977 L329,332.5977 L329,195.5977 L319,185.5977 L109,185.5977 " fill="#FFFF00" filter="url(#f69vfrtyfgtk8)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M319,185.5977 L319,195.5977 L329,195.5977 L319,185.5977 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="115" y="203.166">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="115" y="218.4766">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="131" y="233.7871">payload: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="147" y="249.0977">endpoint: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="163" y="264.4082">type: &lt;typeValue&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="163" y="279.7188">value: &lt;endpointValue&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="143" y="295.0293">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="131" y="310.3398">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="115" y="325.6504">}</text><polygon fill="#A80036" points="844.5,359.7031,854.5,363.7031,844.5,367.7031,848.5,363.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="602.5" x2="850.5" y1="363.7031" y2="363.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="609.5" y="358.9609">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="622.5" y="358.9609">Add Callback details for Participant</text><polygon fill="#A80036" points="1165.5,404.3242,1175.5,408.3242,1165.5,412.3242,1169.5,408.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="866.5" x2="1171.5" y1="408.3242" y2="408.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="873.5" y="395.9268">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="886.5" y="388.2715">Fetch Participant</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="886.5" y="403.582">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="963.5" y="403.582">3200</text><polygon fill="#A80036" points="1380.5,433.6348,1390.5,437.6348,1380.5,441.6348,1384.5,437.6348" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1187.5" x2="1386.5" y1="437.6348" y2="437.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1194.5" y="432.8926">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="1207.5" y="432.8926">Fetch Participant</text><polygon fill="#FFFFE0" filter="url(#f69vfrtyfgtk8)" points="1361,450.6348,1433,450.6348,1443,461.6348,1433,473.6348,1361,473.6348,1351,461.6348,1361,450.6348" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1363" y="467.2031">participant</text><polygon fill="#A80036" points="1198.5,496.2559,1188.5,500.2559,1198.5,504.2559,1194.5,500.2559" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1192.5" x2="1396.5" y1="500.2559" y2="500.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1204.5" y="495.5137">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="1217.5" y="495.5137">Retrieved Participant</text><polygon fill="#A80036" points="877.5,525.5664,867.5,529.5664,877.5,533.5664,873.5,529.5664" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="871.5" x2="1181.5" y1="529.5664" y2="529.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="883.5" y="524.8242">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="896.5" y="524.8242">Return Participant</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="866.5" x2="908.5" y1="558.877" y2="558.877"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="908.5" x2="908.5" y1="558.877" y2="571.877"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="867.5" x2="908.5" y1="571.877" y2="571.877"/><polygon fill="#A80036" points="877.5,567.877,867.5,571.877,877.5,575.877,873.5,571.877" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="873.5" y="554.1348">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="886.5" y="554.1348">Validate DFSP</text><path d="M23,586.877 L85,586.877 L85,593.877 L75,603.877 L23,603.877 L23,586.877 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="950.7109" style="stroke: #000000; stroke-width: 2.0;" width="1458" x="23" y="586.877"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="600.4453">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="172" x="100" y="599.5117">[Validate participant (success)]</text><polygon fill="#A80036" points="1165.5,652.1191,1175.5,656.1191,1165.5,660.1191,1169.5,656.1191" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="866.5" x2="1171.5" y1="656.1191" y2="656.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="873.5" y="636.0664">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="886.5" y="620.7559">Add Callback details for Participant</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="886.5" y="636.0664">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="963.5" y="636.0664">2003/</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="1002.5" y="636.0664">Msg:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="1037.5" y="636.0664">Service unavailable</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1164.5" y="636.0664"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="886.5" y="651.377">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="963.5" y="651.377">2001/</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="1002.5" y="651.377">Msg:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="1037.5" y="651.377">Internal Server Error</text><polygon fill="#A80036" points="1380.5,681.4297,1390.5,685.4297,1380.5,689.4297,1384.5,685.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1187.5" x2="1386.5" y1="685.4297" y2="685.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1194.5" y="680.6875">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="1207.5" y="680.6875">Persist Participant Endpoint</text><polygon fill="#FFFFE0" filter="url(#f69vfrtyfgtk8)" points="1333,728.4297,1461,728.4297,1471,739.4297,1461,751.4297,1333,751.4297,1323,739.4297,1333,728.4297" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="1335" y="744.998">participantEndpoint</text><path d="M1192,761.7402 L1192,878.7402 L1434,878.7402 L1434,771.7402 L1424,761.7402 L1192,761.7402 " fill="#D3D3D3" filter="url(#f69vfrtyfgtk8)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1424,761.7402 L1424,771.7402 L1434,771.7402 L1424,761.7402 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="1198" y="779.3086">If (endpoint exists &amp;&amp; isActive = 1)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="1214" y="794.6191">oldEndpoint.isActive = 0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="1214" y="809.9297">insert endpoint</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="25" x="1198" y="825.2402">Else</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="1214" y="840.5508">insert endpoint</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="1198" y="855.8613">End</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1214" y="871.1719"/><polygon fill="#A80036" points="877.5,905.2246,867.5,909.2246,877.5,913.2246,873.5,909.2246" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="871.5" x2="1181.5" y1="909.2246" y2="909.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="883.5" y="904.4824">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="905.5" y="904.4824">Return status</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="866.5" x2="908.5" y1="938.5352" y2="938.5352"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="908.5" x2="908.5" y1="938.5352" y2="951.5352"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="867.5" x2="908.5" y1="951.5352" y2="951.5352"/><polygon fill="#A80036" points="877.5,947.5352,867.5,951.5352,877.5,955.5352,873.5,951.5352" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="873.5" y="933.793">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="895.5" y="933.793">Validate status</text><path d="M33,966.5352 L95,966.5352 L95,973.5352 L85,983.5352 L33,983.5352 L33,966.5352 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="319.9922" style="stroke: #000000; stroke-width: 2.0;" width="1092" x="33" y="966.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="48" y="980.1035">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="110" y="979.1699">[Validate status (success)]</text><polygon fill="#A80036" points="613.5,1001.1563,603.5,1005.1563,613.5,1009.1563,609.5,1005.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607.5" x2="860.5" y1="1005.1563" y2="1005.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="619.5" y="1000.4141">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="641.5" y="1000.4141">Return Status Code 201</text><polygon fill="#A80036" points="115.5,1030.4668,105.5,1034.4668,115.5,1038.4668,111.5,1034.4668" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="109.5" x2="591.5" y1="1034.4668" y2="1034.4668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="121.5" y="1029.7246">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="143.5" y="1029.7246">Return Status Code 201</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="33" x2="1125" y1="1043.4668" y2="1043.4668"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="182" x="38" y="1054.1016">[Validate status (failure) / Error]</text><path d="M871,1062.4219 L871,1087.4219 L926,1087.4219 L926,1072.4219 L916,1062.4219 L871,1062.4219 " fill="#FF0000" filter="url(#f69vfrtyfgtk8)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M916,1062.4219 L916,1072.4219 L926,1072.4219 L916,1062.4219 " fill="#FF0000" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="877" y="1079.9902">Error!</text><path d="M871,1101.7324 L871,1218.7324 L1111,1218.7324 L1111,1111.7324 L1101,1101.7324 L871,1101.7324 " fill="#FFFF00" filter="url(#f69vfrtyfgtk8)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1101,1101.7324 L1101,1111.7324 L1111,1111.7324 L1101,1101.7324 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="877" y="1119.3008">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="893" y="1134.6113">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="909" y="1149.9219">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="925" y="1165.2324">"errorCode": &lt;Error Code&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="925" y="1180.543">"errorDescription": &lt;Msg&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="909" y="1195.8535">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="893" y="1211.1641">}</text><polygon fill="#A80036" points="613.5,1245.2168,603.5,1249.2168,613.5,1253.2168,609.5,1249.2168" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607.5" x2="855.5" y1="1249.2168" y2="1249.2168"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="619.5" y="1244.4746">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="641.5" y="1244.4746">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="686.5" y="1244.4746">Error code</text><polygon fill="#A80036" points="115.5,1274.5273,105.5,1278.5273,115.5,1282.5273,111.5,1278.5273" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="109.5" x2="591.5" y1="1278.5273" y2="1278.5273"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="121.5" y="1273.7852">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="143.5" y="1273.7852">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70" x="188.5" y="1273.7852">Error code</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1481" y1="1294.5273" y2="1294.5273"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="28" y="1305.1621">[Validate participant (failure)]</text><path d="M871,1313.4824 L871,1338.4824 L1003,1338.4824 L1003,1323.4824 L993,1313.4824 L871,1313.4824 " fill="#FF0000" filter="url(#f69vfrtyfgtk8)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M993,1313.4824 L993,1323.4824 L1003,1323.4824 L993,1313.4824 " fill="#FF0000" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="877" y="1331.0508">Validation failure!</text><path d="M871,1352.793 L871,1469.793 L1182,1469.793 L1182,1362.793 L1172,1352.793 L871,1352.793 " fill="#FFFF00" filter="url(#f69vfrtyfgtk8)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1172,1352.793 L1172,1362.793 L1182,1362.793 L1172,1352.793 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="877" y="1370.3613">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="893" y="1385.6719">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="909" y="1400.9824">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="925" y="1416.293">"errorCode": 3200,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="925" y="1431.6035">"errorDescription": "FSP id Not Found",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="909" y="1446.9141">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="893" y="1462.2246">}</text><polygon fill="#A80036" points="613.5,1496.2773,603.5,1500.2773,613.5,1504.2773,609.5,1500.2773" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="607.5" x2="860.5" y1="1500.2773" y2="1500.2773"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="619.5" y="1495.5352">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="641.5" y="1495.5352">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="686.5" y="1495.5352">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="763.5" y="1495.5352">3200</text><polygon fill="#A80036" points="115.5,1525.5879,105.5,1529.5879,115.5,1533.5879,111.5,1529.5879" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="109.5" x2="591.5" y1="1529.5879" y2="1529.5879"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="121.5" y="1524.8457">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="143.5" y="1524.8457">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="188.5" y="1524.8457">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="265.5" y="1524.8457">3200</text><!--
@startuml
title 3.1.0 Add Participant Callback Details

autonumber

actor "HUB OPERATOR" as OPERATOR
boundary "Central Service API" as CSAPI
control "Participant Handler" as PARTICIPANT_HANDLER
entity "Central Service API" as CSAPI
entity "Participant DAO" as PARTICIPANT_DAO
database "Central Store" as DB

box "Central Services" #LightYellow
participant CSAPI
participant PARTICIPANT_HANDLER
participant PARTICIPANT_DAO
participant DB
end box


activate OPERATOR
group Add Callback Details
    OPERATOR -> CSAPI: Request to add callback details - POST - /paticipants/{name}/endpoints
    note right of OPERATOR #yellow
        Message:
        {
            payload: {
                endpoint: {
                    type: <typeValue>,
                    value: <endpointValue>
               }
            }
        }
    end note

    activate CSAPI
    CSAPI -> PARTICIPANT_HANDLER: Add Callback details for Participant
    activate PARTICIPANT_HANDLER
    PARTICIPANT_HANDLER ->PARTICIPANT_DAO: Fetch Participant \n<color #FF0000><b>Error code:</b> 3200</color>

    activate PARTICIPANT_DAO
    PARTICIPANT_DAO -> DB: Fetch Participant
    activate DB
    hnote over DB #lightyellow
        participant
    end note
    DB - -> PARTICIPANT_DAO: Retrieved Participant
    deactivate DB
    PARTICIPANT_DAO - -> PARTICIPANT_HANDLER: Return Participant
    deactivate PARTICIPANT_DAO
    PARTICIPANT_HANDLER ->PARTICIPANT_HANDLER: Validate DFSP
    alt Validate participant (success)
        PARTICIPANT_HANDLER ->PARTICIPANT_DAO: Add Callback details for Participant \n<color #FF0000><b>Error code:</b> 2003/<b>Msg:</b> Service unavailable </color> \n<color #FF0000><b>Error code:</b> 2001/<b>Msg:</b> Internal Server Error </color>
        activate PARTICIPANT_DAO
        PARTICIPANT_DAO -> DB: Persist Participant Endpoint
        activate DB
        hnote over DB #lightyellow
            participantEndpoint
        end note
        deactivate DB
        note right of PARTICIPANT_DAO #lightgrey
            If (endpoint exists && isActive = 1)
                oldEndpoint.isActive = 0
                insert endpoint
            Else
                insert endpoint
            End
                
        end note
        PARTICIPANT_DAO - -> PARTICIPANT_HANDLER: Return status
        deactivate PARTICIPANT_DAO
        PARTICIPANT_HANDLER -> PARTICIPANT_HANDLER: Validate status
        alt Validate status (success)
            PARTICIPANT_HANDLER - ->CSAPI: Return Status Code 201
            deactivate PARTICIPANT_HANDLER
            CSAPI - ->OPERATOR: Return Status Code 201
        else Validate status (failure) / Error
            note right of PARTICIPANT_HANDLER #red: Error!
            activate PARTICIPANT_HANDLER
            note right of PARTICIPANT_HANDLER #yellow
            Message:
                {
                    "errorInformation": {
                        "errorCode": <Error Code>,
                        "errorDescription": <Msg>,
                    }
                }
            end note
            PARTICIPANT_HANDLER - ->CSAPI: Return <color #FF0000><b>Error code</b></color>
            CSAPI - ->OPERATOR: Return <color #FF0000><b>Error code</b></color>
            
        end

    else Validate participant (failure)
        note right of PARTICIPANT_HANDLER #red: Validation failure!
        activate PARTICIPANT_HANDLER
        note right of PARTICIPANT_HANDLER #yellow
            Message:
                {
                    "errorInformation": {
                        "errorCode": 3200,
                        "errorDescription": "FSP id Not Found",
                    }
                }
        end note
        PARTICIPANT_HANDLER - ->CSAPI: Return <color #FF0000><b>Error code:</b> 3200</color>
        deactivate PARTICIPANT_HANDLER
        CSAPI - ->OPERATOR: Return <color #FF0000><b>Error code:</b> 3200</color>

    end
    deactivate CSAPI
    deactivate OPERATOR
end
@enduml

PlantUML version 1.2019.06(Sat May 25 01:10:25 PHT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>