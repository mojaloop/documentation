<svg xmlns="http://www.w3.org/2000/svg" height="3285" preserveAspectRatio="none" style="width:1682px;height:3285px" width="1682">
  <defs>
    <filter height="300%" id="a" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2"/>
      <feColorMatrix in="blurOut" result="blurOut2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3"/>
    </filter>
  </defs>
  <text font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="616" x="531" y="28.708">
    2.2.1. Fulfil Handler Consume (Success) individual transfers from Bulk
  </text>
  <path fill="#FFFFE0" stroke="#a80036" d="M16 40.953h1585v3238.344H16z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="753" y="53.02">
    Central Service
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M62.5 177.648h10v30h-10zM361.5 132.383h10V3204h-10zM879.5 2549.211h10v30h-10zM1094.5 3159h10v30h-10zM1326 1207.641h10v120.531h-10zM1326 1535.234h10v150.797h-10zM1326 1768.43h10v136.531h-10zM1326 2004.492h10v121.398h-10zM1544 1236.773h10v62.266h-10zM1544 1564.367h10v62.266h-10zM1544 1797.563h10v30h-10zM1544 2033.625h10v30h-10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M10 139.383h1658v2565.031H10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M300 222.648h527.5v105.531H300z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M310 246.781h507.5v74.398H310zM310 342.18h723v106.664H310zM310 462.844h973v142.664H310zM310 619.508h1297v160.797H310zM290 794.305h1013v345.938H290z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M300 818.438h993v246.063H300z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M310 884.703h973V1057.5H310z"/>
  <path fill="#FFF" d="M310 1016.367h973v41.133H310zM290 1071.5h1013v53.938H290zM290 1125.438h1013v14.805H290z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M290 1154.242h1368v1543.172H290z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M300 1457.703h1339v243.328H300z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M310 1481.836h1319v212.195H310zM310 1715.031h1317v197.93H310zM300 1926.961h1348v763.453H300z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M310 1951.094h1328v182.797H310z"/>
  <path fill="#FFF" d="M300 2587.211h1348v103.203H300z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M310 2609.016h383.5v74.398H310zM310 2718.414h866V3197H310z"/>
  <path stroke="#a80036" stroke-dasharray="5,5" d="M67 122.383V3214M366 122.383V3214M884 122.383V3214M992 122.383V3214M1099 122.383V3214M1224 122.383V3214M1331 122.383V3214M1549 122.383V3214"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M24 83.086h87v30.297H24z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M20 87.086h87v30.297H20z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="27" y="107.081">
    Fulfil-Topic
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M24 3213h87v30.297H24z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M20 3217h87v30.297H20z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="27" y="3236.995">
    Fulfil-Topic
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="320" y="119.081">
    Fulfil Handler
  </text>
  <circle cx="366.5" cy="90.086" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M362.5 78.086l6-5-2 5 2 5-6-5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="320" y="3225.995">
    Fulfil Handler
  </text>
  <circle cx="366.5" cy="3245.297" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M362.5 3233.297l6-5-2 5 2 5-6-5z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M821 66.789h127v46.594H821z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M817 70.789h127v46.594H817z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="861" y="90.784">
    topic-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="824" y="107.081">
    transfer-position
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M821 3213h127v46.594H821z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M817 3217h127v46.594H817z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="861" y="3236.995">
    topic-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="824" y="3253.292">
    transfer-position
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M966 66.789h53v46.594h-53z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M962 70.789h53v46.594h-53z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="969" y="90.784">
    topic-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="969" y="107.081">
    event
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M966 3213h53v46.594h-53z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M962 3217h53v46.594h-53z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="969" y="3236.995">
    topic-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="969" y="3253.292">
    event
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1037 66.789h125v46.594h-125z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1033 70.789h125v46.594h-125z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="1076" y="90.784">
    topic-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="1040" y="107.081">
    bulk-processing
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1037 3213h125v46.594h-125z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1033 3217h125v46.594h-125z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="1076" y="3236.995">
    topic-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="1040" y="3253.292">
    bulk-processing
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1180 66.789h89v46.594h-89z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1176 70.789h89v46.594h-89z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="1201" y="90.784">
    topic-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="1183" y="107.081">
    notification
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1180 3213h89v46.594h-89z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1176 3217h89v46.594h-89z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="1201" y="3236.995">
    topic-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="1183" y="3253.292">
    notification
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1283" y="119.081">
    Position DAO
  </text>
  <circle cx="1331" cy="90.086" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path stroke="#a80036" stroke-width="2" d="M1319 104.086h24"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1283" y="3225.995">
    Position DAO
  </text>
  <circle cx="1331" cy="3245.297" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path stroke="#a80036" stroke-width="2" d="M1319 3259.297h24"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1501" y="119.081">
    Central Store
  </text>
  <path d="M1531 70.086c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10v-26" fill="#FEFECE" filter="url(#a)" stroke="#000" stroke-width="1.5"/>
  <path d="M1531 70.086c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#000" stroke-width="1.5"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1501" y="3225.995">
    Central Store
  </text>
  <path d="M1531 3239.297c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10v-26" fill="#FEFECE" filter="url(#a)" stroke="#000" stroke-width="1.5"/>
  <path d="M1531 3239.297c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#000" stroke-width="1.5"/>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M62.5 177.648h10v30h-10zM361.5 132.383h10V3204h-10zM879.5 2549.211h10v30h-10zM1094.5 3159h10v30h-10zM1326 1207.641h10v120.531h-10zM1326 1535.234h10v150.797h-10zM1326 1768.43h10v136.531h-10zM1326 2004.492h10v121.398h-10zM1544 1236.773h10v62.266h-10zM1544 1564.367h10v62.266h-10zM1544 1797.563h10v30h-10zM1544 2033.625h10v30h-10z"/>
  <path d="M10 139.383h293v7l-10 10H10v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M10 139.383h1658v2565.031H10z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="248" x="25" y="152.45">
    Fulfil Handler Consume (Success)
  </text>
  <path fill="#A80036" stroke="#a80036" d="M83.5 173.648l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M77.5 177.648h283"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="89.5" y="172.583">
    1
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="257" x="102.5" y="172.583">
    Consume Fulfil event message for Payer
  </text>
  <path d="M300 222.648h88v7l-10 10h-78v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M300 222.648h527.5v105.531H300z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="315" y="235.715">
    break
  </text>
  <path d="M310 246.781h152v7l-10 10H310v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M310 246.781h507.5v74.398H310z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="325" y="259.848">
    Validate Event
  </text>
  <path stroke="#a80036" d="M371.5 300.18h42M413.5 300.18v13M372.5 313.18h41"/>
  <path fill="#A80036" stroke="#a80036" d="M382.5 309.18l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="378.5" y="287.547">
    2
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="414" x="391.5" y="279.981">
    Validate event - Rule: type == &apos;fulfil&apos; &amp;&amp; action == &apos;bulk-commit&apos;
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="391.5" y="295.114">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="485.5" y="295.114">
    2001
  </text>
  <path d="M310 342.18h232v7l-10 10H310v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M310 342.18h723v106.664H310z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187" x="325" y="355.247">
    Persist Event Information
  </text>
  <path fill="#A80036" stroke="#a80036" d="M980.5 376.445l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M371.5 380.445h615"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="378.5" y="375.379">
    3
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="391.5" y="375.379">
    Publish event information
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M317 388.445h705v55.398H317z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M317 388.445h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="330" y="402.512">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="594" y="421.512">
    Event Handler Consume
  </text>
  <path d="M310 462.844h240v7l-10 10H310v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M310 462.844h973v142.664H310z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="195" x="325" y="475.911">
    Validate FSPIOP-Signature
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M317 504.977h955v70.531H317z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M317 504.977h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="330" y="519.043">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="618" y="538.043">
    Validate message.content.headers.
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="846" y="538.043">
    FSPIOP-Signature
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="618" y="553.176">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="712" y="553.176">
    3105/3106
  </text>
  <path d="M310 619.508h231v7l-10 10H310v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M310 619.508h1297v160.797H310z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="186" x="325" y="632.575">
    Validate Duplicate Check
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1537 678.773l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M371.5 682.773H1543"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="378.5" y="677.707">
    4
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="391.5" y="677.707">
    Request Duplicate Check
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M317 690.773h1279v55.398H317z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M317 690.773h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="330" y="704.84">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="879" y="723.84">
    Request Duplicate Check
  </text>
  <path fill="#A80036" stroke="#a80036" d="M382.5 768.305l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M376.5 772.305H1548"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="388.5" y="767.239">
    5
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="408" x="401.5" y="767.239">
    Return { hasDuplicateId: Boolean, hasDuplicateHash: Boolean }
  </text>
  <path d="M290 794.305h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M290 794.305h1013v345.938H290z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="305" y="807.372">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="368" x="369" y="806.515">
    [hasDuplicateId == TRUE &amp;&amp; hasDuplicateHash == TRUE]
  </text>
  <path d="M300 818.438h88v7l-10 10h-78v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M300 818.438h993v246.063H300z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="315" y="831.504">
    break
  </text>
  <path stroke="#a80036" d="M371.5 856.703h42M413.5 856.703v13M372.5 869.703h41"/>
  <path fill="#A80036" stroke="#a80036" d="M382.5 865.703l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="378.5" y="851.637">
    6
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="312" x="391.5" y="851.637">
    stateRecord = await getTransferState(transferId)
  </text>
  <path d="M310 884.703h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M310 884.703h973V1057.5H310z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="325" y="897.77">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="337" x="389" y="896.914">
    [endStateList.includes(stateRecord.transferStateId)]
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M317 926.836h955v55.398H317z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M317 926.836h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="330" y="940.903">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="732.5" y="959.903">
    getTransfer callback
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1212.5 1004.367l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M371.5 1008.367h847"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="378.5" y="1003.301">
    7
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="391.5" y="1003.301">
    Produce message
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M310 1017.367h973"/>
  <path d="M376 1023.367v25h193v-15l-10-10H376" fill="#D3D3D3" filter="url(#a)" stroke="#a80036"/>
  <path d="M559 1023.367v10h10l-10-10" fill="#D3D3D3" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="382" y="1040.434">
    Ignore - resend in progress
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M290 1072.5h1013"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="374" x="295" y="1082.71">
    [hasDuplicateId == TRUE &amp;&amp; hasDuplicateHash == FALSE]
  </text>
  <path d="M376 1091.305v25h358v-15l-10-10H376" fill="#D3D3D3" filter="url(#a)" stroke="#a80036"/>
  <path d="M724 1091.305v10h10l-10-10" fill="#D3D3D3" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="337" x="382" y="1108.372">
    Validate Prepare Transfer (failure) - Modified Request
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M290 1126.438h1013"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="171" x="295" y="1136.648">
    [hasDuplicateId == FALSE]
  </text>
  <path d="M290 1154.242h340v7l-10 10H290v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M290 1154.242h1368v1543.172H290z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="295" x="305" y="1167.309">
    Validate and persist Transfer Fulfilment
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1314 1203.64l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M371.5 1207.641H1320"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="378.5" y="1195.008">
    8
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="391.5" y="1187.442">
    Request information for the validate checks
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="391.5" y="1202.575">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="477.5" y="1202.575">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1532 1232.773l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1336 1236.773h202"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1343" y="1231.707">
    9
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="1356" y="1231.707">
    Fetch from database
  </text>
  <path fill="#FFFFE0" filter="url(#a)" stroke="#a80036" d="M1522 1249.773h54l10 11-10 12h-54l-10-12 10-11z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="1524" y="1265.84">
    transfer
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1347 1295.04l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M1341 1299.039h207"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1353" y="1293.973">
    10
  </text>
  <path fill="#A80036" stroke="#a80036" d="M382.5 1324.172l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M376.5 1328.172H1330"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="1323.106">
    11
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="410.5" y="1323.106">
    Return transfer
  </text>
  <path stroke="#a80036" d="M371.5 1372.438h42M413.5 1372.438v13M372.5 1385.438h41"/>
  <path fill="#A80036" stroke="#a80036" d="M382.5 1381.438l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="378.5" y="1359.805">
    12
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="472" x="400.5" y="1352.239">
    Validate that Transfer.ilpCondition = SHA-256 (content.payload.fulfilment)
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="400.5" y="1367.372">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="486.5" y="1367.372">
    2001
  </text>
  <path stroke="#a80036" d="M371.5 1429.703h42M413.5 1429.703v13M372.5 1442.703h41"/>
  <path fill="#A80036" stroke="#a80036" d="M382.5 1438.703l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="378.5" y="1417.071">
    13
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="400.5" y="1409.504">
    Validate expirationDate
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="400.5" y="1424.637">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="486.5" y="1424.637">
    3303
  </text>
  <path d="M300 1457.703h70v7l-10 10h-60v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M300 1457.703h1339v243.328H300z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="315" y="1470.77">
    opt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="274" x="385" y="1469.914">
    [Transfer.ilpCondition validate successful]
  </text>
  <path d="M310 1481.836h313v7l-10 10H310v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M310 1481.836h1319v212.195H310z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="268" x="325" y="1494.903">
    Request current Settlement Window
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1314 1531.234l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M371.5 1535.234H1320"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="378.5" y="1522.602">
    14
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="389" x="400.5" y="1515.036">
    Request to retrieve current/latest transfer settlement window
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="400.5" y="1530.168">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="486.5" y="1530.168">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1532 1560.367l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1336 1564.367h202"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1343" y="1559.301">
    15
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="1365" y="1559.301">
    Fetch settlementWindowId
  </text>
  <path fill="#FFFFE0" filter="url(#a)" stroke="#a80036" d="M1488 1577.367h121l10 11-10 12h-121l-10-12 10-11z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="1490" y="1593.434">
    settlementWindow
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1347 1622.633l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M1341 1626.633h207"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1353" y="1621.567">
    16
  </text>
  <path fill="#A80036" stroke="#a80036" d="M382.5 1682.031l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M376.5 1686.031H1330"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="1665.832">
    17
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="479" x="410.5" y="1650.7">
    Return settlementWindowId to be appended during transferFulfilment insert
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41" x="410.5" y="1665.832">
    TODO
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="437" x="451.5" y="1665.832">
    : During settlement design make sure transfers in &apos;RECEIVED-FULFIL&apos;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="312" x="410.5" y="1680.965">
    state are updated to the next settlement window
  </text>
  <path d="M310 1715.031h172v7l-10 10H310v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M310 1715.031h1317v197.93H310z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="325" y="1728.098">
    Persist fulfilment
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1314 1764.43l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M371.5 1768.43H1320"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="378.5" y="1755.797">
    18
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="496" x="400.5" y="1748.231">
    Persist fulfilment with the result of the above check (transferFulfilment.isValid)
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="400.5" y="1763.364">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="486.5" y="1763.364">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1532 1793.563l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1336 1797.563h202"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1343" y="1792.497">
    19
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="1365" y="1792.497">
    Persist to database
  </text>
  <path fill="#FFFFE0" filter="url(#a)" stroke="#a80036" d="M1491 1840.563h116l10 19-10 19h-116l-10-19 10-19z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1493" y="1856.629">
    transferFulfilment
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1493" y="1871.762">
    transferExtension
  </text>
  <path fill="#A80036" stroke="#a80036" d="M382.5 1900.96l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M376.5 1904.961H1330"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="1899.895">
    20
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="410.5" y="1899.895">
    Return success
  </text>
  <path d="M300 1926.96h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M300 1926.961h1348v763.453H300z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="315" y="1940.028">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="274" x="379" y="1939.171">
    [Transfer.ilpCondition validate successful]
  </text>
  <path d="M310 1951.094h501v7l-10 10H310v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M310 1951.094h1328v182.797H310z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="456" x="325" y="1964.161">
    Persist Transfer State (with transferState=&apos;RECEIVED-FULFIL&apos;)
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1314 2000.492l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M371.5 2004.492H1320"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="378.5" y="1991.86">
    21
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="400.5" y="1984.293">
    Request to persist transfer state
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="400.5" y="1999.426">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="486.5" y="1999.426">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1532 2029.625l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1336 2033.625h202"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1343" y="2028.559">
    22
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="1365" y="2028.559">
    Persist transfer state
  </text>
  <path fill="#FFFFE0" filter="url(#a)" stroke="#a80036" d="M1480 2076.625h138l10 11-10 12h-138l-10-12 10-11z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="1482" y="2092.692">
    transferStateChange
  </text>
  <path fill="#A80036" stroke="#a80036" d="M382.5 2121.89l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M376.5 2125.891H1330"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="2120.825">
    23
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="410.5" y="2120.825">
    Return success
  </text>
  <path d="M376 2145.89v373h262v-363l-10-10H376" fill="#FF0" filter="url(#a)" stroke="#a80036"/>
  <path d="M628 2145.89v10h10l-10-10" fill="#FF0" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="382" y="2162.957">
    Message:
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="382" y="2178.09">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="398" y="2193.223">
    id: &lt;messageId&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="398" y="2208.356">
    from: &lt;payeeFspName&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="398" y="2223.489">
    to: &lt;payerFspName&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="398" y="2238.622">
    type: &quot;application/json&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="398" y="2253.754">
    content: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="414" y="2268.887">
    headers: &lt;transferHeaders&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="414" y="2284.02">
    payload: &lt;transferMessage&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="398" y="2299.153">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="398" y="2314.286">
    metadata: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="414" y="2329.419">
    event: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="430" y="2344.551">
    id: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="430" y="2359.684">
    responseTo: &lt;previous.uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="430" y="2374.817">
    type: &quot;position&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="430" y="2389.95">
    action: &quot;bulk-commit&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="430" y="2405.082">
    createdAt: &lt;timestamp&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="430" y="2420.215">
    state: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="446" y="2435.348">
    status: &quot;success&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="446" y="2450.481">
    code: 0
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="430" y="2465.614">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="414" y="2480.747">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="398" y="2495.879">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="382" y="2511.012">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M867.5 2545.21l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M371.5 2549.211h502"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="378.5" y="2544.145">
    24
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="259" x="400.5" y="2544.145">
    Route &amp; Publish Position event for Payee
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M300 2588.211h1348"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="255" x="305" y="2598.421">
    [Validate Fulfil Transfer not successful]
  </text>
  <path d="M310 2609.016h88v7l-10 10h-78v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M310 2609.016h383.5v74.398H310z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="325" y="2622.082">
    break
  </text>
  <path stroke="#a80036" d="M371.5 2662.414h42M413.5 2662.414v13M372.5 2675.414h41"/>
  <path fill="#A80036" stroke="#a80036" d="M382.5 2671.414l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="378.5" y="2649.782">
    25
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="281" x="400.5" y="2642.215">
    Route &amp; Publish Notification event for Payee
  </text>
  <text fill="#F0F" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="230" x="400.5" y="2657.348">
    Reference: Failure in validation
  </text>
  <path d="M310 2718.414h275v7l-10 10H310v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M310 2718.414h866V3197H310z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="230" x="325" y="2731.481">
    Reference: Failure in validation
  </text>
  <path d="M376 2740.547v373h262v-363l-10-10H376" fill="#FF0" filter="url(#a)" stroke="#a80036"/>
  <path d="M628 2740.547v10h10l-10-10" fill="#FF0" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="382" y="2757.614">
    Message:
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="382" y="2772.747">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="398" y="2787.879">
    id: &lt;messageId&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="398" y="2803.012">
    from: &lt;ledgerName&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="398" y="2818.145">
    to: &lt;payeeFspName&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="398" y="2833.278">
    type: &quot;application/json&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="398" y="2848.411">
    content: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="414" y="2863.544">
    headers: &lt;transferHeaders&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="414" y="2878.676">
    payload: &lt;transferMessage&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="398" y="2893.809">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="398" y="2908.942">
    metadata: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="414" y="2924.075">
    event: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="430" y="2939.207">
    id: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="430" y="2954.34">
    responseTo: &lt;previous.uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="430" y="2969.473">
    type: &quot;bulk-processing&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="430" y="2984.606">
    action: &quot;bulk-commit&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="430" y="2999.739">
    createdAt: &lt;timestamp&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="430" y="3014.872">
    state: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="446" y="3030.004">
    status: &quot;error&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="446" y="3045.137">
    code: 1
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="430" y="3060.27">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="414" y="3075.403">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="398" y="3090.536">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="382" y="3105.669">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1082.5 3155l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M371.5 3159h717"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="378.5" y="3146.368">
    26
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="383" x="400.5" y="3138.801">
    Publish Notification event for Payee to Bulk Processing Topic
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="400.5" y="3153.934">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="494.5" y="3153.934">
    2003
  </text>
</svg>
