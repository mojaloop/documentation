<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1276px" preserveAspectRatio="none" style="width:915px;height:1276px;" version="1.1" viewBox="0 0 915 1276" width="915px" zoomAndPan="magnify"><defs><filter height="300%" id="fy0c62fy5po9i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208" x="354.5" y="23.5352">7.3.3 Update Oracle Endpoint</text><rect fill="#FFFFE0" height="1231.2617" style="stroke: #A80036; stroke-width: 1.0;" width="631.5" x="246.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="481.75" y="47.0566">Account Lookup Service</text><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="534.1426" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="94.5" y="126.2871"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="473.2109" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="367.5" y="187.2188"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="237.4844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="570.5" y="393.6348"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="53.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="833.5" y="422.9453"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="53.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="833.5" y="548.1875"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="1049.9746" style="stroke: #000000; stroke-width: 2.0;" width="891" x="13" y="133.2871"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="487.9004" style="stroke: #000000; stroke-width: 2.0;" width="871" x="23" y="437.9453"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="105.2422" style="stroke: #000000; stroke-width: 2.0;" width="851" x="33" y="563.1875"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="236.416" style="stroke: #000000; stroke-width: 2.0;" width="851" x="33" y="682.4297"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="236.416" style="stroke: #000000; stroke-width: 2.0;" width="851" x="33" y="939.8457"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="99" x2="99" y1="116.2871" y2="1200.2617"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="372.5" x2="372.5" y1="116.2871" y2="1200.2617"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="575" x2="575" y1="116.2871" y2="1200.2617"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="838" x2="838" y1="116.2871" y2="1200.2617"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="43" y="113.334">HUB OPERATOR</text><ellipse cx="99.5" cy="83.7988" fill="#FEFECE" filter="url(#fy0c62fy5po9i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="87.5" x2="111.5" y1="97.7988" y2="97.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="43" y="1212.7969">HUB OPERATOR</text><ellipse cx="99.5" cy="1231.75" fill="#FEFECE" filter="url(#fy0c62fy5po9i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="87.5" x2="111.5" y1="1245.75" y2="1245.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="238" x="250.5" y="113.334">Account Lookup Service Admin API</text><path d="M352,71.7988 L352,95.7988 M352,83.7988 L369,83.7988 " fill="none" filter="url(#fy0c62fy5po9i)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="381" cy="83.7988" fill="#FEFECE" filter="url(#fy0c62fy5po9i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="238" x="250.5" y="1212.7969">Account Lookup Service Admin API</text><path d="M352,1219.75 L352,1243.75 M352,1231.75 L369,1231.75 " fill="none" filter="url(#fy0c62fy5po9i)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="381" cy="1231.75" fill="#FEFECE" filter="url(#fy0c62fy5po9i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="506" y="113.334">PUT Oracle Handler</text><ellipse cx="575.5" cy="83.7988" fill="#FEFECE" filter="url(#fy0c62fy5po9i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="571.5,71.7988,577.5,66.7988,575.5,71.7988,577.5,76.7988,571.5,71.7988" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="506" y="1212.7969">PUT Oracle Handler</text><ellipse cx="575.5" cy="1231.75" fill="#FEFECE" filter="url(#fy0c62fy5po9i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="571.5,1219.75,577.5,1214.75,575.5,1219.75,577.5,1224.75,571.5,1219.75" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="803" y="113.334">ALS Store</text><path d="M820.5,63.7988 C820.5,53.7988 838.5,53.7988 838.5,53.7988 C838.5,53.7988 856.5,53.7988 856.5,63.7988 L856.5,89.7988 C856.5,99.7988 838.5,99.7988 838.5,99.7988 C838.5,99.7988 820.5,99.7988 820.5,89.7988 L820.5,63.7988 " fill="#FEFECE" filter="url(#fy0c62fy5po9i)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M820.5,63.7988 C820.5,73.7988 838.5,73.7988 838.5,73.7988 C838.5,73.7988 856.5,73.7988 856.5,63.7988 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="803" y="1212.7969">ALS Store</text><path d="M820.5,1225.75 C820.5,1215.75 838.5,1215.75 838.5,1215.75 C838.5,1215.75 856.5,1215.75 856.5,1225.75 L856.5,1251.75 C856.5,1261.75 838.5,1261.75 838.5,1261.75 C838.5,1261.75 820.5,1261.75 820.5,1251.75 L820.5,1225.75 " fill="#FEFECE" filter="url(#fy0c62fy5po9i)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M820.5,1225.75 C820.5,1235.75 838.5,1235.75 838.5,1235.75 C838.5,1235.75 856.5,1235.75 856.5,1225.75 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="534.1426" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="94.5" y="126.2871"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="473.2109" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="367.5" y="187.2188"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="237.4844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="570.5" y="393.6348"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="53.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="833.5" y="422.9453"/><rect fill="#FFFFFF" filter="url(#fy0c62fy5po9i)" height="53.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="833.5" y="548.1875"/><path d="M13,133.2871 L194,133.2871 L194,140.2871 L184,150.2871 L13,150.2871 L13,133.2871 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1049.9746" style="stroke: #000000; stroke-width: 2.0;" width="891" x="13" y="133.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="28" y="146.8555">Get Oracle Endpoint</text><polygon fill="#A80036" points="355.5,183.2188,365.5,187.2188,355.5,191.2188,359.5,187.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="104.5" x2="361.5" y1="187.2188" y2="187.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="111.5" y="174.8213">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="124.5" y="167.166">Request to Update Oracle Endpoint -</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="124.5" y="182.4766">PUT /oracles/{ID}</text><path d="M95,200.2188 L95,363.2188 L358,363.2188 L358,210.2188 L348,200.2188 L95,200.2188 " fill="#FFFF00" filter="url(#fy0c62fy5po9i)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M348,200.2188 L348,210.2188 L358,210.2188 L348,200.2188 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="101" y="217.7871">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="101" y="233.0977">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="117" y="248.4082">"oracleIdType": &lt;PartyIdType&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="117" y="263.7188">"endpoint": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="133" y="279.0293">"value": &lt;string&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="133" y="294.3398">"endpointType": &lt;EndpointType&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="117" y="309.6504">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="117" y="324.9609">"currency": &lt;Currency&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="117" y="340.2715">"isDefault": &lt;boolean&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="101" y="355.582">}</text><polygon fill="#A80036" points="558.5,389.6348,568.5,393.6348,558.5,397.6348,562.5,393.6348" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="377.5" x2="564.5" y1="393.6348" y2="393.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="384.5" y="388.8926">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="397.5" y="388.8926">Update Oracle Endpoint</text><polygon fill="#A80036" points="821.5,418.9453,831.5,422.9453,821.5,426.9453,825.5,422.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="580.5" x2="827.5" y1="422.9453" y2="422.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="587.5" y="418.2031">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="600.5" y="418.2031">Find existing Oracle Endpoint</text><path d="M23,437.9453 L85,437.9453 L85,444.9453 L75,454.9453 L23,454.9453 L23,437.9453 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="487.9004" style="stroke: #000000; stroke-width: 2.0;" width="871" x="23" y="437.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="451.5137">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="229" x="100" y="450.5801">[Find existing Oracle Endpoint (success)]</text><polygon fill="#A80036" points="591.5,472.5664,581.5,476.5664,591.5,480.5664,587.5,476.5664" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="585.5" x2="837.5" y1="476.5664" y2="476.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="597.5" y="471.8242">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="610.5" y="471.8242">Return Oracle Endpoint Result</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="580.5" x2="622.5" y1="505.877" y2="505.877"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="622.5" x2="622.5" y1="505.877" y2="518.877"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="581.5" x2="622.5" y1="518.877" y2="518.877"/><polygon fill="#A80036" points="591.5,514.877,581.5,518.877,591.5,522.877,587.5,518.877" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="587.5" y="501.1348">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="600.5" y="501.1348">Update Returned Oracle Data Object</text><polygon fill="#A80036" points="821.5,544.1875,831.5,548.1875,821.5,552.1875,825.5,548.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="580.5" x2="827.5" y1="548.1875" y2="548.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="587.5" y="543.4453">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="600.5" y="543.4453">Update Oracle Data Object</text><path d="M33,563.1875 L95,563.1875 L95,570.1875 L85,580.1875 L33,580.1875 L33,563.1875 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="105.2422" style="stroke: #000000; stroke-width: 2.0;" width="851" x="33" y="563.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="48" y="576.7559">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="174" x="110" y="575.8223">[Update Oracle Entry (success)]</text><polygon fill="#A80036" points="591.5,597.8086,581.5,601.8086,591.5,605.8086,587.5,601.8086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="585.5" x2="837.5" y1="601.8086" y2="601.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="597.5" y="597.0664">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="610.5" y="597.0664">Return success response</text><polygon fill="#A80036" points="388.5,627.1191,378.5,631.1191,388.5,635.1191,384.5,631.1191" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="382.5" x2="574.5" y1="631.1191" y2="631.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="394.5" y="626.377">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="407.5" y="626.377">Return success response</text><polygon fill="#A80036" points="110.5,656.4297,100.5,660.4297,110.5,664.4297,106.5,660.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="104.5" x2="371.5" y1="660.4297" y2="660.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="116.5" y="655.6875">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="129.5" y="655.6875">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="174.5" y="655.6875">HTTP Status:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="262.5" y="655.6875">204</text><path d="M33,682.4297 L95,682.4297 L95,689.4297 L85,699.4297 L33,699.4297 L33,682.4297 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="236.416" style="stroke: #000000; stroke-width: 2.0;" width="851" x="33" y="682.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="48" y="695.998">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="168" x="110" y="695.0645">[Update Oracle Entry (failure)]</text><polygon fill="#A80036" points="586.5,717.0508,576.5,721.0508,586.5,725.0508,582.5,721.0508" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="580.5" x2="837.5" y1="721.0508" y2="721.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="592.5" y="716.3086">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="614.5" y="716.3086">Throw Error</text><polygon fill="#A80036" points="383.5,746.3613,373.5,750.3613,383.5,754.3613,379.5,750.3613" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="377.5" x2="574.5" y1="750.3613" y2="750.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="389.5" y="745.6191">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="411.5" y="745.6191">Throw Error</text><path d="M139,763.3613 L139,880.3613 L363,880.3613 L363,773.3613 L353,763.3613 L139,763.3613 " fill="#FFFF00" filter="url(#fy0c62fy5po9i)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M353,763.3613 L353,773.3613 L363,773.3613 L353,763.3613 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="145" y="780.9297">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="145" y="796.2402">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="161" y="811.5508">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="177" y="826.8613">"errorCode": &lt;Error Code&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="177" y="842.1719">"errorDescription": &lt;Msg&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="161" y="857.4824">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="145" y="872.793">}</text><polygon fill="#A80036" points="110.5,906.8457,100.5,910.8457,110.5,914.8457,106.5,910.8457" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="104.5" x2="371.5" y1="910.8457" y2="910.8457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="116.5" y="906.1035">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="138.5" y="906.1035">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="183.5" y="906.1035">HTTP Status:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="271.5" y="906.1035">502</text><path d="M33,939.8457 L95,939.8457 L95,946.8457 L85,956.8457 L33,956.8457 L33,939.8457 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="236.416" style="stroke: #000000; stroke-width: 2.0;" width="851" x="33" y="939.8457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="48" y="953.4141">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="223" x="110" y="952.4805">[Find existing Oracle Endpoint (failure)]</text><polygon fill="#A80036" points="586.5,974.4668,576.5,978.4668,586.5,982.4668,582.5,978.4668" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="580.5" x2="837.5" y1="978.4668" y2="978.4668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="592.5" y="973.7246">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="614.5" y="973.7246">Returns Empty Object</text><polygon fill="#A80036" points="383.5,1003.7773,373.5,1007.7773,383.5,1011.7773,379.5,1007.7773" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="377.5" x2="574.5" y1="1007.7773" y2="1007.7773"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="389.5" y="1003.0352">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="411.5" y="1003.0352">Throw Error</text><path d="M139,1020.7773 L139,1137.7773 L363,1137.7773 L363,1030.7773 L353,1020.7773 L139,1020.7773 " fill="#FFFF00" filter="url(#fy0c62fy5po9i)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M353,1020.7773 L353,1030.7773 L363,1030.7773 L353,1020.7773 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="145" y="1038.3457">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="145" y="1053.6563">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="161" y="1068.9668">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="177" y="1084.2773">"errorCode": &lt;Error Code&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="177" y="1099.5879">"errorDescription": &lt;Msg&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="161" y="1114.8984">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="145" y="1130.209">}</text><polygon fill="#A80036" points="110.5,1164.2617,100.5,1168.2617,110.5,1172.2617,106.5,1168.2617" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="104.5" x2="371.5" y1="1168.2617" y2="1168.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="116.5" y="1163.5195">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="138.5" y="1163.5195">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="183.5" y="1163.5195">HTTP Status:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="271.5" y="1163.5195">502</text><!--
@startuml
title 7.3.3 Update Oracle Endpoint

autonumber



entity "HUB OPERATOR" as OPERATOR
boundary "Account Lookup Service Admin API" as ALSADM
control "PUT Oracle Handler" as ORC_HANDLER
database "ALS Store" as DB

box "Account Lookup Service" #LightYellow
participant ALSADM
participant ORC_HANDLER
participant DB
end box


activate OPERATOR
group Get Oracle Endpoint
  OPERATOR -> ALSADM: Request to Update Oracle Endpoint -\nPUT /oracles/{ID}
  note left of ALSADM #yellow
      Message:
      {
          "oracleIdType": <PartyIdType>,
          "endpoint": {
              "value": <string>,
              "endpointType": <EndpointType>
          },
          "currency": <Currency>,
          "isDefault": <boolean>
      }
  end note
  activate ALSADM

  ALSADM -> ORC_HANDLER: Update Oracle Endpoint

  activate ORC_HANDLER
  ORC_HANDLER -> DB: Find existing Oracle Endpoint
  alt Find existing Oracle Endpoint (success)
      activate DB
          DB -> ORC_HANDLER: Return Oracle Endpoint Result
          deactivate DB
          ORC_HANDLER -> ORC_HANDLER: Update Returned Oracle Data Object
          ORC_HANDLER -> DB: Update Oracle Data Object
          activate DB
      alt Update Oracle Entry (success)
        DB - -> ORC_HANDLER: Return success response
        deactivate DB

        ORC_HANDLER -> ALSADM: Return success response
        deactivate ORC_HANDLER
        ALSADM - -> OPERATOR: Return <color #000000><b>HTTP Status:</b> 204</color>

        deactivate ALSADM
        deactivate OPERATOR
      end

      alt Update Oracle Entry (failure)
        DB - -> ORC_HANDLER: Throw Error
        deactivate DB
        ORC_HANDLER -> ALSADM: Throw Error
        deactivate ORC_HANDLER
        note left of ALSADM #yellow
            Message:
            {
                "errorInformation": {
                    "errorCode": <Error Code>,
                    "errorDescription": <Msg>,
                }
            }
        end note

        ALSADM - -> OPERATOR: Return <color #FF0000><b>HTTP Status:</b> 502</color>

        deactivate ALSADM
        deactivate OPERATOR


      end
  end
  alt Find existing Oracle Endpoint (failure)
    DB -> ORC_HANDLER: Returns Empty Object
    ORC_HANDLER -> ALSADM: Throw Error
    note left of ALSADM #yellow
        Message:
        {
            "errorInformation": {
                "errorCode": <Error Code>,
                "errorDescription": <Msg>,
            }
        }
    end note
    ALSADM - -> OPERATOR: Return <color #FF0000><b>HTTP Status:</b> 502</color>
  end
end

@enduml

PlantUML version 1.2019.06(Sat May 25 01:10:25 PHT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>