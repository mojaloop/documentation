<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2377px" preserveAspectRatio="none" style="width:2351px;height:2377px;" version="1.1" viewBox="0 0 2351 2377" width="2351px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jg6r370q7y8i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="266" x="1042.25" y="23.5352">7.1.1. Post Participant (Batch) Details</text><rect fill="#D3D3D3" height="2331.8125" style="stroke: #A80036; stroke-width: 1.0;" width="179" x="4" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="173" x="7" y="47.0566">Financial Service Provider</text><rect fill="#FFFFE0" height="2331.8125" style="stroke: #A80036; stroke-width: 1.0;" width="1424.5" x="422" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="1053.75" y="47.0566">Account Lookup Service</text><rect fill="#90EE90" height="2331.8125" style="stroke: #A80036; stroke-width: 1.0;" width="142" x="2003" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="2020" y="47.0566">Central Services</text><rect fill="#ADD8E6" height="2331.8125" style="stroke: #A80036; stroke-width: 1.0;" width="193" x="2147" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187" x="2150" y="47.0566">ALS Oracle Service/Adapter</text><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="99.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="479.5" y="660.9141"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="1502.6563" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="905.5" y="760.1563"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="133.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1389.5" y="1371.2988"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="133.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1628" y="1672.7148"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="133.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1628" y="1982.3965"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="118.5527" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1771" y="1128.1934"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2069" y="1188.125"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2069" y="1747.957"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2069" y="2057.6387"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2238.5" y="1446.541"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="2108.5254" style="stroke: #000000; stroke-width: 2.0;" width="2299.5" x="38" y="154.2871"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="117.2422" style="stroke: #000000; stroke-width: 2.0;" width="519" x="846.5" y="775.1563"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="1349.4141" style="stroke: #000000; stroke-width: 2.0;" width="2279.5" x="48" y="906.3984"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="624.7637" style="stroke: #000000; stroke-width: 2.0;" width="1481" x="836.5" y="930.709"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="238.1055" style="stroke: #000000; stroke-width: 2.0;" width="1304.5" x="846.5" y="1074.2617"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="548" x="846.5" y="1569.4727"/><rect fill="#FFFFFF" height="324.9922" style="stroke: none; stroke-width: 1.0;" width="2279.5" x="48" y="1930.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="93" x2="93" y1="137.2871" y2="2279.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="484" x2="484" y1="137.2871" y2="2279.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="910.5" x2="910.5" y1="137.2871" y2="2279.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1394.5" x2="1394.5" y1="137.2871" y2="2279.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1507.5" x2="1507.5" y1="137.2871" y2="2279.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1632.5" x2="1632.5" y1="137.2871" y2="2279.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1775.5" x2="1775.5" y1="137.2871" y2="2279.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2074" x2="2074" y1="137.2871" y2="2279.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2243.5" x2="2243.5" y1="137.2871" y2="2279.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="58" y="134.334">Payer FSP</text><ellipse cx="93.5" cy="63.7988" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M93.5,71.7988 L93.5,98.7988 M80.5,79.7988 L106.5,79.7988 M93.5,98.7988 L80.5,113.7988 M93.5,98.7988 L106.5,113.7988 " fill="none" filter="url(#f1jg6r370q7y8i)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="58" y="2292.3477">Payer FSP</text><ellipse cx="93.5" cy="2305.3008" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M93.5,2313.3008 L93.5,2340.3008 M80.5,2321.3008 L106.5,2321.3008 M93.5,2340.3008 L80.5,2355.3008 M93.5,2340.3008 L106.5,2355.3008 " fill="none" filter="url(#f1jg6r370q7y8i)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="426" y="117.8457">Account Lookup</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="438" y="134.334">Service (ALS)</text><path d="M464,76.3105 L464,100.3105 M464,88.3105 L481,88.3105 " fill="none" filter="url(#f1jg6r370q7y8i)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="493" cy="88.3105" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="426" y="2292.3477">Account Lookup</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="438" y="2308.8359">Service (ALS)</text><path d="M464,2315.7891 L464,2339.7891 M464,2327.7891 L481,2327.7891 " fill="none" filter="url(#f1jg6r370q7y8i)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="493" cy="2327.7891" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="856.5" y="117.8457">ALS Participant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="880.5" y="134.334">Handler</text><ellipse cx="910.5" cy="88.3105" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="906.5,76.3105,912.5,71.3105,910.5,76.3105,912.5,81.3105,906.5,76.3105" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="856.5" y="2292.3477">ALS Participant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="880.5" y="2308.8359">Handler</text><ellipse cx="910.5" cy="2327.7891" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="906.5,2315.7891,912.5,2310.7891,910.5,2315.7891,912.5,2320.7891,906.5,2315.7891" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="1340.5" y="117.8457">ALS Participant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1352" y="134.334">Oracle DAO</text><ellipse cx="1394.5" cy="88.3105" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1382.5" x2="1406.5" y1="102.3105" y2="102.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="1340.5" y="2292.3477">ALS Participant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1352" y="2308.8359">Oracle DAO</text><ellipse cx="1394.5" cy="2327.7891" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1382.5" x2="1406.5" y1="2341.7891" y2="2341.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="1458.5" y="134.334">ALS Database</text><path d="M1489.5,84.7988 C1489.5,74.7988 1507.5,74.7988 1507.5,74.7988 C1507.5,74.7988 1525.5,74.7988 1525.5,84.7988 L1525.5,110.7988 C1525.5,120.7988 1507.5,120.7988 1507.5,120.7988 C1507.5,120.7988 1489.5,120.7988 1489.5,110.7988 L1489.5,84.7988 " fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1489.5,84.7988 C1489.5,94.7988 1507.5,94.7988 1507.5,94.7988 C1507.5,94.7988 1525.5,94.7988 1525.5,84.7988 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="1458.5" y="2292.3477">ALS Database</text><path d="M1489.5,2305.3008 C1489.5,2295.3008 1507.5,2295.3008 1507.5,2295.3008 C1507.5,2295.3008 1525.5,2295.3008 1525.5,2305.3008 L1525.5,2331.3008 C1525.5,2341.3008 1507.5,2341.3008 1507.5,2341.3008 C1507.5,2341.3008 1489.5,2341.3008 1489.5,2331.3008 L1489.5,2305.3008 " fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1489.5,2305.3008 C1489.5,2315.3008 1507.5,2315.3008 1507.5,2315.3008 C1507.5,2315.3008 1525.5,2315.3008 1525.5,2305.3008 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="1566.5" y="117.8457">ALS CentralService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="1581.5" y="134.334">Endpoint DAO</text><ellipse cx="1633" cy="88.3105" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1621" x2="1645" y1="102.3105" y2="102.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="1566.5" y="2292.3477">ALS CentralService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="1581.5" y="2308.8359">Endpoint DAO</text><ellipse cx="1633" cy="2327.7891" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1621" x2="1645" y1="2341.7891" y2="2341.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="1709.5" y="117.8457">ALS CentralService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1719" y="134.334">Participant DAO</text><ellipse cx="1776" cy="88.3105" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1764" x2="1788" y1="102.3105" y2="102.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="1709.5" y="2292.3477">ALS CentralService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1719" y="2308.8359">Participant DAO</text><ellipse cx="1776" cy="2327.7891" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1764" x2="1788" y1="2341.7891" y2="2341.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="2007" y="134.334">Central Service API</text><path d="M2053.5,92.7988 L2053.5,116.7988 M2053.5,104.7988 L2070.5,104.7988 " fill="none" filter="url(#f1jg6r370q7y8i)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="2082.5" cy="104.7988" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="2007" y="2292.3477">Central Service API</text><path d="M2053.5,2299.3008 L2053.5,2323.3008 M2053.5,2311.3008 L2070.5,2311.3008 " fill="none" filter="url(#f1jg6r370q7y8i)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="2082.5" cy="2311.3008" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="2179.5" y="134.334">Oracle Service API</text><path d="M2223,92.7988 L2223,116.7988 M2223,104.7988 L2240,104.7988 " fill="none" filter="url(#f1jg6r370q7y8i)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="2252" cy="104.7988" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="2179.5" y="2292.3477">Oracle Service API</text><path d="M2223,2299.3008 L2223,2323.3008 M2223,2311.3008 L2240,2311.3008 " fill="none" filter="url(#f1jg6r370q7y8i)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="2252" cy="2311.3008" fill="#FEFECE" filter="url(#f1jg6r370q7y8i)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="99.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="479.5" y="660.9141"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="1502.6563" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="905.5" y="760.1563"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="133.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1389.5" y="1371.2988"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="133.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1628" y="1672.7148"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="133.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1628" y="1982.3965"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="118.5527" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1771" y="1128.1934"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2069" y="1188.125"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2069" y="1747.957"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2069" y="2057.6387"/><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="29.3105" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2238.5" y="1446.541"/><path d="M38,154.2871 L274,154.2871 L274,161.2871 L264,171.2871 L38,171.2871 L38,154.2871 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="2108.5254" style="stroke: #000000; stroke-width: 2.0;" width="2299.5" x="38" y="154.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="191" x="53" y="167.8555">Post Participant's FSP Details</text><path d="M98,176.5977 L98,584.5977 L439,584.5977 L439,186.5977 L429,176.5977 L98,176.5977 " fill="#FFFF00" filter="url(#f1jg6r370q7y8i)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M429,176.5977 L429,186.5977 L439,186.5977 L429,176.5977 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="232" x="104" y="194.166">Headers - postParticipantsHeaders: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="120" y="209.4766">Content-Length: &lt;Content-Length&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="208" x="120" y="224.7871">Content-Type: &lt;Content-Type&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="120" y="240.0977">Date: &lt;Date&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="120" y="255.4082">X-Forwarded-For: &lt;X-Forwarded-For&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="120" y="270.7188">FSPIOP-Source: &lt;FSPIOP-Source&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="120" y="286.0293">FSPIOP-Destination: &lt;FSPIOP-Destination&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="266" x="120" y="301.3398">FSPIOP-Encryption: &lt;FSPIOP-Encryption&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="120" y="316.6504">FSPIOP-Signature: &lt;FSPIOP-Signature&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="120" y="331.9609">FSPIOP-URI: &lt;FSPIOP-URI&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="304" x="120" y="347.2715">FSPIOP-HTTP-Method: &lt;FSPIOP-HTTP-Method&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="104" y="362.582">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="108" y="377.8926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="104" y="393.2031">Payload - postParticipantsMessage:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="104" y="408.5137">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="112" y="423.8242">"requestId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="112" y="439.1348">"partyList": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="120" y="454.4453">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="128" y="469.7559">"partyIdType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="128" y="485.0664">"partyIdentifier": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="128" y="500.377">"partySubIdOrType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="128" y="515.6875">"fspId": "string"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="120" y="530.998">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="112" y="546.3086">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="112" y="561.6191">"currency": "string"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="104" y="576.9297">}</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="477.5" x2="467.5" y1="660.9141" y2="656.9141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="477.5" x2="467.5" y1="660.9141" y2="664.9141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93.5" x2="478.5" y1="660.9141" y2="660.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="100.5" y="633.2061">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="113.5" y="610.2402">Request to add participant's FSP details</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="113.5" y="625.5508">POST - /participants</text><text fill="#388724" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="113.5" y="640.8613">Response code:</text><text fill="#388724" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="221.5" y="640.8613">202</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="249.5" y="640.8613"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="113.5" y="656.1719">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="190.5" y="656.1719">200x, 300x, 310x, 320x</text><path d="M243,673.9141 L243,728.9141 L470,728.9141 L470,683.9141 L460,673.9141 L243,673.9141 " fill="#D3D3D3" filter="url(#f1jg6r370q7y8i)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M460,673.9141 L460,683.9141 L470,683.9141 L460,673.9141 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="249" y="691.4824">Validate request against</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="249" y="706.793">Mojaloop Interface Specification.</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="249" y="722.1035">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="326" y="722.1035">300x, 310x</text><polygon fill="#A80036" points="893.5,756.1563,903.5,760.1563,893.5,764.1563,897.5,760.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="484.5" x2="899.5" y1="760.1563" y2="760.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="491.5" y="755.4141">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="504.5" y="755.4141">Process create participant's FSP details</text><path d="M846.5,775.1563 L920.5,775.1563 L920.5,782.1563 L910.5,792.1563 L846.5,792.1563 L846.5,775.1563 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="117.2422" style="stroke: #000000; stroke-width: 2.0;" width="519" x="846.5" y="775.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="861.5" y="788.7246">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="188" x="935.5" y="787.791">[for Participant in ParticipantList]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="957.5" y1="829.0879" y2="829.0879"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957.5" x2="957.5" y1="829.0879" y2="842.0879"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="916.5" x2="957.5" y1="842.0879" y2="842.0879"/><polygon fill="#A80036" points="926.5,838.0879,916.5,842.0879,926.5,846.0879,922.5,842.0879" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="922.5" y="816.6904">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="322" x="935.5" y="809.0352">Validate that PARTICIPANT.fspId == FSPIOP-Source</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="935.5" y="824.3457">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="1012.5" y="824.3457">3100</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="957.5" y1="871.3984" y2="871.3984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957.5" x2="957.5" y1="871.3984" y2="884.3984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="916.5" x2="957.5" y1="884.3984" y2="884.3984"/><polygon fill="#A80036" points="926.5,880.3984,916.5,884.3984,926.5,888.3984,922.5,884.3984" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="922.5" y="866.6563">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="418" x="935.5" y="866.6563">Group Participant lists into a Map (ParticipantMap) based on {TYPE}</text><path d="M48,906.3984 L110,906.3984 L110,913.3984 L100,923.3984 L48,923.3984 L48,906.3984 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1349.4141" style="stroke: #000000; stroke-width: 2.0;" width="2279.5" x="48" y="906.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="63" y="919.9668">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="381" x="125" y="919.0332">[Validation passed and the ParticipantMap was created successfully]</text><path d="M836.5,930.709 L910.5,930.709 L910.5,937.709 L900.5,947.709 L836.5,947.709 L836.5,930.709 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="624.7637" style="stroke: #000000; stroke-width: 2.0;" width="1481" x="836.5" y="930.709"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="851.5" y="944.2773">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="925.5" y="943.3438">[for keys in ParticipantMap -&gt; TypeKey]</text><polygon fill="#A80036" points="926.5,980.6406,916.5,984.6406,926.5,988.6406,922.5,984.6406" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1495.5,980.6406,1505.5,984.6406,1495.5,988.6406,1499.5,984.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="920.5" x2="1501.5" y1="984.6406" y2="984.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="932.5" y="972.2432">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="432" x="945.5" y="964.5879">Get Oracle Routing Config based on TypeKey (and optional Currency)</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="945.5" y="979.8984">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="1022.5" y="979.8984">300x, 310x</text><rect fill="#FFFFFF" filter="url(#f1jg6r370q7y8i)" height="44.6211" style="stroke: #000000; stroke-width: 2.0;" width="702" x="853.5" y="992.6406"/><polygon fill="#EEEEEE" points="853.5,992.6406,917.5,992.6406,917.5,999.6406,907.5,1009.6406,853.5,1009.6406,853.5,992.6406" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="866.5" y="1007.209">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="1034" y="1026.209">GET Participants -</text><a href="https://docs.mojaloop.live/mojaloop-technical-overview/account-lookup-service/als-get-participants.html" target="_top" xlink:actuate="onRequest" xlink:show="new" xlink:title="https://docs.mojaloop.live/mojaloop-technical-overview/account-lookup-service/als-get-participants.html" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="227" x="1152" y="1026.209">Get Oracle Routing Config Sequence</text></a><line style="stroke: #000000; stroke-width: 1.0;" x1="1034" x2="1034" y1="1030.9512" y2="1030.9512"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1034" x2="1034" y1="1030.9512" y2="1030.9512"/><line style="stroke: #000000; stroke-width: 1.0;" x1="1034" x2="1034" y1="1030.9512" y2="1030.9512"/><path d="M846.5,1074.2617 L1059.5,1074.2617 L1059.5,1081.2617 L1049.5,1091.2617 L846.5,1091.2617 L846.5,1074.2617 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="238.1055" style="stroke: #000000; stroke-width: 2.0;" width="1304.5" x="846.5" y="1074.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="168" x="861.5" y="1087.8301">Validate Participant's FSP</text><polygon fill="#A80036" points="1759,1124.1934,1769,1128.1934,1759,1132.1934,1763,1128.1934" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="1765" y1="1128.1934" y2="1128.1934"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="922.5" y="1115.7959">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="417" x="935.5" y="1108.1406">Request participant (PARTICIPANT.fspId) information for {TypeKey}</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="935.5" y="1123.4512">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="1012.5" y="1123.4512">200x</text><polygon fill="#A80036" points="2057,1184.125,2067,1188.125,2057,1192.125,2061,1188.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1781" x2="2063" y1="1188.125" y2="1188.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1788" y="1168.0723">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="1801" y="1152.7617">GET - /participants/{PARTICIPANT.fspId}</text><text fill="#388724" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="1801" y="1168.0723">Response code:</text><text fill="#388724" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1909" y="1168.0723">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1937" y="1168.0723"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="1801" y="1183.3828">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1878" y="1183.3828">200x, 310x, 320x</text><polygon fill="#A80036" points="1792,1213.4355,1782,1217.4355,1792,1221.4355,1788,1217.4355" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1786" x2="2073" y1="1217.4355" y2="1217.4355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1798" y="1212.6934">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="1811" y="1212.6934">Return participant information</text><polygon fill="#A80036" points="926.5,1242.7461,916.5,1246.7461,926.5,1250.7461,922.5,1246.7461" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="920.5" x2="1775" y1="1246.7461" y2="1246.7461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="932.5" y="1242.0039">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="945.5" y="1242.0039">Return participant information</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="957.5" y1="1291.3672" y2="1291.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957.5" x2="957.5" y1="1291.3672" y2="1304.3672"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="916.5" x2="957.5" y1="1304.3672" y2="1304.3672"/><polygon fill="#A80036" points="926.5,1300.3672,916.5,1304.3672,926.5,1308.3672,922.5,1304.3672" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="922.5" y="1278.9697">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="944.5" y="1271.3145">Validate participant</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="944.5" y="1286.625">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="1021.5" y="1286.625">320x</text><polygon fill="#A80036" points="1377.5,1367.2988,1387.5,1371.2988,1377.5,1375.2988,1381.5,1371.2988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="1383.5" y1="1371.2988" y2="1371.2988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="922.5" y="1351.2461">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="944.5" y="1335.9355">Create participant's FSP details</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="944.5" y="1351.2461">POST - /participants</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="944.5" y="1366.5566">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1021.5" y="1366.5566">200x, 310x, 320x</text><polygon fill="#A80036" points="2226.5,1442.541,2236.5,1446.541,2226.5,1450.541,2230.5,1446.541" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1399.5" x2="2232.5" y1="1446.541" y2="1446.541"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1406.5" y="1418.833">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="1428.5" y="1395.8672">Create participant's FSP details</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="1428.5" y="1411.1777">POST - /participants</text><text fill="#388724" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="1428.5" y="1426.4883">Response code:</text><text fill="#388724" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1536.5" y="1426.4883">204</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1564.5" y="1426.4883"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="1428.5" y="1441.7988">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1505.5" y="1441.7988">200x, 310x, 320x</text><polygon fill="#A80036" points="1410.5,1471.8516,1400.5,1475.8516,1410.5,1479.8516,1406.5,1475.8516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1404.5" x2="2242.5" y1="1475.8516" y2="1475.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1416.5" y="1471.1094">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="1438.5" y="1471.1094">Return result of Participant Create request</text><polygon fill="#A80036" points="926.5,1501.1621,916.5,1505.1621,926.5,1509.1621,922.5,1505.1621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="920.5" x2="1393.5" y1="1505.1621" y2="1505.1621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="932.5" y="1500.4199">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="954.5" y="1500.4199">Return result of Participant Create request</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="957.5" y1="1534.4727" y2="1534.4727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957.5" x2="957.5" y1="1534.4727" y2="1547.4727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="916.5" x2="957.5" y1="1547.4727" y2="1547.4727"/><polygon fill="#A80036" points="926.5,1543.4727,916.5,1547.4727,926.5,1551.4727,922.5,1547.4727" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="922.5" y="1529.7305">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="291" x="944.5" y="1529.7305">Store results in ParticipantResultMap[TypeKey]</text><path d="M846.5,1569.4727 L920.5,1569.4727 L920.5,1576.4727 L910.5,1586.4727 L846.5,1586.4727 L846.5,1569.4727 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="59.6211" style="stroke: #000000; stroke-width: 2.0;" width="548" x="846.5" y="1569.4727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="861.5" y="1583.041">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="262" x="935.5" y="1582.1074">[for keys in ParticipantResultMap -&gt; TypeKey]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="957.5" y1="1608.0938" y2="1608.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957.5" x2="957.5" y1="1608.0938" y2="1621.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="916.5" x2="957.5" y1="1621.0938" y2="1621.0938"/><polygon fill="#A80036" points="926.5,1617.0938,916.5,1621.0938,926.5,1625.0938,922.5,1621.0938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="922.5" y="1603.3516">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="438" x="944.5" y="1603.3516">Combine ParticipantResultMap[TypeKey] results into ParticipantResult</text><polygon fill="#A80036" points="1616,1668.7148,1626,1672.7148,1616,1676.7148,1620,1672.7148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="1622" y1="1672.7148" y2="1672.7148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="922.5" y="1660.3174">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="425" x="944.5" y="1652.6621">Retrieve the PayerFSP (FSPIOP-Source) Participant Callback Endpoint</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="944.5" y="1667.9727">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1021.5" y="1667.9727">200x, 310x, 320x</text><polygon fill="#A80036" points="2057,1743.957,2067,1747.957,2057,1751.957,2061,1747.957" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1638" x2="2063" y1="1747.957" y2="1747.957"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1645" y="1720.249">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="321" x="1667" y="1697.2832">Retrieve the PayerFSP Participant Callback Endpoint</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="1667" y="1712.5938">GET - /participants/{FSPIOP-Source}/endpoints</text><text fill="#388724" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="1667" y="1727.9043">Response code:</text><text fill="#388724" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1775" y="1727.9043">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1803" y="1727.9043"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="1667" y="1743.2148">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1744" y="1743.2148">200x, 310x, 320x</text><polygon fill="#A80036" points="1649,1773.2676,1639,1777.2676,1649,1781.2676,1645,1777.2676" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1643" x2="2073" y1="1777.2676" y2="1777.2676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1655" y="1772.5254">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="1677" y="1772.5254">List of PayerFSP Participant Callback Endpoints</text><polygon fill="#A80036" points="926.5,1802.5781,916.5,1806.5781,926.5,1810.5781,922.5,1806.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="920.5" x2="1632" y1="1806.5781" y2="1806.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="932.5" y="1801.8359">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="954.5" y="1801.8359">List of PayerFSP Participant Callback Endpoints</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="957.5" y1="1851.1992" y2="1851.1992"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957.5" x2="957.5" y1="1851.1992" y2="1864.1992"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="916.5" x2="957.5" y1="1864.1992" y2="1864.1992"/><polygon fill="#A80036" points="926.5,1860.1992,916.5,1864.1992,926.5,1868.1992,922.5,1864.1992" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="922.5" y="1838.8018">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="314" x="944.5" y="1831.1465">Match PayerFSP Participant Callback Endpoints for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="316" x="944.5" y="1846.457">FSPIOP_CALLBACK_URL_PARTICIPANT_BATCH_PUT</text><polygon fill="#A80036" points="495.5,1889.5098,485.5,1893.5098,495.5,1897.5098,491.5,1893.5098" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="489.5" x2="904.5" y1="1893.5098" y2="1893.5098"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="501.5" y="1888.7676">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="375" x="523.5" y="1888.7676">Return list of Participant information from ParticipantResult</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="93.5" x2="103.5" y1="1922.8203" y2="1918.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93.5" x2="103.5" y1="1922.8203" y2="1926.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93.5" x2="483.5" y1="1922.8203" y2="1922.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="110.5" y="1918.0781">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="258" x="132.5" y="1918.0781">Callback: PUT - /participants/{requestId}</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="48" x2="2327.5" y1="1931.8203" y2="1931.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="420" x="53" y="1942.4551">[Validation failure and/or the ParticipantMap was not created successfully]</text><polygon fill="#A80036" points="1616,1978.3965,1626,1982.3965,1616,1986.3965,1620,1982.3965" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="1622" y1="1982.3965" y2="1982.3965"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="922.5" y="1969.999">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="425" x="944.5" y="1962.3438">Retrieve the PayerFSP (FSPIOP-Source) Participant Callback Endpoint</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="944.5" y="1977.6543">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1021.5" y="1977.6543">200x, 310x, 320x</text><polygon fill="#A80036" points="2057,2053.6387,2067,2057.6387,2057,2061.6387,2061,2057.6387" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1638" x2="2063" y1="2057.6387" y2="2057.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1645" y="2029.9307">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="321" x="1667" y="2006.9648">Retrieve the PayerFSP Participant Callback Endpoint</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="1667" y="2022.2754">GET - /participants/{FSPIOP-Source}/endpoints</text><text fill="#388724" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="1667" y="2037.5859">Response code:</text><text fill="#388724" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="1775" y="2037.5859">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1803" y="2037.5859"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="1667" y="2052.8965">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1744" y="2052.8965">200x, 310x, 320x</text><polygon fill="#A80036" points="1649,2082.9492,1639,2086.9492,1649,2090.9492,1645,2086.9492" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1643" x2="2073" y1="2086.9492" y2="2086.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1655" y="2082.207">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="1677" y="2082.207">List of PayerFSP Participant Callback Endpoints</text><polygon fill="#A80036" points="926.5,2112.2598,916.5,2116.2598,926.5,2120.2598,922.5,2116.2598" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="920.5" x2="1632" y1="2116.2598" y2="2116.2598"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="932.5" y="2111.5176">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="954.5" y="2111.5176">List of PayerFSP Participant Callback Endpoints</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="915.5" x2="957.5" y1="2160.8809" y2="2160.8809"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="957.5" x2="957.5" y1="2160.8809" y2="2173.8809"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="916.5" x2="957.5" y1="2173.8809" y2="2173.8809"/><polygon fill="#A80036" points="926.5,2169.8809,916.5,2173.8809,926.5,2177.8809,922.5,2173.8809" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="922.5" y="2148.4834">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="944.5" y="2140.8281">Match Participant Callback Endpoints for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="364" x="944.5" y="2156.1387">FSPIOP_CALLBACK_URL_PARTICIPANT_BATCH_PUT_ERROR</text><polygon fill="#A80036" points="495.5,2214.502,485.5,2218.502,495.5,2222.502,491.5,2218.502" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="489.5" x2="904.5" y1="2218.502" y2="2218.502"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="501.5" y="2206.1045">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="523.5" y="2198.4492">Handle error</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="523.5" y="2213.7598">Error code:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="600.5" y="2213.7598">200x, 310x, 320x</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="93.5" x2="103.5" y1="2247.8125" y2="2243.8125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93.5" x2="103.5" y1="2247.8125" y2="2251.8125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93.5" x2="483.5" y1="2247.8125" y2="2247.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="110.5" y="2243.0703">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="295" x="132.5" y="2243.0703">Callback: PUT - /participants/{requestId}/error</text><!--
@startuml
title 7.1.1. Post Participant (Batch) Details

autonumber

actor "Payer FSP" as PAYER_FSP
boundary "Account Lookup\nService (ALS)" as ALS_API
control "ALS Participant\nHandler" as ALS_PARTICIPANT_HANDLER
entity "ALS CentralService\nEndpoint DAO" as ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO
entity "ALS CentralService\nParticipant DAO" as ALS_CENTRALSERVICE_PARTICIPANT_DAO
entity "ALS Participant\nOracle DAO" as ALS_PARTICIPANT_ORACLE_DAO
database "ALS Database" as ALS_DB
boundary "Oracle Service API" as ORACLE_API
boundary "Central Service API" as CENTRALSERVICE_API

box "Financial Service Provider" #LightGrey
participant PAYER_FSP
end box

box "Account Lookup Service" #LightYellow
participant ALS_API
participant ALS_PARTICIPANT_HANDLER
participant ALS_PARTICIPANT_ORACLE_DAO
participant ALS_DB
participant ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO
participant ALS_CENTRALSERVICE_PARTICIPANT_DAO
end box

box "Central Services" #LightGreen
participant CENTRALSERVICE_API
end box

box "ALS Oracle Service/Adapter" #LightBlue
participant ORACLE_API
end box


group Post Participant's FSP Details
    note right of PAYER_FSP #yellow
        Headers - postParticipantsHeaders: {
            Content-Length: <Content-Length>,
            Content-Type: <Content-Type>,
            Date: <Date>,
            X-Forwarded-For: <X-Forwarded-For>,
            FSPIOP-Source: <FSPIOP-Source>,
            FSPIOP-Destination: <FSPIOP-Destination>,
            FSPIOP-Encryption: <FSPIOP-Encryption>,
            FSPIOP-Signature: <FSPIOP-Signature>,
            FSPIOP-URI: <FSPIOP-URI>,
            FSPIOP-HTTP-Method: <FSPIOP-HTTP-Method>
        }

        Payload - postParticipantsMessage:
        {
          "requestId": "string",
          "partyList": [
            {
              "partyIdType": "string",
              "partyIdentifier": "string",
              "partySubIdOrType": "string",
              "fspId": "string"
            }
          ],
          "currency": "string"
        }
    end note
    PAYER_FSP ->> ALS_API: Request to add participant's FSP details\nPOST - /participants\n<color #388724><b>Response code:</b> 202</color> \n<color #FF0000><b>Error code:</b> 200x, 300x, 310x, 320x</color>

    activate ALS_API
    note left ALS_API #lightgray
        Validate request against
        Mojaloop Interface Specification.
        <color #red><b>Error code:</b> 300x, 310x</color>
    end note

        ALS_API -> ALS_PARTICIPANT_HANDLER: Process create participant's FSP details
        deactivate ALS_API
        activate ALS_PARTICIPANT_HANDLER

        loop for Participant in ParticipantList

            ALS_PARTICIPANT_HANDLER -> ALS_PARTICIPANT_HANDLER: Validate that PARTICIPANT.fspId == FSPIOP-Source\n<color #FF0000><b>Error code:</b> 3100</color>
            ALS_PARTICIPANT_HANDLER -> ALS_PARTICIPANT_HANDLER: Group Participant lists into a Map (ParticipantMap) based on {TYPE}

        end loop


    alt Validation passed and the ParticipantMap was created successfully

        loop for keys in ParticipantMap -> TypeKey



            ALS_PARTICIPANT_HANDLER <-> ALS_DB: Get Oracle Routing Config based on TypeKey (and optional Currency)\n<color #FF0000><b>Error code:</b> 300x, 310x</color>
            ref over ALS_PARTICIPANT_HANDLER, ALS_DB
                GET Participants - [[https://docs.mojaloop.live/mojaloop-technical-overview/account-lookup-service/als-get-participants.html Get Oracle Routing Config Sequence]]
                |||
            end ref


            |||


            group Validate Participant's FSP

                ALS_PARTICIPANT_HANDLER -> ALS_CENTRALSERVICE_PARTICIPANT_DAO: Request participant (PARTICIPANT.fspId) information for {TypeKey}\n<color #FF0000><b>Error code:</b> 200x</color>
                activate ALS_CENTRALSERVICE_PARTICIPANT_DAO

                ALS_CENTRALSERVICE_PARTICIPANT_DAO -> CENTRALSERVICE_API: GET - /participants/{PARTICIPANT.fspId}\n<color #388724><b>Response code:</b> 200</color> \n<color #FF0000><b>Error code:</b> 200x, 310x, 320x</color>
                activate CENTRALSERVICE_API
                CENTRALSERVICE_API - -> ALS_CENTRALSERVICE_PARTICIPANT_DAO: Return participant information
                deactivate CENTRALSERVICE_API

                ALS_CENTRALSERVICE_PARTICIPANT_DAO - -> ALS_PARTICIPANT_HANDLER: Return participant information

                deactivate ALS_CENTRALSERVICE_PARTICIPANT_DAO

                ALS_PARTICIPANT_HANDLER -> ALS_PARTICIPANT_HANDLER: Validate participant\n<color #FF0000><b>Error code:</b> 320x</color>
            end group


            ALS_PARTICIPANT_HANDLER -> ALS_PARTICIPANT_ORACLE_DAO: Create participant's FSP details\nPOST - /participants\n<color #FF0000><b>Error code:</b> 200x, 310x, 320x</color>
            activate ALS_PARTICIPANT_ORACLE_DAO
            ALS_PARTICIPANT_ORACLE_DAO -> ORACLE_API: Create participant's FSP details\nPOST - /participants\n<color #388724><b>Response code:</b> 204</color> \n<color #FF0000><b>Error code:</b> 200x, 310x, 320x</color>
            activate ORACLE_API

            ORACLE_API - -> ALS_PARTICIPANT_ORACLE_DAO: Return result of Participant Create request
            deactivate ORACLE_API

            ALS_PARTICIPANT_ORACLE_DAO - -> ALS_PARTICIPANT_HANDLER: Return result of Participant Create request
            deactivate ALS_PARTICIPANT_ORACLE_DAO


            ALS_PARTICIPANT_HANDLER -> ALS_PARTICIPANT_HANDLER: Store results in ParticipantResultMap[TypeKey]

        end loop

        loop for keys in ParticipantResultMap -> TypeKey
            ALS_PARTICIPANT_HANDLER -> ALS_PARTICIPANT_HANDLER: Combine ParticipantResultMap[TypeKey] results into ParticipantResult
        end loop


        ALS_PARTICIPANT_HANDLER -> ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO: Retrieve the PayerFSP (FSPIOP-Source) Participant Callback Endpoint\n<color #FF0000><b>Error code:</b> 200x, 310x, 320x</color>
        activate ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO
        ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO -> CENTRALSERVICE_API: Retrieve the PayerFSP Participant Callback Endpoint\nGET - /participants/{FSPIOP-Source}/endpoints\n<color #388724><b>Response code:</b> 200</color> \n<color #FF0000><b>Error code:</b> 200x, 310x, 320x</color>
        activate CENTRALSERVICE_API
        CENTRALSERVICE_API - -> ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO: List of PayerFSP Participant Callback Endpoints
        deactivate CENTRALSERVICE_API
        ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO - -> ALS_PARTICIPANT_HANDLER: List of PayerFSP Participant Callback Endpoints
        deactivate ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO

        ALS_PARTICIPANT_HANDLER -> ALS_PARTICIPANT_HANDLER: Match PayerFSP Participant Callback Endpoints for\nFSPIOP_CALLBACK_URL_PARTICIPANT_BATCH_PUT


        ALS_PARTICIPANT_HANDLER - -> ALS_API: Return list of Participant information from ParticipantResult
        ALS_API ->> PAYER_FSP: Callback: PUT - /participants/{requestId}

    else Validation failure and/or the ParticipantMap was not created successfully

        ALS_PARTICIPANT_HANDLER -> ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO: Retrieve the PayerFSP (FSPIOP-Source) Participant Callback Endpoint\n<color #FF0000><b>Error code:</b> 200x, 310x, 320x</color>
        activate ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO
        ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO -> CENTRALSERVICE_API: Retrieve the PayerFSP Participant Callback Endpoint\nGET - /participants/{FSPIOP-Source}/endpoints\n<color #388724><b>Response code:</b> 200</color> \n<color #FF0000><b>Error code:</b> 200x, 310x, 320x</color>
        activate CENTRALSERVICE_API
        CENTRALSERVICE_API - -> ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO: List of PayerFSP Participant Callback Endpoints
        deactivate CENTRALSERVICE_API
        ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO - -> ALS_PARTICIPANT_HANDLER: List of PayerFSP Participant Callback Endpoints
        deactivate ALS_CENTRALSERVICE_ENDPOINT_CONFIG_DAO

        ALS_PARTICIPANT_HANDLER -> ALS_PARTICIPANT_HANDLER: Match Participant Callback Endpoints for\nFSPIOP_CALLBACK_URL_PARTICIPANT_BATCH_PUT_ERROR


        ALS_PARTICIPANT_HANDLER - -> ALS_API: Handle error\n<color #FF0000><b>Error code:</b> 200x, 310x, 320x</color>
        ALS_API ->> PAYER_FSP: Callback: PUT - /participants/{requestId}/error
    end alt


    deactivate ALS_PARTICIPANT_HANDLER
end
@enduml

PlantUML version 1.2019.06(Sat May 25 01:10:25 PHT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>