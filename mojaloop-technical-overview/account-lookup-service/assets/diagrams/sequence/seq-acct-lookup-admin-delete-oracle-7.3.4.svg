<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="750px" preserveAspectRatio="none" style="width:959px;height:750px;" version="1.1" viewBox="0 0 959 750" width="959px" zoomAndPan="magnify"><defs><filter height="300%" id="f14oqw5f1f7tre" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="204" x="378" y="23.5352">7.3.4 Delete Oracle Endpoint</text><rect fill="#FFFFE0" height="704.8086" style="stroke: #A80036; stroke-width: 1.0;" width="659.5" x="232.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="481.75" y="47.0566">Account Lookup Service</text><rect fill="#FFFFFF" filter="url(#f14oqw5f1f7tre)" height="265.1055" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="84.5" y="126.2871"/><rect fill="#FFFFFF" filter="url(#f14oqw5f1f7tre)" height="204.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="353.5" y="187.2188"/><rect fill="#FFFFFF" filter="url(#f14oqw5f1f7tre)" height="145.5527" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="566.5" y="216.5293"/><rect fill="#FFFFFF" filter="url(#f14oqw5f1f7tre)" height="86.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="847.5" y="245.8398"/><rect fill="#FFFFFF" filter="url(#f14oqw5f1f7tre)" height="523.5215" style="stroke: #000000; stroke-width: 2.0;" width="934" x="13" y="133.2871"/><rect fill="#FFFFFF" filter="url(#f14oqw5f1f7tre)" height="105.2422" style="stroke: #000000; stroke-width: 2.0;" width="875" x="23" y="294.1504"/><rect fill="#FFFFFF" filter="url(#f14oqw5f1f7tre)" height="236.416" style="stroke: #000000; stroke-width: 2.0;" width="875" x="23" y="413.3926"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="89" x2="89" y1="116.2871" y2="673.8086"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="358.5" x2="358.5" y1="116.2871" y2="673.8086"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="571.5" x2="571.5" y1="116.2871" y2="673.8086"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="852" x2="852" y1="116.2871" y2="673.8086"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="33" y="113.334">HUB OPERATOR</text><ellipse cx="89.5" cy="83.7988" fill="#FEFECE" filter="url(#f14oqw5f1f7tre)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="77.5" x2="101.5" y1="97.7988" y2="97.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="33" y="686.3438">HUB OPERATOR</text><ellipse cx="89.5" cy="705.2969" fill="#FEFECE" filter="url(#f14oqw5f1f7tre)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="77.5" x2="101.5" y1="719.2969" y2="719.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="238" x="236.5" y="113.334">Account Lookup Service Admin API</text><path d="M338,71.7988 L338,95.7988 M338,83.7988 L355,83.7988 " fill="none" filter="url(#f14oqw5f1f7tre)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="367" cy="83.7988" fill="#FEFECE" filter="url(#f14oqw5f1f7tre)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="238" x="236.5" y="686.3438">Account Lookup Service Admin API</text><path d="M338,693.2969 L338,717.2969 M338,705.2969 L355,705.2969 " fill="none" filter="url(#f14oqw5f1f7tre)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="367" cy="705.2969" fill="#FEFECE" filter="url(#f14oqw5f1f7tre)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156" x="490.5" y="113.334">DELETE Oracle Handler</text><ellipse cx="571.5" cy="83.7988" fill="#FEFECE" filter="url(#f14oqw5f1f7tre)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="567.5,71.7988,573.5,66.7988,571.5,71.7988,573.5,76.7988,567.5,71.7988" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156" x="490.5" y="686.3438">DELETE Oracle Handler</text><ellipse cx="571.5" cy="705.2969" fill="#FEFECE" filter="url(#f14oqw5f1f7tre)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="567.5,693.2969,573.5,688.2969,571.5,693.2969,573.5,698.2969,567.5,693.2969" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="817" y="113.334">ALS Store</text><path d="M834.5,63.7988 C834.5,53.7988 852.5,53.7988 852.5,53.7988 C852.5,53.7988 870.5,53.7988 870.5,63.7988 L870.5,89.7988 C870.5,99.7988 852.5,99.7988 852.5,99.7988 C852.5,99.7988 834.5,99.7988 834.5,89.7988 L834.5,63.7988 " fill="#FEFECE" filter="url(#f14oqw5f1f7tre)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M834.5,63.7988 C834.5,73.7988 852.5,73.7988 852.5,73.7988 C852.5,73.7988 870.5,73.7988 870.5,63.7988 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="817" y="686.3438">ALS Store</text><path d="M834.5,699.2969 C834.5,689.2969 852.5,689.2969 852.5,689.2969 C852.5,689.2969 870.5,689.2969 870.5,699.2969 L870.5,725.2969 C870.5,735.2969 852.5,735.2969 852.5,735.2969 C852.5,735.2969 834.5,735.2969 834.5,725.2969 L834.5,699.2969 " fill="#FEFECE" filter="url(#f14oqw5f1f7tre)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M834.5,699.2969 C834.5,709.2969 852.5,709.2969 852.5,709.2969 C852.5,709.2969 870.5,709.2969 870.5,699.2969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f14oqw5f1f7tre)" height="265.1055" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="84.5" y="126.2871"/><rect fill="#FFFFFF" filter="url(#f14oqw5f1f7tre)" height="204.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="353.5" y="187.2188"/><rect fill="#FFFFFF" filter="url(#f14oqw5f1f7tre)" height="145.5527" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="566.5" y="216.5293"/><rect fill="#FFFFFF" filter="url(#f14oqw5f1f7tre)" height="86.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="847.5" y="245.8398"/><path d="M13,133.2871 L194,133.2871 L194,140.2871 L184,150.2871 L13,150.2871 L13,133.2871 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="523.5215" style="stroke: #000000; stroke-width: 2.0;" width="934" x="13" y="133.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="28" y="146.8555">Get Oracle Endpoint</text><polygon fill="#A80036" points="341.5,183.2188,351.5,187.2188,341.5,191.2188,345.5,187.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="94.5" x2="347.5" y1="187.2188" y2="187.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="101.5" y="174.8213">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="114.5" y="167.166">Request to Delete Oracle Endpoint -</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="114.5" y="182.4766">DELETE /oracles/{ID}</text><polygon fill="#A80036" points="554.5,212.5293,564.5,216.5293,554.5,220.5293,558.5,216.5293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="363.5" x2="560.5" y1="216.5293" y2="216.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="370.5" y="211.7871">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="383.5" y="211.7871">Delete Oracle Endpoint</text><polygon fill="#A80036" points="835.5,241.8398,845.5,245.8398,835.5,249.8398,839.5,245.8398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="576.5" x2="841.5" y1="245.8398" y2="245.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="583.5" y="241.0977">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="239" x="596.5" y="241.0977">Update existing Oracle Endpoint By ID</text><polygon fill="#FFFFE0" filter="url(#f14oqw5f1f7tre)" points="777,258.8398,927,258.8398,937,269.8398,927,281.8398,777,281.8398,767,269.8398,777,258.8398" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="779" y="275.4082">Update isActive = false</text><path d="M23,294.1504 L85,294.1504 L85,301.1504 L75,311.1504 L23,311.1504 L23,294.1504 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="105.2422" style="stroke: #000000; stroke-width: 2.0;" width="875" x="23" y="294.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="307.7188">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="240" x="100" y="306.7852">[Delete existing Oracle Endpoint (success)]</text><polygon fill="#A80036" points="587.5,328.7715,577.5,332.7715,587.5,336.7715,583.5,332.7715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="581.5" x2="851.5" y1="332.7715" y2="332.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="593.5" y="328.0293">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="606.5" y="328.0293">Return Success</text><polygon fill="#A80036" points="374.5,358.082,364.5,362.082,374.5,366.082,370.5,362.082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="368.5" x2="570.5" y1="362.082" y2="362.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="380.5" y="357.3398">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="393.5" y="357.3398">Return success response</text><polygon fill="#A80036" points="100.5,387.3926,90.5,391.3926,100.5,395.3926,96.5,391.3926" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="94.5" x2="357.5" y1="391.3926" y2="391.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="106.5" y="386.6504">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="119.5" y="386.6504">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="164.5" y="386.6504">HTTP Status:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="252.5" y="386.6504">204</text><path d="M23,413.3926 L85,413.3926 L85,420.3926 L75,430.3926 L23,430.3926 L23,413.3926 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="236.416" style="stroke: #000000; stroke-width: 2.0;" width="875" x="23" y="413.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="426.9609">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="234" x="100" y="426.0273">[Delete existing Oracle Endpoint (failure)]</text><polygon fill="#A80036" points="582.5,448.0137,572.5,452.0137,582.5,456.0137,578.5,452.0137" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="576.5" x2="851.5" y1="452.0137" y2="452.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="588.5" y="447.2715">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="601.5" y="447.2715">Throws Error (Not Found)</text><polygon fill="#A80036" points="369.5,477.3242,359.5,481.3242,369.5,485.3242,365.5,481.3242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="363.5" x2="570.5" y1="481.3242" y2="481.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="375.5" y="476.582">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="388.5" y="476.582">Throw Error</text><path d="M125,494.3242 L125,611.3242 L349,611.3242 L349,504.3242 L339,494.3242 L125,494.3242 " fill="#FFFF00" filter="url(#f14oqw5f1f7tre)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M339,494.3242 L339,504.3242 L349,504.3242 L339,494.3242 " fill="#FFFF00" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="131" y="511.8926">Message:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="131" y="527.2031">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="147" y="542.5137">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="163" y="557.8242">"errorCode": &lt;Error Code&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="163" y="573.1348">"errorDescription": &lt;Msg&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="147" y="588.4453">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="131" y="603.7559">}</text><polygon fill="#A80036" points="100.5,637.8086,90.5,641.8086,100.5,645.8086,96.5,641.8086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="94.5" x2="357.5" y1="641.8086" y2="641.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="106.5" y="637.0664">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="119.5" y="637.0664">Return</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="164.5" y="637.0664">HTTP Status:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="252.5" y="637.0664">502</text><!--
@startuml
title 7.3.4 Delete Oracle Endpoint

autonumber



entity "HUB OPERATOR" as OPERATOR
boundary "Account Lookup Service Admin API" as ALSADM
control "DELETE Oracle Handler" as ORC_HANDLER
database "ALS Store" as DB

box "Account Lookup Service" #LightYellow
participant ALSADM
participant ORC_HANDLER
participant DB
end box


activate OPERATOR
group Get Oracle Endpoint
  OPERATOR -> ALSADM: Request to Delete Oracle Endpoint -\nDELETE /oracles/{ID}
  activate ALSADM

  ALSADM -> ORC_HANDLER: Delete Oracle Endpoint

  activate ORC_HANDLER
  ORC_HANDLER -> DB: Update existing Oracle Endpoint By ID
  hnote over DB #lightyellow
      Update isActive = false
  end note
  alt Delete existing Oracle Endpoint (success)
      activate DB
      DB -> ORC_HANDLER: Return Success
      deactivate DB

      ORC_HANDLER -> ALSADM: Return success response
      deactivate ORC_HANDLER
      ALSADM - -> OPERATOR: Return <color #000000><b>HTTP Status:</b> 204</color>

      deactivate ALSADM
      deactivate OPERATOR
  end
  alt Delete existing Oracle Endpoint (failure)
    DB -> ORC_HANDLER: Throws Error (Not Found)
    ORC_HANDLER -> ALSADM: Throw Error
    note left of ALSADM #yellow
        Message:
        {
            "errorInformation": {
                "errorCode": <Error Code>,
                "errorDescription": <Msg>,
            }
        }
    end note
    ALSADM - -> OPERATOR: Return <color #FF0000><b>HTTP Status:</b> 502</color>
  end
end

@enduml

PlantUML version 1.2019.06(Sat May 25 01:10:25 PHT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>