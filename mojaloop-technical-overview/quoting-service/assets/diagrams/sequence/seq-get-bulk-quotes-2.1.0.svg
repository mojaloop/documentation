<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1699px" preserveAspectRatio="none" style="width:961px;height:1699px;" version="1.1" viewBox="0 0 961 1699" width="961px" zoomAndPan="magnify"><defs><filter height="300%" id="fpf2c35wblyu3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="236" x="363.25" y="23.5352">Retrieve Bulk Quote Information</text><rect fill="#FFFFFF" filter="url(#fpf2c35wblyu3)" height="1240.2422" style="stroke: #000000; stroke-width: 2.0;" width="937.5" x="12" y="385.5703"/><rect fill="#FFFFFF" filter="url(#fpf2c35wblyu3)" height="940.4922" style="stroke: #000000; stroke-width: 2.0;" width="777.5" x="22" y="550.123"/><rect fill="#FFFFFF" filter="url(#fpf2c35wblyu3)" height="484.5684" style="stroke: #000000; stroke-width: 2.0;" width="757.5" x="32" y="757.6074"/><rect fill="#FFFFFF" filter="url(#fpf2c35wblyu3)" height="228.1289" style="stroke: #000000; stroke-width: 2.0;" width="738" x="42" y="824.2285"/><rect fill="#FFFFFF" height="112.8867" style="stroke: none; stroke-width: 1.0;" width="738" x="42" y="939.4707"/><rect fill="#FFFFFF" height="182.8184" style="stroke: none; stroke-width: 1.0;" width="757.5" x="32" y="1059.3574"/><rect fill="#FFFFFF" height="241.4395" style="stroke: none; stroke-width: 1.0;" width="777.5" x="22" y="1249.1758"/><rect fill="#FFFFFF" height="128.1973" style="stroke: none; stroke-width: 1.0;" width="937.5" x="12" y="1497.6152"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="174" x2="174" y1="85.4648" y2="1642.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="394.5" x2="394.5" y1="85.4648" y2="1642.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="727" x2="727" y1="85.4648" y2="1642.8125"/><rect fill="#FEFECE" filter="url(#fpf2c35wblyu3)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="79" x="133" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="140" y="70.5117">Payer FSP</text><rect fill="#FEFECE" filter="url(#fpf2c35wblyu3)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="79" x="133" y="1641.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="140" y="1662.3477">Payer FSP</text><rect fill="#FEFECE" filter="url(#fpf2c35wblyu3)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="326.5" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="370.5" y="54.0234">Switch</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="333.5" y="70.5117">[Quoting Service]</text><rect fill="#FEFECE" filter="url(#fpf2c35wblyu3)" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="326.5" y="1641.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="370.5" y="1662.3477">Switch</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="333.5" y="1678.8359">[Quoting Service]</text><rect fill="#FEFECE" filter="url(#fpf2c35wblyu3)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="685" y="49.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="692" y="70.5117">Payee FSP</text><rect fill="#FEFECE" filter="url(#fpf2c35wblyu3)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="685" y="1641.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="692" y="1662.3477">Payee FSP</text><path d="M179,100.4648 L179,140.4648 L513,140.4648 L513,110.4648 L503,100.4648 L179,100.4648 " fill="#FBFB77" filter="url(#fpf2c35wblyu3)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M503,100.4648 L503,110.4648 L513,110.4648 L503,100.4648 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="309" x="185" y="118.0332">Payer FSP sends request to get bulk quote details</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="185" y="133.3438">to Payee FSP via the Switch</text><polygon fill="#A80036" points="382.5,167.3965,392.5,171.3965,382.5,171.3965" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="174.5" x2="393.5" y1="171.3965" y2="171.3965"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="181.5" y="166.6543">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="194.5" y="166.6543">GET /bulkQuotes/{ID}</text><path d="M399,184.3965 L399,255.3965 L628,255.3965 L628,194.3965 L618,184.3965 L399,184.3965 " fill="#AAAAAA" filter="url(#fpf2c35wblyu3)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M618,184.3965 L618,194.3965 L628,194.3965 L618,184.3965 " fill="#AAAAAA" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="405" y="201.9648">Validate request against</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="405" y="217.2754">Mojaloop interface specification</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="154" x="405" y="232.5859">Error code: 300x, 310x</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208" x="405" y="247.8965">HTTP error response code: 4xx</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="394.5" x2="436.5" y1="285.9492" y2="285.9492"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="436.5" x2="436.5" y1="285.9492" y2="298.9492"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="395.5" x2="436.5" y1="298.9492" y2="298.9492"/><polygon fill="#A80036" points="405.5,294.9492,395.5,298.9492,405.5,302.9492,401.5,298.9492" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="401.5" y="281.207">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="414.5" y="281.207">Schema validation</text><polygon fill="#A80036" points="185.5,329.2598,175.5,329.2598,185.5,333.2598" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="174.5" x2="393.5" y1="328.2598" y2="328.2598"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="191.5" y="323.5176">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="204.5" y="323.5176">202 Accepted</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="394.5" x2="436.5" y1="357.5703" y2="357.5703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="436.5" x2="436.5" y1="357.5703" y2="370.5703"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="395.5" x2="436.5" y1="370.5703" y2="370.5703"/><polygon fill="#A80036" points="405.5,366.5703,395.5,370.5703,405.5,374.5703,401.5,370.5703" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="401.5" y="352.8281">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="414.5" y="352.8281">Retrieve bulk quotes endpoint for Payee FSP</text><path d="M12,385.5703 L74,385.5703 L74,392.5703 L64,402.5703 L12,402.5703 L12,385.5703 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1240.2422" style="stroke: #000000; stroke-width: 2.0;" width="937.5" x="12" y="385.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="27" y="399.1387">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="207" x="89" y="398.2051">[Payee FSP quotes endpoint is found]</text><path d="M399,407.8809 L399,432.8809 L790,432.8809 L790,417.8809 L780,407.8809 L399,407.8809 " fill="#FBFB77" filter="url(#fpf2c35wblyu3)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M780,407.8809 L780,417.8809 L790,417.8809 L780,407.8809 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="370" x="405" y="425.4492">Switch forwards request to Payee FSP (pass-through mode)</text><polygon fill="#A80036" points="715.5,459.502,725.5,463.502,715.5,463.502" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="394.5" x2="726.5" y1="463.502" y2="463.502"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="401.5" y="458.7598">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="414.5" y="458.7598">GET /bulkQuotes/{ID}</text><polygon fill="#A80036" points="405.5,493.8125,395.5,493.8125,405.5,497.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394.5" x2="726.5" y1="492.8125" y2="492.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="411.5" y="488.0703">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="424.5" y="488.0703">202 Accepted</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="727.5" x2="769.5" y1="522.123" y2="522.123"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="769.5" x2="769.5" y1="522.123" y2="535.123"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="728.5" x2="769.5" y1="535.123" y2="535.123"/><polygon fill="#A80036" points="738.5,531.123,728.5,535.123,738.5,539.123,734.5,535.123" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="734.5" y="517.3809">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="747.5" y="517.3809">Payee FSP retireves bulk quote</text><path d="M22,550.123 L84,550.123 L84,557.123 L74,567.123 L22,567.123 L22,550.123 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="940.4922" style="stroke: #000000; stroke-width: 2.0;" width="777.5" x="22" y="550.123"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="37" y="563.6914">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="99" y="562.7578">[Payee FSP successfully retieves quote]</text><path d="M467,572.4336 L467,597.4336 L718,597.4336 L718,582.4336 L708,572.4336 L467,572.4336 " fill="#FBFB77" filter="url(#fpf2c35wblyu3)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M708,572.4336 L708,582.4336 L718,582.4336 L708,572.4336 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="473" y="590.002">Payee FSP responds to quote request</text><polygon fill="#A80036" points="405.5,624.0547,395.5,628.0547,405.5,628.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="394.5" x2="726.5" y1="628.0547" y2="628.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="411.5" y="623.3125">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="424.5" y="623.3125">PUT /quotes/{ID}</text><path d="M399,641.0547 L399,712.0547 L628,712.0547 L628,651.0547 L618,641.0547 L399,641.0547 " fill="#AAAAAA" filter="url(#fpf2c35wblyu3)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M618,641.0547 L618,651.0547 L628,651.0547 L618,641.0547 " fill="#AAAAAA" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="405" y="658.623">Validate request against</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="405" y="673.9336">Mojaloop interface specification</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="154" x="405" y="689.2441">Error code: 300x, 310x</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208" x="405" y="704.5547">HTTP error response code: 4xx</text><polygon fill="#A80036" points="715.5,743.6074,725.5,743.6074,715.5,747.6074" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394.5" x2="726.5" y1="742.6074" y2="742.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="401.5" y="737.8652">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="414.5" y="737.8652">200 Ok</text><path d="M32,757.6074 L94,757.6074 L94,764.6074 L84,774.6074 L32,774.6074 L32,757.6074 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="484.5684" style="stroke: #000000; stroke-width: 2.0;" width="757.5" x="32" y="757.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="47" y="771.1758">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93" x="109" y="770.2422">[Response is ok]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="394.5" x2="436.5" y1="796.2285" y2="796.2285"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="436.5" x2="436.5" y1="796.2285" y2="809.2285"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="395.5" x2="436.5" y1="809.2285" y2="809.2285"/><polygon fill="#A80036" points="405.5,805.2285,395.5,809.2285,405.5,813.2285,401.5,809.2285" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="401.5" y="791.4863">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="297" x="423.5" y="791.4863">Retrieve bulk quotes endpoint for the Payer FSP</text><path d="M42,824.2285 L104,824.2285 L104,831.2285 L94,841.2285 L42,841.2285 L42,824.2285 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="228.1289" style="stroke: #000000; stroke-width: 2.0;" width="738" x="42" y="824.2285"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="57" y="837.7969">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="216" x="119" y="836.8633">[Bulk Quotes callback endpoint found]</text><path d="M52,846.5391 L52,871.5391 L385,871.5391 L385,856.5391 L375,846.5391 L52,846.5391 " fill="#FBFB77" filter="url(#fpf2c35wblyu3)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M375,846.5391 L375,856.5391 L385,856.5391 L375,846.5391 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="312" x="58" y="864.1074">Switch forwards bulk quote response to Payer FSP</text><polygon fill="#A80036" points="185.5,898.1602,175.5,902.1602,185.5,902.1602" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="174.5" x2="393.5" y1="902.1602" y2="902.1602"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="191.5" y="897.418">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="213.5" y="897.418">PUT /bulkQuotes/{ID}</text><polygon fill="#A80036" points="382.5,932.4707,392.5,932.4707,382.5,936.4707" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="174.5" x2="393.5" y1="931.4707" y2="931.4707"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="181.5" y="926.7285">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="203.5" y="926.7285">200 Ok</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="42" x2="780" y1="940.4707" y2="940.4707"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="238" x="47" y="951.1055">[Bulk Quotes callback endpoint not found]</text><path d="M399,959.4258 L399,984.4258 L625,984.4258 L625,969.4258 L615,959.4258 L399,959.4258 " fill="#FBFB77" filter="url(#fpf2c35wblyu3)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M615,959.4258 L615,969.4258 L625,969.4258 L615,959.4258 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="405" y="976.9941">Switch returns error to Payee FSP</text><polygon fill="#A80036" points="715.5,1011.0469,725.5,1015.0469,715.5,1015.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="394.5" x2="726.5" y1="1015.0469" y2="1015.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="401.5" y="1010.3047">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="423.5" y="1010.3047">PUT /bulkQuotes/{ID}/error</text><polygon fill="#A80036" points="405.5,1045.3574,395.5,1045.3574,405.5,1049.3574" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394.5" x2="726.5" y1="1044.3574" y2="1044.3574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="411.5" y="1039.6152">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="433.5" y="1039.6152">200 Ok</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="32" x2="789.5" y1="1060.3574" y2="1060.3574"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="37" y="1070.9922">[Response is invalid]</text><path d="M399,1079.3125 L399,1104.3125 L625,1104.3125 L625,1089.3125 L615,1079.3125 L399,1079.3125 " fill="#FBFB77" filter="url(#fpf2c35wblyu3)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M615,1079.3125 L615,1089.3125 L625,1089.3125 L615,1079.3125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="405" y="1096.8809">Switch returns error to Payee FSP</text><polygon fill="#A80036" points="715.5,1130.9336,725.5,1134.9336,715.5,1134.9336" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="394.5" x2="726.5" y1="1134.9336" y2="1134.9336"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="401.5" y="1130.1914">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="423.5" y="1130.1914">PUT /bulkQuotes/{ID}/error</text><polygon fill="#A80036" points="405.5,1165.2441,395.5,1165.2441,405.5,1169.2441" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394.5" x2="726.5" y1="1164.2441" y2="1164.2441"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="411.5" y="1159.502">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="433.5" y="1159.502">200 Ok</text><path d="M341,1177.2441 L341,1232.2441 L779,1232.2441 L779,1187.2441 L769,1177.2441 L341,1177.2441 " fill="#EC7063" filter="url(#fpf2c35wblyu3)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M769,1177.2441 L769,1187.2441 L779,1187.2441 L769,1177.2441 " fill="#EC7063" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="468.25" y="1194.8125">Note that under this</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="468.25" y="1210.123">scenario the Payer FSP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="468.25" y="1225.4336">may not receive a response</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="22" x2="799.5" y1="1250.1758" y2="1250.1758"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="27" y="1260.8105">[bulkQuote not found]</text><path d="M492,1269.1309 L492,1309.1309 L718,1309.1309 L718,1279.1309 L708,1269.1309 L492,1269.1309 " fill="#FBFB77" filter="url(#fpf2c35wblyu3)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M708,1269.1309 L708,1279.1309 L718,1279.1309 L708,1269.1309 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="498" y="1286.6992">Payee FSP returns error to Switch</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="502" y="1302.0098"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113" x="502" y="1302.0098">Error code: 3205</text><polygon fill="#A80036" points="405.5,1336.0625,395.5,1340.0625,405.5,1340.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="394.5" x2="726.5" y1="1340.0625" y2="1340.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="411.5" y="1335.3203">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="433.5" y="1335.3203">PUT /bulkQuotes/{ID}/error</text><polygon fill="#A80036" points="715.5,1370.373,725.5,1370.373,715.5,1374.373" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="394.5" x2="726.5" y1="1369.373" y2="1369.373"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="401.5" y="1364.6309">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="423.5" y="1364.6309">200 OK</text><path d="M161,1382.373 L161,1422.373 L385,1422.373 L385,1392.373 L375,1382.373 L161,1382.373 " fill="#FBFB77" filter="url(#fpf2c35wblyu3)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M375,1382.373 L375,1392.373 L385,1392.373 L375,1382.373 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="167" y="1399.9414">Switch returns error to Payer FSP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="171" y="1415.252"/><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113" x="171" y="1415.252">Error code: 3205</text><polygon fill="#A80036" points="185.5,1449.3047,175.5,1453.3047,185.5,1453.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="174.5" x2="393.5" y1="1453.3047" y2="1453.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="191.5" y="1448.5625">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="213.5" y="1448.5625">PUT /bulkQuotes/{ID}/error</text><polygon fill="#A80036" points="382.5,1483.6152,392.5,1483.6152,382.5,1487.6152" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="174.5" x2="393.5" y1="1482.6152" y2="1482.6152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="181.5" y="1477.873">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="203.5" y="1477.873">200 OK</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="12" x2="949.5" y1="1498.6152" y2="1498.6152"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="258" x="17" y="1509.25">[Payee FSP Bulk quotes endpoint is not found]</text><path d="M161,1517.5703 L161,1557.5703 L385,1557.5703 L385,1527.5703 L375,1517.5703 L161,1517.5703 " fill="#FBFB77" filter="url(#fpf2c35wblyu3)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M375,1517.5703 L375,1527.5703 L385,1527.5703 L375,1517.5703 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="167" y="1535.1387">Switch returns error to Payer FSP</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113" x="167" y="1550.4492">Error code: 3201</text><polygon fill="#A80036" points="185.5,1584.502,175.5,1588.502,185.5,1588.502" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="174.5" x2="393.5" y1="1588.502" y2="1588.502"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="191.5" y="1583.7598">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="213.5" y="1583.7598">PUT /bulkQuotes/{ID}error</text><polygon fill="#A80036" points="382.5,1618.8125,392.5,1618.8125,382.5,1622.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="174.5" x2="393.5" y1="1617.8125" y2="1617.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="181.5" y="1613.0703">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="203.5" y="1613.0703">200 OK</text><!--
@startuml
Title Retrieve Bulk Quote Information
participant "Payer FSP" as PayerFSP
participant "Switch\n[Quoting Service]" as Switch
participant "Payee FSP" as PayeeFSP

autonumber
note right of PayerFSP: Payer FSP sends request to get bulk quote details \nto Payee FSP via the Switch
PayerFSP -\ Switch: GET /bulkQuotes/{ID}
note right of Switch #aaa
    Validate request against 
    Mojaloop interface specification
    **<color #red>Error code: 300x, 310x</color>**
    **<color #red>HTTP error response code: 4xx</color>**
end note
Switch -> Switch: Schema validation
PayerFSP \- - Switch: 202 Accepted
Switch -> Switch: Retrieve bulk quotes endpoint for Payee FSP
alt Payee FSP quotes endpoint is found
    note right of Switch: Switch forwards request to Payee FSP (pass-through mode)
    Switch -\ PayeeFSP: GET /bulkQuotes/{ID}
    PayeeFSP - -/ Switch: 202 Accepted
    PayeeFSP -> PayeeFSP: Payee FSP retireves bulk quote
    alt Payee FSP successfully retieves quote
        note left of PayeeFSP: Payee FSP responds to quote request
        PayeeFSP -\ Switch: PUT /quotes/{ID}
        note right of Switch #aaa
            Validate request against 
            Mojaloop interface specification
            **<color #red>Error code: 300x, 310x</color>**
            **<color #red>HTTP error response code: 4xx</color>**
        end note
        Switch - -/ PayeeFSP: 200 Ok
        alt Response is ok
            Switch -> Switch: Retrieve bulk quotes endpoint for the Payer FSP
            alt Bulk Quotes callback endpoint found
                note left of Switch: Switch forwards bulk quote response to Payer FSP
                Switch -\ PayerFSP: PUT /bulkQuotes/{ID}
                PayerFSP - -/ Switch: 200 Ok    
            else Bulk Quotes callback endpoint not found
                note right of Switch: Switch returns error to Payee FSP
                Switch -\ PayeeFSP: PUT /bulkQuotes/{ID}/error
                PayeeFSP - -/ Switch : 200 Ok
            end
        else Response is invalid
            note right of Switch: Switch returns error to Payee FSP
            Switch -\ PayeeFSP: PUT /bulkQuotes/{ID}/error
            PayeeFSP - -/ Switch : 200 Ok
            note over Switch, PayeeFSP #ec7063: Note that under this\nscenario the Payer FSP\nmay not receive a response
        end

    else bulkQuote not found
        note left of PayeeFSP: Payee FSP returns error to Switch\n <color #red>**Error code: 3205**</color>
        PayeeFSP -\ Switch: PUT /bulkQuotes/{ID}/error
        Switch - -/ PayeeFSP: 200 OK
        note left of Switch: Switch returns error to Payer FSP\n <color #red>**Error code: 3205**</color>
        Switch -\ PayerFSP: PUT /bulkQuotes/{ID}/error
        PayerFSP - -/ Switch: 200 OK
    end
else Payee FSP Bulk quotes endpoint is not found
    note left of Switch
        Switch returns error to Payer FSP
        **<color #red>Error code: 3201</color>**
    end note
    PayerFSP /- Switch: PUT /bulkQuotes/{ID}error
    PayerFSP - -/ Switch: 200 OK
end
@enduml

PlantUML version 1.2019.06(Sat May 25 01:10:25 PHT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_171-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: AU
--></g></svg>