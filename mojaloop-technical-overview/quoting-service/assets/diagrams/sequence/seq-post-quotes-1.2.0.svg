<svg xmlns="http://www.w3.org/2000/svg" height="2542" preserveAspectRatio="none" style="width:1262px;height:2542px" width="1262">
  <defs>
    <filter height="300%" id="a" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2"/>
      <feColorMatrix in="blurOut" result="blurOut2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3"/>
    </filter>
  </defs>
  <text font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="214" x="522" y="28.708">
    Request Quote Creation
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M841 837.172h10v137.93h-10zM841 1747.695h10v122.797h-10zM841 2140.359h10v62.266h-10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M53 456.172h883v526.93H53z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M63 547.438h518V784.04H63z"/>
  <path fill="#FFF" d="M63 727.102h518v56.938H63z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M299 1022.102h552v116.203H299z"/>
  <path fill="#FFF" d="M299 1081.367h552v56.938H299z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M10 1177.305h1238V2449.36H10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M20 1340.969h1004v974.055H20z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M289 1504.633h725v373.859H289z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M299 1570.898h705v75.398H299zM299 1660.297h335v59.266H299z"/>
  <path fill="#FFF" d="M20 1982.891h1004v332.133H20z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M299 2102.094h605v108.531H299z"/>
  <path fill="#FFF" d="M10 2322.023h1238v127.336H10z"/>
  <path stroke="#a80036" stroke-dasharray="5,5" d="M157 107.844v2358.515M348 107.844v2358.515M846 107.844v2358.515M949 107.844v2358.515"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M114 72.547h82v30.297h-82z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="121" y="92.542">
    Payer FSP
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M114 2465.359h82v30.297h-82z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="121" y="2485.354">
    Payer FSP
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M309 39.953h74v62.891h-74z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="323.5" y="59.948">
    Switch
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="316" y="76.245">
    [Quoting
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="318.5" y="92.542">
    Service]
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M309 2465.359h74v62.891h-74z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="323.5" y="2485.354">
    Switch
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="316" y="2501.651">
    [Quoting
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="318.5" y="2517.948">
    Service]
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="798" y="104.542">
    Central Store
  </text>
  <path d="M828 55.547c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10v-26" fill="#FEFECE" filter="url(#a)" stroke="#000" stroke-width="1.5"/>
  <path d="M828 55.547c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#000" stroke-width="1.5"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="798" y="2478.354">
    Central Store
  </text>
  <path d="M828 2491.656c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10v-26" fill="#FEFECE" filter="url(#a)" stroke="#000" stroke-width="1.5"/>
  <path d="M828 2491.656c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#000" stroke-width="1.5"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M904 72.547h86v30.297h-86z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="911" y="92.542">
    Payee FSP
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M904 2465.359h86v30.297h-86z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="911" y="2485.354">
    Payee FSP
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M841 837.172h10v137.93h-10zM841 1747.695h10v122.797h-10zM841 2140.359h10v62.266h-10z"/>
  <path d="M118 122.844v40h268v-30l-10-10H118" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M376 122.844v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="133" y="139.911">
    Payer FSP sends request for quote
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="133" y="155.043">
    to Payee FSP via the Switch
  </text>
  <path fill="#A80036" stroke="#a80036" d="M336 189.242l10 4h-10z"/>
  <path stroke="#a80036" d="M157 193.242h190"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="164" y="188.176">
    1
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="177" y="188.176">
    POST /quotes
  </text>
  <path d="M353 206.242v70h248v-60l-10-10H353" fill="#AAA" filter="url(#a)" stroke="#a80036"/>
  <path d="M591 206.242v10h10l-10-10" fill="#AAA" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="359" y="223.309">
    Validate request against
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="359" y="238.442">
    Mojaloop interface specification
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="167" x="359" y="253.575">
    Error code: 300x, 310x
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="359" y="268.707">
    HTTP error response code: 4xx
  </text>
  <path stroke="#a80036" d="M348 306.906h42M390 306.906v13M349 319.906h41"/>
  <path fill="#A80036" stroke="#a80036" d="M359 315.906l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="355" y="301.84">
    2
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="368" y="301.84">
    Schema validation
  </text>
  <path fill="#A80036" stroke="#a80036" d="M168 350.04h-10l10 4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M157 349.039h190"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="174" y="343.973">
    3
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="187" y="343.973">
    202 Accepted
  </text>
  <path stroke="#a80036" d="M348 403.172h42M390 403.172v13M349 416.172h41"/>
  <path fill="#A80036" stroke="#a80036" d="M359 412.172l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="355" y="398.106">
    4
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="368" y="398.106">
    Quote request validation (rules engine etc.)
  </text>
  <path d="M53 456.172h64v7l-10 10H53v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M53 456.172h883v526.93H53z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="68" y="469.239">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="211" x="132" y="468.382">
    [SimpleRoutingMode === FALSE]
  </text>
  <path stroke="#a80036" d="M348 494.438h42M390 494.438v13M349 507.438h41"/>
  <path fill="#A80036" stroke="#a80036" d="M359 503.438l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="355" y="489.372">
    5
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="368" y="489.372">
    Duplicate check
  </text>
  <path d="M63 547.438h64v7l-10 10H63v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M63 547.438h518V784.04H63z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="78" y="560.504">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="263" x="142" y="559.648">
    [Request is a duplicate but not a resend]
  </text>
  <path d="M73 594.57v40h266v-30l-10-10H73" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M329 594.57v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="79" y="611.637">
    Switch returns error back to Payer FSP
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="123" x="79" y="626.77">
    Error code: 3106
  </text>
  <path fill="#A80036" stroke="#a80036" d="M168 660.969l-10 4h10z"/>
  <path stroke="#a80036" d="M157 664.969h190"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="174" y="659.903">
    6
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="187" y="659.903">
    PUT /quotes/{ID}/error
  </text>
  <path fill="#A80036" stroke="#a80036" d="M336 695.102h10l-10 4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M157 694.102h190"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="164" y="689.036">
    7
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="177" y="689.036">
    200 OK
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M63 728.102h518"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="241" x="68" y="738.312">
    [Request is a duplicate and a resend]
  </text>
  <path stroke="#a80036" d="M348 763.039h42M390 763.039v13M349 776.039h41"/>
  <path fill="#A80036" stroke="#a80036" d="M359 772.04l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="355" y="757.973">
    8
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="368" y="757.973">
    Switch handles resend scenario
  </text>
  <path fill="#A80036" stroke="#a80036" d="M829 833.172l10 4h-10z"/>
  <path stroke="#a80036" d="M348 837.172h492"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="355" y="832.106">
    9
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="368" y="832.106">
    Persist quote request
  </text>
  <path fill="#FBFB77" filter="url(#a)" stroke="#a80036" d="M776 850.172h140l10 49-10 49H776l-10-49 10-49z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="778" y="866.239">
    quoteDuplicateCheck
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="778" y="881.372">
    transactionReference
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="778" y="896.504">
    quote
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="778" y="911.637">
    quoteParty
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="778" y="926.77">
    quoteExtension
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="778" y="941.903">
    geoCode
  </text>
  <path fill="#A80036" stroke="#a80036" d="M359 976.102h-10l10 4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M348 975.102h497"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="365" y="970.036">
    10
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="387" y="970.036">
    Quote request saved
  </text>
  <path d="M299 1022.102h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M299 1022.102h552v116.203H299z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="314" y="1035.168">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="378" y="1034.312">
    [SimpleRoutingMode === TRUE]
  </text>
  <path stroke="#a80036" d="M348 1060.367h42M390 1060.367v13M349 1073.367h41"/>
  <path fill="#A80036" stroke="#a80036" d="M359 1069.367l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="355" y="1055.301">
    11
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="462" x="377" y="1055.301">
    Use fspiop-destination header to retrieve quotes endpoint for Payee FSP
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M299 1082.367h552"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="211" x="304" y="1092.578">
    [SimpleRoutingMode === FALSE]
  </text>
  <path stroke="#a80036" d="M348 1117.305h42M390 1117.305v13M349 1130.305h41"/>
  <path fill="#A80036" stroke="#a80036" d="M359 1126.305l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="355" y="1112.239">
    12
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="376" x="377" y="1112.239">
    Retireve Payee FSP endpoint using quote party information
  </text>
  <path d="M10 1177.305h64v7l-10 10H10v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M10 1177.305h1238V2449.36H10z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="25" y="1190.372">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="199" x="89" y="1189.515">
    [Payee quotes endpoint found]
  </text>
  <path d="M353 1199.438v25h302v-15l-10-10H353" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M645 1199.438v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="281" x="359" y="1216.504">
    Switch forwards quote request to Payee FSP
  </text>
  <path fill="#A80036" stroke="#a80036" d="M937 1250.703l10 4h-10z"/>
  <path stroke="#a80036" d="M348 1254.703h600"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="355" y="1249.637">
    13
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="377" y="1249.637">
    POST /quotes
  </text>
  <path fill="#A80036" stroke="#a80036" d="M359 1284.836h-10l10 4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M348 1283.836h600"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="365" y="1278.77">
    14
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="387" y="1278.77">
    202 OK
  </text>
  <path stroke="#a80036" d="M949 1312.969h42M991 1312.969v13M950 1325.969h41"/>
  <path fill="#A80036" stroke="#a80036" d="M960 1321.969l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="956" y="1307.903">
    15
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="258" x="978" y="1307.903">
    Payee FSP presists and calculates quote
  </text>
  <path d="M20 1340.969h64v7l-10 10H20v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M20 1340.969h1004v974.055H20z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="35" y="1354.036">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="243" x="99" y="1353.179">
    [Payee quotes processing successful]
  </text>
  <path d="M495 1363.102v25h445v-15l-10-10H495" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M930 1363.102v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="424" x="501" y="1380.168">
    Payee FSP sends quote response back to Payer FSP via the Switch
  </text>
  <path fill="#A80036" stroke="#a80036" d="M359 1414.367l-10 4h10z"/>
  <path stroke="#a80036" d="M348 1418.367h600"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="365" y="1413.301">
    16
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="387" y="1413.301">
    PUT /quotes/{ID}
  </text>
  <path fill="#A80036" stroke="#a80036" d="M937 1448.5h10l-10 4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M348 1447.5h600"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="355" y="1442.434">
    17
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="377" y="1442.434">
    200 OK
  </text>
  <path stroke="#a80036" d="M348 1476.633h42M390 1476.633v13M349 1489.633h41"/>
  <path fill="#A80036" stroke="#a80036" d="M359 1485.633l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="355" y="1471.567">
    18
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="377" y="1471.567">
    Validate quote response
  </text>
  <path d="M289 1504.633h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M289 1504.633h725v373.859H289z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="304" y="1517.7">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="211" x="368" y="1516.843">
    [SimpleRoutingMode === FALSE]
  </text>
  <path stroke="#a80036" d="M348 1542.898h42M390 1542.898v13M349 1555.898h41"/>
  <path fill="#A80036" stroke="#a80036" d="M359 1551.898l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="355" y="1537.832">
    19
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="377" y="1537.832">
    Duplicate check
  </text>
  <path d="M299 1570.898h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M299 1570.898h705v75.398H299z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="314" y="1583.965">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="261" x="378" y="1583.109">
    [Response is duplicate but not a resend]
  </text>
  <path fill="#A80036" stroke="#a80036" d="M937 1605.164l10 4h-10z"/>
  <path stroke="#a80036" d="M348 1609.164h600"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="355" y="1604.098">
    20
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="377" y="1604.098">
    PUT /quotes/{ID}/error
  </text>
  <path fill="#A80036" stroke="#a80036" d="M359 1639.297h-10l10 4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M348 1638.297h600"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="365" y="1633.231">
    21
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="387" y="1633.231">
    200 OK
  </text>
  <path d="M299 1660.297h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M299 1660.297h335v59.266H299z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="314" y="1673.364">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="251" x="378" y="1672.507">
    [Response is a duplicate and a resend]
  </text>
  <path stroke="#a80036" d="M348 1698.563h42M390 1698.563v13M349 1711.563h41"/>
  <path fill="#A80036" stroke="#a80036" d="M359 1707.563l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="355" y="1693.497">
    22
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="377" y="1693.497">
    Switch handles resend scenario
  </text>
  <path fill="#A80036" stroke="#a80036" d="M829 1743.695l10 4h-10z"/>
  <path stroke="#a80036" d="M348 1747.695h492"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="355" y="1742.629">
    23
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="377" y="1742.629">
    Persist quote response
  </text>
  <path fill="#FBFB77" filter="url(#a)" stroke="#a80036" d="M766 1760.695h160l10 41-10 42H766l-10-42 10-41z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="768" y="1776.762">
    quoteResponse
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="768" y="1791.895">
    quoteDuplicateCheck
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="768" y="1807.028">
    quoteResponseIlpPacket
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="768" y="1822.161">
    geoCode
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="768" y="1837.293">
    quoteExtension
  </text>
  <path fill="#A80036" stroke="#a80036" d="M359 1871.492h-10l10 4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M348 1870.492h497"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="365" y="1865.426">
    24
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="387" y="1865.426">
    Quote response saved
  </text>
  <path d="M30 1890.492v25h309v-15l-10-10H30" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M329 1890.492v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="36" y="1907.559">
    Switch forwards quote response to Payer FSP
  </text>
  <path fill="#A80036" stroke="#a80036" d="M168 1941.758l-10 4h10z"/>
  <path stroke="#a80036" d="M157 1945.758h190"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="174" y="1940.692">
    25
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="196" y="1940.692">
    PUT /quotes/{ID}
  </text>
  <path fill="#A80036" stroke="#a80036" d="M336 1975.89h10l-10 4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M157 1974.891h190"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="164" y="1969.825">
    26
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="186" y="1969.825">
    200 OK
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M20 1983.891h1004"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="301" x="25" y="1994.101">
    [Payee rejects quotes or encounters and error]
  </text>
  <path d="M543 2002.695v25h397v-15l-10-10H543" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M930 2002.695v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="376" x="549" y="2019.762">
    Payee FSP sends error callback to Payer FSP via the Switch
  </text>
  <path fill="#A80036" stroke="#a80036" d="M359 2053.96l-10 4h10z"/>
  <path stroke="#a80036" d="M348 2057.961h600"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="365" y="2052.895">
    27
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="387" y="2052.895">
    PUT /quotes/{ID}/error
  </text>
  <path fill="#A80036" stroke="#a80036" d="M937 2088.094h10l-10 4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M348 2087.094h600"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="355" y="2082.028">
    28
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="377" y="2082.028">
    200 OK
  </text>
  <path d="M299 2102.094h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M299 2102.094h605v108.531H299z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="314" y="2115.161">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="211" x="378" y="2114.304">
    [SimpleRoutingMode === FALSE]
  </text>
  <path fill="#A80036" stroke="#a80036" d="M829 2136.36l10 4h-10z"/>
  <path stroke="#a80036" d="M348 2140.359h492"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="355" y="2135.294">
    29
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="377" y="2135.294">
    Store quote error
  </text>
  <path fill="#FBFB77" filter="url(#a)" stroke="#a80036" d="M810 2153.36h72l10 11-10 12h-72l-10-12 10-11z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="812" y="2169.426">
    quoteError
  </text>
  <path fill="#A80036" stroke="#a80036" d="M359 2203.625h-10l10 4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M348 2202.625h497"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="365" y="2197.559">
    30
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="387" y="2197.559">
    Quote error saved
  </text>
  <path d="M44 2222.625v25h295v-15l-10-10H44" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M329 2222.625v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="274" x="50" y="2239.692">
    Switch forwards error callback to Payer FSP
  </text>
  <path fill="#A80036" stroke="#a80036" d="M168 2273.89l-10 4h10z"/>
  <path stroke="#a80036" d="M157 2277.891h190"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="174" y="2272.825">
    31
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="196" y="2272.825">
    PUT /quotes/{ID}/error
  </text>
  <path fill="#A80036" stroke="#a80036" d="M336 2308.023h10l-10 4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M157 2307.023h190"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="164" y="2301.957">
    32
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="186" y="2301.957">
    200 OK
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M10 2323.023h1238"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="252" x="15" y="2333.234">
    [Payee FSP quotes endpoint not found]
  </text>
  <path d="M36 2341.828v40h303v-30l-10-10H36" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M329 2341.828v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="42" y="2358.895">
    Switch sends an error callback to Payer FSP
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="123" x="46" y="2374.028">
    Error code: 3201
  </text>
  <path fill="#A80036" stroke="#a80036" d="M168 2408.227l-10 4h10z"/>
  <path stroke="#a80036" d="M157 2412.227h190"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="174" y="2407.161">
    33
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="196" y="2407.161">
    PUT /quotes/{ID}/error
  </text>
  <path fill="#A80036" stroke="#a80036" d="M336 2437.36l10 4h-10z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M157 2441.359h190"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="164" y="2436.294">
    34
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="186" y="2436.294">
    200 OK
  </text>
</svg>
