<svg xmlns="http://www.w3.org/2000/svg" height="1192" preserveAspectRatio="none" style="width:1250px;height:1192px" width="1250">
  <text font-family="Verdana" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="236" x="503.75" y="28.708">
    Transfer: 1.2.1 Agreement
  </text>
  <path fill="#DDD" stroke="#383838" d="M1 40.953h155v1138.602H1z"/>
  <text font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="62" y="53.02">
    PISP
  </text>
  <path fill="#DDD" stroke="#383838" d="M382 40.953h97v1138.602h-97z"/>
  <text font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="397" y="53.02">
    Mojaloop
  </text>
  <path fill="#DDD" stroke="#383838" d="M729.5 40.953h106v1138.602h-106z"/>
  <text font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="755.5" y="53.02">
    DFSP A
  </text>
  <path stroke="#000" stroke-dasharray="5,5" d="M78 121.648v1063.907M430 121.648v1063.907M782.5 121.648v1063.907"/>
  <path fill="#F4F4F4" stroke="#383838" stroke-width="1.5" d="M5 83.367h147v37.281H5z"/>
  <text font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="133" x="12" y="108.932">
    PISP Server
  </text>
  <path fill="#F4F4F4" stroke="#383838" stroke-width="1.5" d="M386 83.367h89v37.281h-89z"/>
  <text font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="393" y="108.932">
    Switch
  </text>
  <path fill="#F4F4F4" stroke="#383838" stroke-width="1.5" d="M733.5 60.086h98v60.563h-98z"/>
  <text font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="741.5" y="85.65">
    DFSP A
  </text>
  <text font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="740.5" y="108.932">
    (Payer)
  </text>
  <path fill="#EEE" stroke="#eee" d="M0 152.215h1243.5v3H0z"/>
  <path stroke="#000" d="M0 152.215h1243.5M0 155.215h1243.5"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M546.25 141.648h151v23.133h-151z"/>
  <text font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="552.25" y="157.715">
    Agreement Phase
  </text>
  <path fill="#FFF" stroke="#383838" d="M83 179.781h459v446H83z"/>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="296" x="87" y="195.848">
    POST /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="87" y="210.981">
    FSPIOP-Source: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="87" y="226.114">
    FSPIOP-Destination: dfspa
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="87" y="241.247">
    {
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="443" x="95" y="256.379">
    &quot;transactionRequestId&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="95" y="271.512">
    &quot;payee&quot;: {
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="103" y="286.645">
    &quot;partyIdInfo&quot;: {
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="111" y="301.778">
    &quot;partyIdType&quot;: &quot;MSISDN&quot;,
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="111" y="316.911">
    &quot;partyIdentifier&quot;: &quot;+4412345678&quot;,
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="111" y="332.043">
    &quot;fspId&quot;: &quot;dfspb&quot;
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="103" y="347.176">
    }
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="95" y="362.309">
    },
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="95" y="377.442">
    &quot;payer&quot;: {
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="103" y="392.575">
    &quot;partyIdType&quot;: &quot;THIRD_PARTY_LINK&quot;,
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="103" y="407.707">
    &quot;partyIdentifier&quot;: &quot;qwerty-56789&quot;,
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="103" y="422.84">
    &quot;fspId&quot;: &quot;dfspa&quot;
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="95" y="437.973">
    },
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="95" y="453.106">
    &quot;amountType&quot;: &quot;SEND&quot;,
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="95" y="468.239">
    &quot;amount&quot;: {
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="103" y="483.372">
    &quot;amount&quot;: &quot;100&quot;,
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="103" y="498.504">
    &quot;currency&quot;: &quot;USD&quot;
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="95" y="513.637">
    },
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="95" y="528.77">
    &quot;transactionType&quot;: {
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="103" y="543.903">
    &quot;scenario&quot;: &quot;TRANSFER&quot;,
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="103" y="559.036">
    &quot;initiator&quot;: &quot;PAYER&quot;,
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="103" y="574.168">
    &quot;initiatorType&quot;: &quot;CONSUMER&quot;
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="95" y="589.301">
    },
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="297" x="95" y="604.434">
    &quot;expiration&quot;: &quot;2020-06-15T22:17:28.985-01:00&quot;
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="87" y="619.567">
    }
  </text>
  <path stroke="#000" d="M418.5 648.766l10 4-10 4 4-4zM78.5 652.766h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="106.5" y="647.7">
    POST /thirdpartyRequests/transactions
  </text>
  <path stroke="#000" d="M89.5 677.898l-10 4 10 4-4-4z"/>
  <path stroke="#000" stroke-dasharray="2,2" d="M83.5 681.898h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="206.5" y="676.832">
    202 Accepted
  </text>
  <path stroke="#000" d="M770.5 707.031l10 4-10 4 4-4zM430.5 711.031h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="458.5" y="705.965">
    POST /thirdpartyRequests/transactions
  </text>
  <path stroke="#000" d="M441.5 736.164l-10 4 10 4-4-4z"/>
  <path stroke="#000" stroke-dasharray="2,2" d="M435.5 740.164h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="558.5" y="735.098">
    202 Accepted
  </text>
  <path stroke="#000" d="M782.5 784.43h42M824.5 784.43v13M783.5 797.43h41M793.5 793.43l-10 4 10 4-4-4z"/>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="789.5" y="764.231">
    Lookup the consent for this
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="967.5" y="764.231">
    payer
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="1007.5" y="764.231">
    , verify that they exist, and consent
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="789.5" y="779.364">
    is granted with a valid credential
  </text>
  <path stroke="#000" d="M782.5 826.563h42M824.5 826.563v13M783.5 839.563h41M793.5 835.563l-10 4 10 4-4-4z"/>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="789.5" y="821.497">
    Store a referece to the
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="939.5" y="821.497">
    consentId
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="1015.5" y="821.497">
    with the
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="1069.5" y="821.497">
    transactionRequestId
  </text>
  <path stroke="#000" d="M782.5 883.828h42M824.5 883.828v13M783.5 896.828h41M793.5 892.828l-10 4 10 4-4-4z"/>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="387" x="789.5" y="863.629">
    Generate a unique transactionId for this transaction request:
  </text>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="288" x="789.5" y="878.762">
    11111111-0000-0000-0000-000000000000
  </text>
  <path fill="#FFF" stroke="#383838" d="M441 909.828h336v113H441z"/>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="288" x="445" y="925.895">
    PUT /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="296" x="477" y="941.028">
    /00000000-0000-0000-0000-000000000000
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="445" y="956.161">
    FSPIOP-Source: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="445" y="971.293">
    FSPIOP-Destination: pispa
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="445" y="986.426">
    {
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="453" y="1001.559">
    &quot;transactionRequestState&quot;: &quot;RECEIVED&quot;
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="445" y="1016.692">
    }
  </text>
  <path stroke="#000" d="M441.5 1061.023l-10 4 10 4-4-4zM435.5 1065.023h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="462.5" y="1044.825">
    PUT /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="474.5" y="1059.957">
    /00000000-0000-0000-0000-000000000000
  </text>
  <path stroke="#000" d="M770.5 1090.156l10 4-10 4 4-4z"/>
  <path stroke="#000" stroke-dasharray="2,2" d="M430.5 1094.156h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="582.5" y="1089.09">
    200 OK
  </text>
  <path stroke="#000" d="M89.5 1134.422l-10 4 10 4-4-4zM83.5 1138.422h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="110.5" y="1118.223">
    PUT /thirdpartyRequests/transactions
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="122.5" y="1133.356">
    /00000000-0000-0000-0000-000000000000
  </text>
  <path stroke="#000" d="M418.5 1163.555l10 4-10 4 4-4z"/>
  <path stroke="#000" stroke-dasharray="2,2" d="M78.5 1167.555h346"/>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="230.5" y="1162.489">
    200 OK
  </text>
</svg>
