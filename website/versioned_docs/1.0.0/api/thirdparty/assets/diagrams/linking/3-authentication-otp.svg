<svg xmlns="http://www.w3.org/2000/svg" height="591" preserveAspectRatio="none" style="width:1381px;height:591px" width="1381">
  <text font-family="Verdana" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="305" x="540.75" y="28.708">
    PISP Linking: Authentication (OTP)
  </text>
  <path fill="#DDD" stroke="#383838" d="M542 40.953h97v537.938h-97z"/>
  <text font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="557" y="53.02">
    Mojaloop
  </text>
  <path fill="#F4F4F4" stroke="#000" d="M585.5 296.297h10V459.36h-10zM1143.5 430.227h10v145.664h-10z"/>
  <path stroke="#000" d="M37 98.367v10"/>
  <path stroke="#000" stroke-dasharray="1,4" d="M37 108.367v28"/>
  <path stroke="#000" d="M37 136.367V171.5"/>
  <path stroke="#000" stroke-dasharray="1,4" d="M37 171.5v28"/>
  <path stroke="#000" d="M37 199.5v385.391M590 98.367v10"/>
  <path stroke="#000" stroke-dasharray="1,4" d="M590 108.367v28"/>
  <path stroke="#000" d="M590 136.367V171.5"/>
  <path stroke="#000" stroke-dasharray="1,4" d="M590 171.5v28"/>
  <path stroke="#000" d="M590 199.5v385.391M1148.5 98.367v10"/>
  <path stroke="#000" stroke-dasharray="1,4" d="M1148.5 108.367v28"/>
  <path stroke="#000" d="M1148.5 136.367V171.5"/>
  <path stroke="#000" stroke-dasharray="1,4" d="M1148.5 171.5v28"/>
  <path stroke="#000" d="M1148.5 199.5v385.391"/>
  <path fill="#F4F4F4" stroke="#383838" stroke-width="1.5" d="M5 60.086h65v37.281H5z"/>
  <text font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="12" y="85.65">
    PISP
  </text>
  <path fill="#F4F4F4" stroke="#383838" stroke-width="1.5" d="M546 60.086h89v37.281h-89z"/>
  <text font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="553" y="85.65">
    Switch
  </text>
  <path fill="#F4F4F4" stroke="#383838" stroke-width="1.5" d="M1111.5 60.086h74v37.281h-74z"/>
  <text font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="1118.5" y="85.65">
    DFSP
  </text>
  <path fill="#F4F4F4" stroke="#000" d="M585.5 296.297h10V459.36h-10zM1143.5 430.227h10v145.664h-10z"/>
  <path d="M5 141.367v25h1175v-15l-10-10H5" fill="#ECECEC" stroke="#383838"/>
  <path d="M1170 141.367v10h10l-10-10" fill="#ECECEC" stroke="#383838"/>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="1041" x="67.75" y="158.434">
    Here the user provides the OTP sent directly to them by the DFSP into the PISP App. It&apos;s then used as the secret to prove to the DFSP that the user trusts the PISP.
  </text>
  <path stroke="#000" d="M573.5 292.297l10 4-10 4 4-4zM37.5 296.297h542"/>
  <text font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="44.5" y="253.399">
    AUTH-1
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="472" x="101.5" y="215.567">
    PATCH /consentRequests/11111111-0000-0000-0000-000000000000
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="133.5" y="230.7">
    FSIOP-Source: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="133.5" y="245.833">
    FSIOP-Destination: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="109.5" y="260.965">
    {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="133.5" y="276.098">
    authToken: &quot;&lt;OTP&gt;&quot;
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="117.5" y="291.231">
    }
  </text>
  <path stroke="#000" d="M48.5 321.43l-10 4 10 4-4-4z"/>
  <path stroke="#000" stroke-dasharray="2,2" d="M42.5 325.43h542"/>
  <text font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="54.5" y="320.364">
    AUTH-2
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="111.5" y="320.364">
    202 Accepted
  </text>
  <path stroke="#000" d="M1131.5 426.227l10 4-10 4 4-4zM595.5 430.227h542"/>
  <text font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="602.5" y="387.329">
    AUTH-3
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="472" x="659.5" y="349.497">
    PATCH /consentRequests/11111111-0000-0000-0000-000000000000
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="691.5" y="364.629">
    FSIOP-Source: pispa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="691.5" y="379.762">
    FSIOP-Destination: dfspa
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="667.5" y="394.895">
    {
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="691.5" y="410.028">
    authToken: &quot;&lt;OTP&gt;&quot;
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="675.5" y="425.161">
    }
  </text>
  <path stroke="#000" d="M601.5 455.36l-10 4 10 4-4-4z"/>
  <path stroke="#000" stroke-dasharray="2,2" d="M595.5 459.359h547"/>
  <text font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="607.5" y="454.293">
    AUTH-4
  </text>
  <text font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="664.5" y="454.293">
    202 Accepted
  </text>
  <path stroke="#000" d="M1153.5 488.492h42M1195.5 488.492v13M1154.5 501.492h41M1164.5 497.492l-10 4 10 4-4-4z"/>
  <text font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="1160.5" y="483.426">
    AUTH-5
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="1217.5" y="483.426">
    Verify the OTP is correct.
  </text>
  <path d="M5 514.492v55h1175v-45l-10-10H5" fill="#ECECEC" stroke="#383838"/>
  <path d="M1170 514.492v10h10l-10-10" fill="#ECECEC" stroke="#383838"/>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="986" x="95.25" y="531.559">
    At this point, the DFSP believes that the User is their customer and that User trusts the PISP. This means that the DFSP can continue by granting consent.
  </text>
  <text font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="820" x="95.25" y="561.825">
    Note that the DFSP never &quot;responds&quot; to the Consent Request itself. Instead, it will create a Consent resource in the Grant phase.
  </text>
</svg>
