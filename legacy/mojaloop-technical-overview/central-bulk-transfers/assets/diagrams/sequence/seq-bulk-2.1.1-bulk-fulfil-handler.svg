<svg xmlns="http://www.w3.org/2000/svg" height="4337" preserveAspectRatio="none" style="width:1879px;height:4337px" width="1879">
  <defs>
    <filter height="300%" id="a" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2"/>
      <feColorMatrix in="blurOut" result="blurOut2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3"/>
    </filter>
  </defs>
  <text font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="307" x="784" y="28.708">
    2.1.1. Bulk Fulfil Handler Consume
  </text>
  <path fill="#FFFFE0" stroke="#a80036" d="M36 40.953h1738v4290.172H36z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="849.5" y="53.02">
    Central Service
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M88 3166.891h10v29.133H88zM198.5 179.945h10v30h-10zM516 134.68h10v4118.852h-10zM1009 3627.477h10v30h-10zM1365.5 1744.711h10v30h-10zM1365.5 2485.227h10v30h-10zM1365.5 4201.531h10v30h-10zM1479 1132.195h10v150.797h-10zM1479 2622.563h10v151.664h-10zM1479 2879.563h10v166.797h-10zM1717 1161.328h10v92.531h-10zM1717 2651.695h10v30h-10zM1717 2908.695h10v30h-10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M10 141.68h1855v4104.852H10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M466 224.945h407v120.664H466z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M476 249.078h387v89.531H476zM476 359.609h826.5v156.664H476zM476 530.273h972.5v142.664H476zM446 686.938h1409V3075.36H446z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M476 879.867h1304v160.797H476zM456 1054.664h1389v2013.695H456z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M476 1078.797h1349v703.914H476z"/>
  <path fill="#FFF" d="M456 1789.711h1389v733.516H456zM456 2523.227h1389v545.133H456z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M466 2545.031h1369v516.328H466z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M476 2569.164h1349v213.063H476z"/>
  <path fill="#FFF" d="M466 2789.227h1369v272.133H466z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M476 2811.031h1349v243.328H476zM20 3089.359h1428.5v1150.172H20z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M30 3113.492h1053.5v551.984H30z"/>
  <path fill="#FFF" d="M20 3672.477h1428.5v567.055H20z"/>
  <path stroke="#a80036" stroke-dasharray="5,5" d="M93 124.68v4138.851M203 124.68v4138.851M521 124.68v4138.851M1013.5 124.68v4138.851M1132.5 124.68v4138.851M1242.5 124.68v4138.851M1370.5 124.68v4138.851M1483.5 124.68v4138.851M1722 124.68v4138.851"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M44 69.086h98v46.594H44z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M40 73.086h98v46.594H40z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="62" y="93.081">
    mongo-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="47" y="109.378">
    object-store
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M44 4262.531h98v46.594H44z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M40 4266.531h98v46.594H40z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="62" y="4286.526">
    mongo-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="47" y="4302.823">
    object-store
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M160 69.086h87v46.594h-87z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M156 73.086h87v46.594h-87z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="163" y="93.081">
    topic-bulk-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="186.5" y="109.378">
    fulfil
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M160 4262.531h87v46.594h-87z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M156 4266.531h87v46.594h-87z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="163" y="4286.526">
    topic-bulk-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="186.5" y="4302.823">
    fulfil
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="486" y="105.081">
    Bulk Fulfil
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="491.5" y="121.378">
    Handler
  </text>
  <circle cx="521" cy="76.086" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M517 64.086l6-5-2 5 2 5-6-5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="486" y="4275.526">
    Bulk Fulfil
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="491.5" y="4291.823">
    Handler
  </text>
  <circle cx="521" cy="4311.125" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M517 4299.125l6-5-2 5 2 5-6-5z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M958.5 69.086h111v46.594h-111z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M954.5 73.086h111v46.594h-111z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="961.5" y="93.081">
    topic-transfer-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="997" y="109.378">
    fulfil
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M958.5 4262.531h111v46.594h-111z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M954.5 4266.531h111v46.594h-111z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="961.5" y="4286.526">
    topic-transfer-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="997" y="4302.823">
    fulfil
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1087.5 69.086h91v46.594h-91z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1083.5 73.086h91v46.594h-91z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="1092.5" y="93.081">
    topic-bulk-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1090.5" y="109.378">
    processing
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1087.5 4262.531h91v46.594h-91z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1083.5 4266.531h91v46.594h-91z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="1092.5" y="4286.526">
    topic-bulk-
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1090.5" y="4302.823">
    processing
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1196.5 85.383h92v30.297h-92z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1192.5 89.383h92v30.297h-92z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="1199.5" y="109.378">
    topic-event
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1196.5 4262.531h92v30.297h-92z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1192.5 4266.531h92v30.297h-92z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="1199.5" y="4286.526">
    topic-event
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1306.5 85.383h128v30.297h-128z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1302.5 89.383h128v30.297h-128z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="1309.5" y="109.378">
    topic-notification
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1306.5 4262.531h128v30.297h-128z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1302.5 4266.531h128v30.297h-128z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="1309.5" y="4286.526">
    topic-notification
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1448.5" y="121.378">
    Bulk DAO
  </text>
  <circle cx="1484" cy="92.383" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path stroke="#a80036" stroke-width="2" d="M1472 106.383h24"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1448.5" y="4275.526">
    Bulk DAO
  </text>
  <circle cx="1484" cy="4294.828" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path stroke="#a80036" stroke-width="2" d="M1472 4308.828h24"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1674" y="121.378">
    Central Store
  </text>
  <path d="M1704 72.383c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10v-26" fill="#FEFECE" filter="url(#a)" stroke="#000" stroke-width="1.5"/>
  <path d="M1704 72.383c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#000" stroke-width="1.5"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1674" y="4275.526">
    Central Store
  </text>
  <path d="M1704 4288.828c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10v-26" fill="#FEFECE" filter="url(#a)" stroke="#000" stroke-width="1.5"/>
  <path d="M1704 4288.828c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#000" stroke-width="1.5"/>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M88 3166.891h10v29.133H88zM198.5 179.945h10v30h-10zM516 134.68h10v4118.852h-10zM1009 3627.477h10v30h-10zM1365.5 1744.711h10v30h-10zM1365.5 2485.227h10v30h-10zM1365.5 4201.531h10v30h-10zM1479 1132.195h10v150.797h-10zM1479 2622.563h10v151.664h-10zM1479 2879.563h10v166.797h-10zM1717 1161.328h10v92.531h-10zM1717 2651.695h10v30h-10zM1717 2908.695h10v30h-10z"/>
  <path d="M10 141.68h254v7l-10 10H10v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M10 141.68h1855v4104.852H10z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="209" x="25" y="154.747">
    Bulk Fulfil Handler Consume
  </text>
  <path fill="#A80036" stroke="#a80036" d="M219.5 175.945l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M213.5 179.945H515"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="225.5" y="174.879">
    1
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="238.5" y="174.879">
    Consume message
  </text>
  <path d="M466 224.945h88v7l-10 10h-78v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M466 224.945h407v120.664H466z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="481" y="238.012">
    break
  </text>
  <path d="M476 249.078h152v7l-10 10H476v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M476 249.078h387v89.531H476z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="491" y="262.145">
    Validate Event
  </text>
  <path stroke="#a80036" d="M526 317.609h42M568 317.609v13M527 330.609h41"/>
  <path fill="#A80036" stroke="#a80036" d="M537 326.61l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="533" y="297.411">
    2
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="546" y="282.278">
    Validate event - Rule:
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="305" x="546" y="297.411">
    type == &apos;bulk-fulfil&apos; &amp;&amp; action == &apos;bulk-commit&apos;
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="546" y="312.543">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="640" y="312.543">
    2001
  </text>
  <path d="M476 359.61h232v7l-10 10H476v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M476 359.609h826.5v156.664H476z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187" x="491" y="372.676">
    Persist Event Information
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1230.5 418.875l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M526 422.875h710.5"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="533" y="417.809">
    3
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="546" y="417.809">
    Publish event information
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M483 430.875h808.5v55.398H483z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M483 430.875h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="496" y="444.942">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="809.75" y="463.942">
    Event Handler Consume
  </text>
  <path d="M476 530.273h240v7l-10 10H476v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M476 530.273h972.5v142.664H476z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="195" x="491" y="543.34">
    Validate FSPIOP-Signature
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M483 572.406h954.5v70.531H483z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M483 572.406h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="496" y="586.473">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="783.75" y="605.473">
    Validate message.content.headers.
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="1011.75" y="605.473">
    FSPIOP-Signature
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="783.75" y="620.606">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="877.75" y="620.606">
    3105/3106
  </text>
  <path d="M446 686.938h250v7l-10 10H446v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M446 686.938h1409V3075.36H446z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="461" y="700.004">
    Validate Bulk Fulfil Transfer
  </text>
  <path stroke="#a80036" d="M526 725.203h42M568 725.203v13M527 738.203h41"/>
  <path fill="#A80036" stroke="#a80036" d="M537 734.203l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="533" y="720.137">
    4
  </text>
  <text fill="gray" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="546" y="720.137">
    Schema validation of the incoming message
  </text>
  <path stroke="#a80036" d="M526 782.469h42M568 782.469v13M527 795.469h41"/>
  <path fill="#A80036" stroke="#a80036" d="M537 791.469l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="533" y="769.836">
    5
  </text>
  <text fill="gray" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="546" y="762.27">
    Verify the message&apos;s signature
  </text>
  <text fill="gray" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="546" y="777.403">
    (to be confirmed in future requirement)
  </text>
  <path d="M531 808.469v55h373v-45l-10-10H531" fill="#D3D3D3" filter="url(#a)" stroke="#a80036"/>
  <path d="M894 808.469v10h10l-10-10" fill="#D3D3D3" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="345" x="537" y="825.536">
    The above validation steps are already handled by the
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="346" x="537" y="840.668">
    Bulk-API-Adapter for the open source implementation.
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="352" x="537" y="855.801">
    It may need to be added in future for custom adapters.
  </text>
  <path d="M476 879.867h231v7l-10 10H476v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M476 879.867h1304v160.797H476z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="186" x="491" y="892.934">
    Validate Duplicate Check
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1710 939.133l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M526 943.133h1190"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="533" y="938.067">
    6
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="546" y="938.067">
    Request Duplicate Check
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M483 951.133h1286v55.398H483z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M483 951.133h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="496" y="965.2">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="1048.5" y="984.2">
    Request Duplicate Check
  </text>
  <path fill="#A80036" stroke="#a80036" d="M537 1028.664l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M531 1032.664h1190"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="543" y="1027.598">
    7
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="408" x="556" y="1027.598">
    Return { hasDuplicateId: Boolean, hasDuplicateHash: Boolean }
  </text>
  <path d="M456 1054.664h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M456 1054.664h1389v2013.695H456z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="471" y="1067.731">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="368" x="535" y="1066.874">
    [hasDuplicateId == TRUE &amp;&amp; hasDuplicateHash == TRUE]
  </text>
  <path d="M476 1078.797h88v7l-10 10h-78v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M476 1078.797h1349v703.914H476z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="491" y="1091.864">
    break
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1467 1128.195l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M526 1132.195h947"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="533" y="1119.563">
    8
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="546" y="1111.997">
    Request to retrieve Bulk Transfer state &amp; completedTimestamp
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="546" y="1127.129">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="632" y="1127.129">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1705 1157.328l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1489 1161.328h222"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1496" y="1156.262">
    9
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1509" y="1156.262">
    Query database
  </text>
  <path fill="#FFFFE0" filter="url(#a)" stroke="#a80036" d="M1639 1174.328h166l10 26-10 27h-166l-10-27 10-26z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1641" y="1190.395">
    bulkTransfer
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1641" y="1205.528">
    bulkTransferFulfilment
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1641" y="1220.661">
    bulkTransferStateChange
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1500 1249.86l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M1494 1253.859h227"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1506" y="1248.793">
    10
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1528" y="1248.793">
    Return resultset
  </text>
  <path fill="#A80036" stroke="#a80036" d="M537 1278.992l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M531 1282.992h952"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="543" y="1277.926">
    11
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="565" y="1277.926">
    Return
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="611" y="1277.926">
    bulkTransferStateId
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="11" x="761" y="1277.926">
    &amp;
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="776" y="1277.926">
    completedTimestamp
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="941" y="1277.926">
    (not null when completed)
  </text>
  <path d="M531 1295.992v418h290v-408l-10-10H531" fill="#FF0" filter="url(#a)" stroke="#a80036"/>
  <path d="M811 1295.992v10h10l-10-10" fill="#FF0" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="537" y="1313.059">
    Message:
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="1328.192">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="553" y="1343.325">
    id: &lt;messageId&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="553" y="1358.457">
    from: &lt;ledgerName&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="553" y="1373.59">
    to: &lt;payeeFspName&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="553" y="1388.723">
    type: application/json
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="553" y="1403.856">
    content: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="569" y="1418.989">
    headers: &lt;bulkTransferHeaders&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="569" y="1434.122">
    payload: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="585" y="1449.254">
    bulkTransferState: &lt;string&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="585" y="1464.387">
    completedTimestamp: &lt;optional&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="1479.52">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="553" y="1494.653">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="553" y="1509.786">
    metadata: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="569" y="1524.918">
    event: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="585" y="1540.051">
    id: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="585" y="1555.184">
    responseTo: &lt;previous.uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="585" y="1570.317">
    type: &quot;notification&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="585" y="1585.45">
    action: &quot;bulk-fulfil-duplicate&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="585" y="1600.582">
    createdAt: &lt;timestamp&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="585" y="1615.715">
    state: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="601" y="1630.848">
    status: &quot;success&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="601" y="1645.981">
    code: 0
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="585" y="1661.114">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="1676.247">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="553" y="1691.379">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="1706.512">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1353.5 1740.71l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M526 1744.711h833.5"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="533" y="1739.645">
    12
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="555" y="1739.645">
    Publish Notification event for Payee
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M456 1790.711h1389"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="374" x="461" y="1800.921">
    [hasDuplicateId == TRUE &amp;&amp; hasDuplicateHash == FALSE]
  </text>
  <path d="M531 1809.516v630h316v-620l-10-10H531" fill="#FF0" filter="url(#a)" stroke="#a80036"/>
  <path d="M837 1809.516v10h10l-10-10" fill="#FF0" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="1826.582">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="553" y="1841.715">
    id: &lt;messageId&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="553" y="1856.848">
    from: &lt;ledgerName&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="553" y="1871.981">
    to: &lt;payeeFspName&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="553" y="1887.114">
    type: &quot;application/json&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="553" y="1902.247">
    content: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="569" y="1917.379">
    headers: &lt;bulkTransferHeaders&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="569" y="1932.512">
    payload: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="585" y="1947.645">
    errorInformation: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="601" y="1962.778">
    errorCode: &quot;3106&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="601" y="1977.911">
    errorDescription: &quot;Modified request&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="601" y="1993.043">
    extensionList: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="617" y="2008.176">
    extension: [
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="633" y="2023.309">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="649" y="2038.442">
    key: &quot;_cause&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="649" y="2053.575">
    value: &lt;FSPIOPError&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="633" y="2068.707">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="617" y="2083.84">
    ]
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="601" y="2098.973">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="585" y="2114.106">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="585" y="2129.239">
    uriParams: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="601" y="2144.372">
    id: &lt;bulkTransferId&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="585" y="2159.504">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="2174.637">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="553" y="2189.77">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="553" y="2204.903">
    metadata: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="569" y="2220.036">
    correlationId: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="569" y="2235.169">
    event: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="585" y="2250.301">
    id: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="585" y="2265.434">
    type: &quot;notification&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="585" y="2280.567">
    action: &quot;bulk-commit&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="585" y="2295.7">
    createdAt: &lt;timestamp&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="585" y="2310.832">
    state: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="601" y="2325.965">
    status: &quot;error&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="601" y="2341.098">
    code: &quot;3106&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="601" y="2356.231">
    description: &quot;Modified request&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="585" y="2371.364">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="585" y="2386.497">
    responseTo: &lt;uuid&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="2401.629">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="553" y="2416.762">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="2431.895">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1353.5 2481.227l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M526 2485.227h833.5"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="533" y="2472.594">
    13
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="555" y="2465.028">
    Publish Notification (failure) event for Payer
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="555" y="2480.161">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="649" y="2480.161">
    3106
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M456 2524.227h1389"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="171" x="461" y="2534.437">
    [hasDuplicateId == FALSE]
  </text>
  <path d="M466 2545.031h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M466 2545.031h1369v516.328H466z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="481" y="2558.098">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="255" x="545" y="2557.242">
    [Validate Bulk Transfer Fulfil (success)]
  </text>
  <path d="M476 2569.164h539v7l-10 10H476v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M476 2569.164h1349v213.063H476z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="494" x="491" y="2582.231">
    Persist Bulk Transfer State (with bulktransferState=&apos;PROCESSING&apos;)
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1467 2618.563l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M526 2622.563h947"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="533" y="2609.93">
    14
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="555" y="2602.364">
    Request to persist bulk transfer fulfil
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="555" y="2617.497">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="649" y="2617.497">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1705 2647.695l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1489 2651.695h222"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1496" y="2646.629">
    15
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="1518" y="2646.629">
    Persist bulkTransferFulfilment
  </text>
  <path fill="#FFFFE0" filter="url(#a)" stroke="#a80036" d="M1639 2694.695h166l10 26-10 27h-166l-10-27 10-26z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1641" y="2710.762">
    bulkTransferFulfilment
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1641" y="2725.895">
    bulkTransferStateChange
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1641" y="2741.028">
    bulkTransferExtension
  </text>
  <path fill="#A80036" stroke="#a80036" d="M537 2770.227l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M531 2774.227h952"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="543" y="2769.161">
    16
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="565" y="2769.161">
    Return success
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M466 2790.227h1369"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="246" x="471" y="2800.437">
    [Validate Bulk Transfer Fulfil (failure)]
  </text>
  <path d="M476 2811.031h580v7l-10 10H476v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M476 2811.031h1349v243.328H476z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="535" x="491" y="2824.098">
    Persist Bulk Transfer State (with bulkTransferState=&apos;INVALID/REJECTED&apos;)
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1467 2875.563l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M526 2879.563h947"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="533" y="2859.364">
    17
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="555" y="2844.231">
    Request to persist bulk
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="555" y="2859.364">
    transfer fulfil failure
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="555" y="2874.497">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="649" y="2874.497">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1705 2904.695l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1489 2908.695h222"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1496" y="2903.629">
    18
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="1518" y="2903.629">
    Persist transfer
  </text>
  <path fill="#FFFFE0" filter="url(#a)" stroke="#a80036" d="M1639 2951.695h166l10 34-10 34h-166l-10-34 10-34z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1641" y="2967.762">
    bulkTransferFulfilment
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1641" y="2982.895">
    bulkTransferStateChange
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1641" y="2998.028">
    bulkTransferExtension
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="1641" y="3013.161">
    bulkTransferError
  </text>
  <path fill="#A80036" stroke="#a80036" d="M537 3042.36l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M531 3046.359h952"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="543" y="3041.294">
    19
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="565" y="3041.294">
    Return success
  </text>
  <path d="M20 3089.36h64v7l-10 10H20v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M20 3089.359h1428.5v1150.172H20z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="35" y="3102.426">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="255" x="99" y="3101.57">
    [Validate Bulk Transfer Fulfil (success)]
  </text>
  <path d="M30 3113.492h77v7l-10 10H30v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M30 3113.492h1053.5v551.984H30z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="45" y="3126.559">
    loop
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="319" x="122" y="3125.703">
    [for every individual transfer in the bulk fulfil list]
  </text>
  <path fill="#A80036" stroke="#a80036" d="M109 3162.89l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M103 3166.891h412"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="115" y="3154.258">
    20
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="137" y="3146.692">
    Retrieve individual transfers from the bulk using
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="137" y="3161.825">
    reference:
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="308" x="206" y="3161.825">
    MLOS.individualTransferFulfils.messageId
  </text>
  <path fill="#A80036" stroke="#a80036" d="M504 3192.023l10 4-10 4 4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M93 3196.023h417"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="100" y="3190.957">
    21
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="122" y="3190.957">
    Stream bulk&apos;s individual transfer fulfils
  </text>
  <path d="M531 3209.023v373h262v-363l-10-10H531" fill="#FF0" filter="url(#a)" stroke="#a80036"/>
  <path d="M783 3209.023v10h10l-10-10" fill="#FF0" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="537" y="3226.09">
    Message:
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="3241.223">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="553" y="3256.356">
    id: &lt;messageId&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="553" y="3271.489">
    from: &lt;payeeFspName&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="553" y="3286.622">
    to: &lt;payerFspName&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="553" y="3301.754">
    type: &quot;application/json&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="553" y="3316.887">
    content: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="569" y="3332.02">
    headers: &lt;transferHeaders&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="569" y="3347.153">
    payload: &lt;transferMessage&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="553" y="3362.286">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="553" y="3377.419">
    metadata: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="569" y="3392.551">
    event: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="585" y="3407.684">
    id: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="585" y="3422.817">
    responseTo: &lt;previous.uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="585" y="3437.95">
    type: &quot;fulfil&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="585" y="3453.082">
    action: &quot;bulk-commit&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="585" y="3468.215">
    createdAt: &lt;timestamp&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="585" y="3483.348">
    state: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="601" y="3498.481">
    status: &quot;success&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="601" y="3513.614">
    code: 0
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="585" y="3528.747">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="3543.879">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="553" y="3559.012">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="3574.145">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M997 3623.477l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M526 3627.477h477"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="533" y="3614.844">
    22
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="442" x="555" y="3607.278">
    Route &amp; Publish Prepare event to the Payer for the Individual Transfer
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="555" y="3622.411">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="649" y="3622.411">
    2003
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M20 3673.477h1428.5"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="246" x="25" y="3683.687">
    [Validate Bulk Transfer Fulfil (failure)]
  </text>
  <path d="M531 3692.281v463h613v-453l-10-10H531" fill="#FF0" filter="url(#a)" stroke="#a80036"/>
  <path d="M1134 3692.281v10h10l-10-10" fill="#FF0" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="537" y="3709.348">
    Message:
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="3724.481">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="553" y="3739.614">
    id: &lt;messageId&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="553" y="3754.747">
    from: &lt;ledgerName&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="553" y="3769.879">
    to: &lt;payerFspName&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="553" y="3785.012">
    type: &quot;application/json&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="553" y="3800.145">
    content: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="569" y="3815.278">
    headers: &lt;bulkTransferHeaders&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="569" y="3830.411">
    payload: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="585" y="3845.544">
    &quot;errorInformation&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="528" x="601" y="3860.676">
    &quot;errorCode&quot;: &lt;possible codes: [2003, 3100, 3105, 3106, 3202, 3203, 3300, 3301]&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="393" x="601" y="3875.809">
    &quot;errorDescription&quot;: &quot;&lt;refer to section 35.1.3 for description&gt;&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="319" x="601" y="3890.942">
    &quot;extensionList&quot;: &lt;transferMessage.extensionList&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="3906.075">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="553" y="3921.207">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="553" y="3936.34">
    metadata: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="569" y="3951.473">
    event: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="585" y="3966.606">
    id: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="585" y="3981.739">
    responseTo: &lt;previous.uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="585" y="3996.872">
    type: &quot;notification&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="585" y="4012.004">
    action: &quot;bulk-abort&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="585" y="4027.137">
    createdAt: &lt;timestamp&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="585" y="4042.27">
    state: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="601" y="4057.403">
    status: &apos;error&apos;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="601" y="4072.536">
    code: &lt;errorInformation.errorCode&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="311" x="601" y="4087.669">
    description: &lt;errorInformation.errorDescription&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="585" y="4102.801">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="4117.934">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="553" y="4133.067">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="4148.2">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1353.5 4197.531l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M526 4201.531h833.5"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="533" y="4188.899">
    23
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="555" y="4181.333">
    Publish Notification (failure) event for Payer
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="555" y="4196.465">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="649" y="4196.465">
    2003
  </text>
</svg>
