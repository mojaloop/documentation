<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1192px" preserveAspectRatio="none" style="width:1250px;height:1192px" version="1.1" viewBox="0 0 1250 1192" width="1250px" zoomAndPan="magnify">
  <defs/>
  <g>
    <text fill="#000000" font-family="Verdana" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="236" x="503.75" y="28.708">Transfer: 1.2.1 Agreement</text>
    <rect fill="#DDDDDD" height="1138.6016" style="stroke:#383838;stroke-width:1.0" width="155" x="1" y="40.9531"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="62" y="53.02">PISP</text>
    <rect fill="#DDDDDD" height="1138.6016" style="stroke:#383838;stroke-width:1.0" width="97" x="382" y="40.9531"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="397" y="53.02">Mojaloop</text>
    <rect fill="#DDDDDD" height="1138.6016" style="stroke:#383838;stroke-width:1.0" width="106" x="729.5" y="40.9531"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="755.5" y="53.02">DFSP A</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="78" x2="78" y1="121.6484" y2="1185.5547"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="430" x2="430" y1="121.6484" y2="1185.5547"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="782.5" x2="782.5" y1="121.6484" y2="1185.5547"/>
    <rect fill="#F4F4F4" height="37.2813" style="stroke:#383838;stroke-width:1.5" width="147" x="5" y="83.3672"/>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="133" x="12" y="108.9316">PISP Server</text>
    <rect fill="#F4F4F4" height="37.2813" style="stroke:#383838;stroke-width:1.5" width="89" x="386" y="83.3672"/>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="393" y="108.9316">Switch</text>
    <rect fill="#F4F4F4" height="60.5625" style="stroke:#383838;stroke-width:1.5" width="98" x="733.5" y="60.0859"/>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="741.5" y="85.6504">DFSP A</text>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="740.5" y="108.9316">(Payer)</text>
    <rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0" width="1243.5" x="0" y="152.2148"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="0" x2="1243.5" y1="152.2148" y2="152.2148"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="0" x2="1243.5" y1="155.2148" y2="155.2148"/>
    <rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0" width="151" x="546.25" y="141.6484"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="552.25" y="157.7153">Agreement Phase</text>
    <rect fill="#FFFFFF" height="446" style="stroke:#383838;stroke-width:1.0" width="459" x="83" y="179.7813"/>
    <text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="296" x="87" y="195.8481">POST /thirdpartyRequests/transactions</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="87" y="210.981">FSPIOP-Source: pispa</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="87" y="226.1138">FSPIOP-Destination: dfspa</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="87" y="241.2466">{</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="443" x="95" y="256.3794">&quot;transactionRequestId&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="95" y="271.5122">&quot;payee&quot;: {</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="103" y="286.645">&quot;partyIdInfo&quot;: {</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="111" y="301.7778">&quot;partyIdType&quot;: &quot;MSISDN&quot;,</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="111" y="316.9106">&quot;partyIdentifier&quot;: &quot;+4412345678&quot;,</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="111" y="332.0435">&quot;fspId&quot;: &quot;dfspb&quot;</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="103" y="347.1763">}</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="95" y="362.3091">},</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="95" y="377.4419">&quot;payer&quot;: {</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="103" y="392.5747">&quot;partyIdType&quot;: &quot;THIRD_PARTY_LINK&quot;,</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="103" y="407.7075">&quot;partyIdentifier&quot;: &quot;qwerty-56789&quot;,</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="103" y="422.8403">&quot;fspId&quot;: &quot;dfspa&quot;</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="95" y="437.9731">},</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="95" y="453.106">&quot;amountType&quot;: &quot;SEND&quot;,</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="95" y="468.2388">&quot;amount&quot;: {</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="103" y="483.3716">&quot;amount&quot;: &quot;100&quot;,</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="103" y="498.5044">&quot;currency&quot;: &quot;USD&quot;</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="95" y="513.6372">},</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="95" y="528.77">&quot;transactionType&quot;: {</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="103" y="543.9028">&quot;scenario&quot;: &quot;TRANSFER&quot;,</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="103" y="559.0356">&quot;initiator&quot;: &quot;PAYER&quot;,</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="103" y="574.1685">&quot;initiatorType&quot;: &quot;CONSUMER&quot;</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="95" y="589.3013">},</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="297" x="95" y="604.4341">&quot;expiration&quot;: &quot;2020-06-15T22:17:28.985-01:00&quot;</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="87" y="619.5669">}</text>
    <polygon fill="#000000" points="418.5,648.7656,428.5,652.7656,418.5,656.7656,422.5,652.7656" style="stroke:#000000;stroke-width:1.0"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="78.5" x2="424.5" y1="652.7656" y2="652.7656"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="106.5" y="647.6997">POST /thirdpartyRequests/transactions</text>
    <polygon fill="#000000" points="89.5,677.8984,79.5,681.8984,89.5,685.8984,85.5,681.8984" style="stroke:#000000;stroke-width:1.0"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="83.5" x2="429.5" y1="681.8984" y2="681.8984"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="206.5" y="676.8325">202 Accepted</text>
    <polygon fill="#000000" points="770.5,707.0313,780.5,711.0313,770.5,715.0313,774.5,711.0313" style="stroke:#000000;stroke-width:1.0"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="430.5" x2="776.5" y1="711.0313" y2="711.0313"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="458.5" y="705.9653">POST /thirdpartyRequests/transactions</text>
    <polygon fill="#000000" points="441.5,736.1641,431.5,740.1641,441.5,744.1641,437.5,740.1641" style="stroke:#000000;stroke-width:1.0"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="435.5" x2="781.5" y1="740.1641" y2="740.1641"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="558.5" y="735.0981">202 Accepted</text>
    <line style="stroke:#000000;stroke-width:1.0" x1="782.5" x2="824.5" y1="784.4297" y2="784.4297"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="824.5" x2="824.5" y1="784.4297" y2="797.4297"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="783.5" x2="824.5" y1="797.4297" y2="797.4297"/>
    <polygon fill="#000000" points="793.5,793.4297,783.5,797.4297,793.5,801.4297,789.5,797.4297" style="stroke:#000000;stroke-width:1.0"/>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="789.5" y="764.231">Lookup the consent for this</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="967.5" y="764.231">payer</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="1007.5" y="764.231">, verify that they exist, and consent</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="789.5" y="779.3638">is granted with a valid credential</text>
    <line style="stroke:#000000;stroke-width:1.0" x1="782.5" x2="824.5" y1="826.5625" y2="826.5625"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="824.5" x2="824.5" y1="826.5625" y2="839.5625"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="783.5" x2="824.5" y1="839.5625" y2="839.5625"/>
    <polygon fill="#000000" points="793.5,835.5625,783.5,839.5625,793.5,843.5625,789.5,839.5625" style="stroke:#000000;stroke-width:1.0"/>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="789.5" y="821.4966">Store a referece to the</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="939.5" y="821.4966">consentId</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="1015.5" y="821.4966">with the</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="1069.5" y="821.4966">transactionRequestId</text>
    <line style="stroke:#000000;stroke-width:1.0" x1="782.5" x2="824.5" y1="883.8281" y2="883.8281"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="824.5" x2="824.5" y1="883.8281" y2="896.8281"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="783.5" x2="824.5" y1="896.8281" y2="896.8281"/>
    <polygon fill="#000000" points="793.5,892.8281,783.5,896.8281,793.5,900.8281,789.5,896.8281" style="stroke:#000000;stroke-width:1.0"/>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="387" x="789.5" y="863.6294">Generate a unique transactionId for this transaction request:</text>
    <text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="288" x="789.5" y="878.7622">11111111-0000-0000-0000-000000000000</text>
    <rect fill="#FFFFFF" height="113" style="stroke:#383838;stroke-width:1.0" width="336" x="441" y="909.8281"/>
    <text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="288" x="445" y="925.895">PUT /thirdpartyRequests/transactions</text>
    <text fill="#000000" font-family="monospace" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="296" x="477" y="941.0278">/00000000-0000-0000-0000-000000000000</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="445" y="956.1606">FSPIOP-Source: dfspa</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="445" y="971.2935">FSPIOP-Destination: pispa</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="445" y="986.4263">{</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="453" y="1001.5591">&quot;transactionRequestState&quot;: &quot;RECEIVED&quot;</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="445" y="1016.6919">}</text>
    <polygon fill="#000000" points="441.5,1061.0234,431.5,1065.0234,441.5,1069.0234,437.5,1065.0234" style="stroke:#000000;stroke-width:1.0"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="435.5" x2="781.5" y1="1065.0234" y2="1065.0234"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="462.5" y="1044.8247">PUT /thirdpartyRequests/transactions</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="474.5" y="1059.9575">/00000000-0000-0000-0000-000000000000</text>
    <polygon fill="#000000" points="770.5,1090.1563,780.5,1094.1563,770.5,1098.1563,774.5,1094.1563" style="stroke:#000000;stroke-width:1.0"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="430.5" x2="776.5" y1="1094.1563" y2="1094.1563"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="582.5" y="1089.0903">200 OK</text>
    <polygon fill="#000000" points="89.5,1134.4219,79.5,1138.4219,89.5,1142.4219,85.5,1138.4219" style="stroke:#000000;stroke-width:1.0"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="83.5" x2="429.5" y1="1138.4219" y2="1138.4219"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="110.5" y="1118.2231">PUT /thirdpartyRequests/transactions</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="122.5" y="1133.356">/00000000-0000-0000-0000-000000000000</text>
    <polygon fill="#000000" points="418.5,1163.5547,428.5,1167.5547,418.5,1171.5547,422.5,1167.5547" style="stroke:#000000;stroke-width:1.0"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="78.5" x2="424.5" y1="1167.5547" y2="1167.5547"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="230.5" y="1162.4888">200 OK</text>
  </g>
</svg>
