<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="591px" preserveAspectRatio="none" style="width:1381px;height:591px" version="1.1" viewBox="0 0 1381 591" width="1381px" zoomAndPan="magnify">
  <defs/>
  <g>
    <text fill="#000000" font-family="Verdana" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="305" x="540.75" y="28.708">PISP Linking: Authentication (OTP)</text>
    <rect fill="#DDDDDD" height="537.9375" style="stroke:#383838;stroke-width:1.0" width="97" x="542" y="40.9531"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="557" y="53.02">Mojaloop</text>
    <rect fill="#F4F4F4" height="163.0625" style="stroke:#000000;stroke-width:1.0" width="10" x="585.5" y="296.2969"/>
    <rect fill="#F4F4F4" height="145.6641" style="stroke:#000000;stroke-width:1.0" width="10" x="1143.5" y="430.2266"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="37" x2="37" y1="98.3672" y2="108.3672"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0" x1="37" x2="37" y1="108.3672" y2="136.3672"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="37" x2="37" y1="136.3672" y2="171.5"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0" x1="37" x2="37" y1="171.5" y2="199.5"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="37" x2="37" y1="199.5" y2="584.8906"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="590" x2="590" y1="98.3672" y2="108.3672"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0" x1="590" x2="590" y1="108.3672" y2="136.3672"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="590" x2="590" y1="136.3672" y2="171.5"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0" x1="590" x2="590" y1="171.5" y2="199.5"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="590" x2="590" y1="199.5" y2="584.8906"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="1148.5" x2="1148.5" y1="98.3672" y2="108.3672"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0" x1="1148.5" x2="1148.5" y1="108.3672" y2="136.3672"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="1148.5" x2="1148.5" y1="136.3672" y2="171.5"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0" x1="1148.5" x2="1148.5" y1="171.5" y2="199.5"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="1148.5" x2="1148.5" y1="199.5" y2="584.8906"/>
    <rect fill="#F4F4F4" height="37.2813" style="stroke:#383838;stroke-width:1.5" width="65" x="5" y="60.0859"/>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="12" y="85.6504">PISP</text>
    <rect fill="#F4F4F4" height="37.2813" style="stroke:#383838;stroke-width:1.5" width="89" x="546" y="60.0859"/>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="553" y="85.6504">Switch</text>
    <rect fill="#F4F4F4" height="37.2813" style="stroke:#383838;stroke-width:1.5" width="74" x="1111.5" y="60.0859"/>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="1118.5" y="85.6504">DFSP</text>
    <rect fill="#F4F4F4" height="163.0625" style="stroke:#000000;stroke-width:1.0" width="10" x="585.5" y="296.2969"/>
    <rect fill="#F4F4F4" height="145.6641" style="stroke:#000000;stroke-width:1.0" width="10" x="1143.5" y="430.2266"/>
    <path d="M5,141.3672 L5,166.3672 L1180,166.3672 L1180,151.3672 L1170,141.3672 L5,141.3672 " fill="#ECECEC" style="stroke:#383838;stroke-width:1.0"/>
    <path d="M1170,141.3672 L1170,151.3672 L1180,151.3672 L1170,141.3672 " fill="#ECECEC" style="stroke:#383838;stroke-width:1.0"/>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="1041" x="67.75" y="158.4341">Here the user provides the OTP sent directly to them by the DFSP into the PISP App. It&apos;s then used as the secret to prove to the DFSP that the user trusts the PISP.</text>
    <polygon fill="#000000" points="573.5,292.2969,583.5,296.2969,573.5,300.2969,577.5,296.2969" style="stroke:#000000;stroke-width:1.0"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="37.5" x2="579.5" y1="296.2969" y2="296.2969"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="44.5" y="253.3989">AUTH-1</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="472" x="101.5" y="215.5669">PATCH /consentRequests/11111111-0000-0000-0000-000000000000</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="117.5" y="230.6997"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="133.5" y="230.6997">FSIOP-Source: pispa</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="117.5" y="245.8325"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="133.5" y="245.8325">FSIOP-Destination: dfspa</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="109.5" y="260.9653">{</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="117.5" y="276.0981"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="133.5" y="276.0981">authToken: &quot;&lt;OTP&gt;&quot;</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="117.5" y="291.231"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="117.5" y="291.231">}</text>
    <polygon fill="#000000" points="48.5,321.4297,38.5,325.4297,48.5,329.4297,44.5,325.4297" style="stroke:#000000;stroke-width:1.0"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="42.5" x2="584.5" y1="325.4297" y2="325.4297"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="54.5" y="320.3638">AUTH-2</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="111.5" y="320.3638">202 Accepted</text>
    <polygon fill="#000000" points="1131.5,426.2266,1141.5,430.2266,1131.5,434.2266,1135.5,430.2266" style="stroke:#000000;stroke-width:1.0"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="595.5" x2="1137.5" y1="430.2266" y2="430.2266"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="602.5" y="387.3286">AUTH-3</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="472" x="659.5" y="349.4966">PATCH /consentRequests/11111111-0000-0000-0000-000000000000</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="675.5" y="364.6294"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="691.5" y="364.6294">FSIOP-Source: pispa</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="675.5" y="379.7622"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="691.5" y="379.7622">FSIOP-Destination: dfspa</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="667.5" y="394.895">{</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="675.5" y="410.0278"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="691.5" y="410.0278">authToken: &quot;&lt;OTP&gt;&quot;</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="675.5" y="425.1606"/>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="675.5" y="425.1606">}</text>
    <polygon fill="#000000" points="601.5,455.3594,591.5,459.3594,601.5,463.3594,597.5,459.3594" style="stroke:#000000;stroke-width:1.0"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="595.5" x2="1142.5" y1="459.3594" y2="459.3594"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="607.5" y="454.2935">AUTH-4</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="664.5" y="454.2935">202 Accepted</text>
    <line style="stroke:#000000;stroke-width:1.0" x1="1153.5" x2="1195.5" y1="488.4922" y2="488.4922"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="1195.5" x2="1195.5" y1="488.4922" y2="501.4922"/>
    <line style="stroke:#000000;stroke-width:1.0" x1="1154.5" x2="1195.5" y1="501.4922" y2="501.4922"/>
    <polygon fill="#000000" points="1164.5,497.4922,1154.5,501.4922,1164.5,505.4922,1160.5,501.4922" style="stroke:#000000;stroke-width:1.0"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="1160.5" y="483.4263">AUTH-5</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="1217.5" y="483.4263">Verify the OTP is correct.</text>
    <path d="M5,514.4922 L5,569.4922 L1180,569.4922 L1180,524.4922 L1170,514.4922 L5,514.4922 " fill="#ECECEC" style="stroke:#383838;stroke-width:1.0"/>
    <path d="M1170,514.4922 L1170,524.4922 L1180,524.4922 L1170,514.4922 " fill="#ECECEC" style="stroke:#383838;stroke-width:1.0"/>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="986" x="95.25" y="531.5591">At this point, the DFSP believes that the User is their customer and that User trusts the PISP. This means that the DFSP can continue by granting consent.</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="99.25" y="546.6919"/>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="820" x="95.25" y="561.8247">Note that the DFSP never &quot;responds&quot; to the Consent Request itself. Instead, it will create a Consent resource in the Grant phase.</text>
  </g>
</svg>
