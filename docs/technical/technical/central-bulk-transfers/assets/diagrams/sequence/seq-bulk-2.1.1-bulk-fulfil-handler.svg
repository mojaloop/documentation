<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="4505px" preserveAspectRatio="none" style="width:2114px;height:4505px" version="1.1" viewBox="0 0 2114 4505" width="2114px" zoomAndPan="magnify">
  <defs>
    <filter height="300%" id="f1hlicdrmykj15" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
      <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
    </filter>
  </defs>
  <g>
    <text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="307" x="906.5" y="28.708">2.1.1. Bulk Fulfil Handler Consume</text>
    <rect fill="#FFFFE0" height="4458.8359" style="stroke:#A80036;stroke-width:1.0" width="1983" x="36" y="40.9531"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="972" y="53.02">Central Service</text>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="29.1328" style="stroke:#A80036;stroke-width:1.0" width="10" x="88" y="3166.8906"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="29.1328" style="stroke:#A80036;stroke-width:1.0" width="10" x="88" y="3225.1563"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="29.1328" style="stroke:#A80036;stroke-width:1.0" width="10" x="88" y="3805.9453"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="29.1328" style="stroke:#A80036;stroke-width:1.0" width="10" x="88" y="3864.2109"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="198.5" y="179.9453"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="4287.5156" style="stroke:#A80036;stroke-width:1.0" width="10" x="696" y="134.6797"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1254" y="3685.7422"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1254" y="4370.1953"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1610.5" y="1744.7109"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1610.5" y="2485.2266"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="150.7969" style="stroke:#A80036;stroke-width:1.0" width="10" x="1724" y="1132.1953"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="151.6641" style="stroke:#A80036;stroke-width:1.0" width="10" x="1724" y="2622.5625"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="166.7969" style="stroke:#A80036;stroke-width:1.0" width="10" x="1724" y="2879.5625"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="92.5313" style="stroke:#A80036;stroke-width:1.0" width="10" x="1962" y="1161.3281"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1962" y="2651.6953"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1962" y="2908.6953"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="120.6641" style="stroke:#000000;stroke-width:2.0" width="407" x="646" y="224.9453"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="89.5313" style="stroke:#000000;stroke-width:2.0" width="387" x="656" y="249.0781"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="156.6641" style="stroke:#000000;stroke-width:2.0" width="891.5" x="656" y="359.6094"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="142.6641" style="stroke:#000000;stroke-width:2.0" width="1037.5" x="656" y="530.2734"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="2388.4219" style="stroke:#000000;stroke-width:2.0" width="1474" x="626" y="686.9375"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="160.7969" style="stroke:#000000;stroke-width:2.0" width="1369" x="656" y="879.8672"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="2013.6953" style="stroke:#000000;stroke-width:2.0" width="1454" x="636" y="1054.6641"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="703.9141" style="stroke:#000000;stroke-width:2.0" width="1414" x="656" y="1078.7969"/>
    <rect fill="#FFFFFF" height="733.5156" style="stroke:none;stroke-width:1.0" width="1454" x="636" y="1789.7109"/>
    <rect fill="#FFFFFF" height="545.1328" style="stroke:none;stroke-width:1.0" width="1454" x="636" y="2523.2266"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="516.3281" style="stroke:#000000;stroke-width:2.0" width="1434" x="646" y="2545.0313"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="213.0625" style="stroke:#000000;stroke-width:2.0" width="1414" x="656" y="2569.1641"/>
    <rect fill="#FFFFFF" height="272.1328" style="stroke:none;stroke-width:1.0" width="1434" x="646" y="2789.2266"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="243.3281" style="stroke:#000000;stroke-width:2.0" width="1414" x="656" y="2811.0313"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="1325.8359" style="stroke:#000000;stroke-width:2.0" width="1318.5" x="20" y="3089.3594"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="610.25" style="stroke:#000000;stroke-width:2.0" width="1298.5" x="30" y="3113.4922"/>
    <rect fill="#FFFFFF" height="684.4531" style="stroke:none;stroke-width:1.0" width="1318.5" x="20" y="3730.7422"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="655.6484" style="stroke:#000000;stroke-width:2.0" width="1298.5" x="30" y="3752.5469"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="93" x2="93" y1="124.6797" y2="4432.1953"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="203" x2="203" y1="124.6797" y2="4432.1953"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="701" x2="701" y1="124.6797" y2="4432.1953"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1258.5" x2="1258.5" y1="124.6797" y2="4432.1953"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1377.5" x2="1377.5" y1="124.6797" y2="4432.1953"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1487.5" x2="1487.5" y1="124.6797" y2="4432.1953"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1615.5" x2="1615.5" y1="124.6797" y2="4432.1953"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1728.5" x2="1728.5" y1="124.6797" y2="4432.1953"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1967" x2="1967" y1="124.6797" y2="4432.1953"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="98" x="44" y="69.0859"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="98" x="40" y="73.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="62" y="93.0811">mongo-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="47" y="109.3779">object-store</text>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="98" x="44" y="4431.1953"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="98" x="40" y="4435.1953"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="62" y="4455.1904">mongo-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="47" y="4471.4873">object-store</text>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="87" x="160" y="69.0859"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="87" x="156" y="73.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="163" y="93.0811">topic-bulk-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="186.5" y="109.3779">fulfil</text>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="87" x="160" y="4431.1953"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="87" x="156" y="4435.1953"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="163" y="4455.1904">topic-bulk-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="186.5" y="4471.4873">fulfil</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="666" y="105.0811">Bulk Fulfil</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="671.5" y="121.3779">Handler</text>
    <ellipse cx="701" cy="76.0859" fill="#FEFECE" filter="url(#f1hlicdrmykj15)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0"/>
    <polygon fill="#A80036" points="697,64.0859,703,59.0859,701,64.0859,703,69.0859,697,64.0859" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="666" y="4444.1904">Bulk Fulfil</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="671.5" y="4460.4873">Handler</text>
    <ellipse cx="701" cy="4479.7891" fill="#FEFECE" filter="url(#f1hlicdrmykj15)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0"/>
    <polygon fill="#A80036" points="697,4467.7891,703,4462.7891,701,4467.7891,703,4472.7891,697,4467.7891" style="stroke:#A80036;stroke-width:1.0"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="111" x="1203.5" y="69.0859"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="111" x="1199.5" y="73.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="1206.5" y="93.0811">topic-transfer-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="1242" y="109.3779">fulfil</text>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="111" x="1203.5" y="4431.1953"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="111" x="1199.5" y="4435.1953"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="1206.5" y="4455.1904">topic-transfer-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="1242" y="4471.4873">fulfil</text>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="91" x="1332.5" y="69.0859"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="91" x="1328.5" y="73.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="1337.5" y="93.0811">topic-bulk-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1335.5" y="109.3779">processing</text>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="91" x="1332.5" y="4431.1953"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="91" x="1328.5" y="4435.1953"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="1337.5" y="4455.1904">topic-bulk-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1335.5" y="4471.4873">processing</text>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="92" x="1441.5" y="85.3828"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="92" x="1437.5" y="89.3828"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="1444.5" y="109.3779">topic-event</text>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="92" x="1441.5" y="4431.1953"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="92" x="1437.5" y="4435.1953"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="1444.5" y="4455.1904">topic-event</text>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="128" x="1551.5" y="85.3828"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="128" x="1547.5" y="89.3828"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="1554.5" y="109.3779">topic-notification</text>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="128" x="1551.5" y="4431.1953"/>
    <rect fill="#FEFECE" filter="url(#f1hlicdrmykj15)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="128" x="1547.5" y="4435.1953"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="1554.5" y="4455.1904">topic-notification</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1693.5" y="121.3779">Bulk DAO</text>
    <ellipse cx="1729" cy="92.3828" fill="#FEFECE" filter="url(#f1hlicdrmykj15)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0"/>
    <line style="stroke:#A80036;stroke-width:2.0" x1="1717" x2="1741" y1="106.3828" y2="106.3828"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1693.5" y="4444.1904">Bulk DAO</text>
    <ellipse cx="1729" cy="4463.4922" fill="#FEFECE" filter="url(#f1hlicdrmykj15)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0"/>
    <line style="stroke:#A80036;stroke-width:2.0" x1="1717" x2="1741" y1="4477.4922" y2="4477.4922"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1919" y="121.3779">Central Store</text>
    <path d="M1949,72.3828 C1949,62.3828 1967,62.3828 1967,62.3828 C1967,62.3828 1985,62.3828 1985,72.3828 L1985,98.3828 C1985,108.3828 1967,108.3828 1967,108.3828 C1967,108.3828 1949,108.3828 1949,98.3828 L1949,72.3828 " fill="#FEFECE" filter="url(#f1hlicdrmykj15)" style="stroke:#000000;stroke-width:1.5"/>
    <path d="M1949,72.3828 C1949,82.3828 1967,82.3828 1967,82.3828 C1967,82.3828 1985,82.3828 1985,72.3828 " fill="none" style="stroke:#000000;stroke-width:1.5"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1919" y="4444.1904">Central Store</text>
    <path d="M1949,4457.4922 C1949,4447.4922 1967,4447.4922 1967,4447.4922 C1967,4447.4922 1985,4447.4922 1985,4457.4922 L1985,4483.4922 C1985,4493.4922 1967,4493.4922 1967,4493.4922 C1967,4493.4922 1949,4493.4922 1949,4483.4922 L1949,4457.4922 " fill="#FEFECE" filter="url(#f1hlicdrmykj15)" style="stroke:#000000;stroke-width:1.5"/>
    <path d="M1949,4457.4922 C1949,4467.4922 1967,4467.4922 1967,4467.4922 C1967,4467.4922 1985,4467.4922 1985,4457.4922 " fill="none" style="stroke:#000000;stroke-width:1.5"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="29.1328" style="stroke:#A80036;stroke-width:1.0" width="10" x="88" y="3166.8906"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="29.1328" style="stroke:#A80036;stroke-width:1.0" width="10" x="88" y="3225.1563"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="29.1328" style="stroke:#A80036;stroke-width:1.0" width="10" x="88" y="3805.9453"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="29.1328" style="stroke:#A80036;stroke-width:1.0" width="10" x="88" y="3864.2109"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="198.5" y="179.9453"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="4287.5156" style="stroke:#A80036;stroke-width:1.0" width="10" x="696" y="134.6797"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1254" y="3685.7422"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1254" y="4370.1953"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1610.5" y="1744.7109"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1610.5" y="2485.2266"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="150.7969" style="stroke:#A80036;stroke-width:1.0" width="10" x="1724" y="1132.1953"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="151.6641" style="stroke:#A80036;stroke-width:1.0" width="10" x="1724" y="2622.5625"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="166.7969" style="stroke:#A80036;stroke-width:1.0" width="10" x="1724" y="2879.5625"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="92.5313" style="stroke:#A80036;stroke-width:1.0" width="10" x="1962" y="1161.3281"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1962" y="2651.6953"/>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1962" y="2908.6953"/>
    <polygon fill="#A80036" points="219.5,175.9453,209.5,179.9453,219.5,183.9453,215.5,179.9453" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="213.5" x2="695" y1="179.9453" y2="179.9453"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="225.5" y="174.8794">1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="238.5" y="174.8794">Consume message</text>
    <path d="M646,224.9453 L734,224.9453 L734,231.9453 L724,241.9453 L646,241.9453 L646,224.9453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="120.6641" style="stroke:#000000;stroke-width:2.0" width="407" x="646" y="224.9453"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="661" y="238.0122">break</text>
    <path d="M656,249.0781 L808,249.0781 L808,256.0781 L798,266.0781 L656,266.0781 L656,249.0781 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="89.5313" style="stroke:#000000;stroke-width:2.0" width="387" x="656" y="249.0781"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="671" y="262.145">Validate Event</text>
    <line style="stroke:#A80036;stroke-width:1.0" x1="706" x2="748" y1="317.6094" y2="317.6094"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="748" x2="748" y1="317.6094" y2="330.6094"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="707" x2="748" y1="330.6094" y2="330.6094"/>
    <polygon fill="#A80036" points="717,326.6094,707,330.6094,717,334.6094,713,330.6094" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="713" y="297.4106">2</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="726" y="282.2778">Validate event - Rule:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="305" x="726" y="297.4106">type == &apos;bulk-fulfil&apos; &amp;&amp; action == &apos;bulk-commit&apos;</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="726" y="312.5435">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="820" y="312.5435">2001</text>
    <path d="M656,359.6094 L888,359.6094 L888,366.6094 L878,376.6094 L656,376.6094 L656,359.6094 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="156.6641" style="stroke:#000000;stroke-width:2.0" width="891.5" x="656" y="359.6094"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187" x="671" y="372.6763">Persist Event Information</text>
    <polygon fill="#A80036" points="1475.5,418.875,1485.5,422.875,1475.5,426.875,1479.5,422.875" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="706" x2="1481.5" y1="422.875" y2="422.875"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="713" y="417.8091">3</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="726" y="417.8091">Publish event information</text>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="55.3984" style="stroke:#000000;stroke-width:2.0" width="873.5" x="663" y="430.875"/>
    <polygon fill="#EEEEEE" points="663,430.875,729,430.875,729,437.875,719,447.875,663,447.875,663,430.875" style="stroke:#000000;stroke-width:2.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="676" y="444.9419">ref</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="1022.25" y="463.9419">Event Handler Consume</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1026.25" y="479.0747"/>
    <path d="M656,530.2734 L896,530.2734 L896,537.2734 L886,547.2734 L656,547.2734 L656,530.2734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="142.6641" style="stroke:#000000;stroke-width:2.0" width="1037.5" x="656" y="530.2734"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="195" x="671" y="543.3403">Validate FSPIOP-Signature</text>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="70.5313" style="stroke:#000000;stroke-width:2.0" width="1019.5" x="663" y="572.4063"/>
    <polygon fill="#EEEEEE" points="663,572.4063,729,572.4063,729,579.4063,719,589.4063,663,589.4063,663,572.4063" style="stroke:#000000;stroke-width:2.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="676" y="586.4731">ref</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="996.25" y="605.4731">Validate message.content.headers.</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="1224.25" y="605.4731">FSPIOP-Signature</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="996.25" y="620.606">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1090.25" y="620.606">3105/3106</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1000.25" y="635.7388"/>
    <path d="M626,686.9375 L876,686.9375 L876,693.9375 L866,703.9375 L626,703.9375 L626,686.9375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="2388.4219" style="stroke:#000000;stroke-width:2.0" width="1474" x="626" y="686.9375"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="641" y="700.0044">Validate Bulk Fulfil Transfer</text>
    <line style="stroke:#A80036;stroke-width:1.0" x1="706" x2="748" y1="725.2031" y2="725.2031"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="748" x2="748" y1="725.2031" y2="738.2031"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="707" x2="748" y1="738.2031" y2="738.2031"/>
    <polygon fill="#A80036" points="717,734.2031,707,738.2031,717,742.2031,713,738.2031" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="713" y="720.1372">4</text>
    <text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="726" y="720.1372">Schema validation of the incoming message</text>
    <line style="stroke:#A80036;stroke-width:1.0" x1="706" x2="748" y1="782.4688" y2="782.4688"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="748" x2="748" y1="782.4688" y2="795.4688"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="707" x2="748" y1="795.4688" y2="795.4688"/>
    <polygon fill="#A80036" points="717,791.4688,707,795.4688,717,799.4688,713,795.4688" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="713" y="769.8364">5</text>
    <text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="726" y="762.27">Verify the message&apos;s signature</text>
    <text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="726" y="777.4028">(to be confirmed in future requirement)</text>
    <path d="M711,808.4688 L711,863.4688 L1084,863.4688 L1084,818.4688 L1074,808.4688 L711,808.4688 " fill="#D3D3D3" filter="url(#f1hlicdrmykj15)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M1074,808.4688 L1074,818.4688 L1084,818.4688 L1074,808.4688 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="345" x="717" y="825.5356">The above validation steps are already handled by the</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="346" x="717" y="840.6685">Bulk-API-Adapter for the open source implementation.</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="352" x="717" y="855.8013">It may need to be added in future for custom adapters.</text>
    <path d="M656,879.8672 L887,879.8672 L887,886.8672 L877,896.8672 L656,896.8672 L656,879.8672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="160.7969" style="stroke:#000000;stroke-width:2.0" width="1369" x="656" y="879.8672"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="186" x="671" y="892.9341">Validate Duplicate Check</text>
    <polygon fill="#A80036" points="1955,939.1328,1965,943.1328,1955,947.1328,1959,943.1328" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="706" x2="1961" y1="943.1328" y2="943.1328"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="713" y="938.0669">6</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="726" y="938.0669">Request Duplicate Check</text>
    <rect fill="#FFFFFF" filter="url(#f1hlicdrmykj15)" height="55.3984" style="stroke:#000000;stroke-width:2.0" width="1351" x="663" y="951.1328"/>
    <polygon fill="#EEEEEE" points="663,951.1328,729,951.1328,729,958.1328,719,968.1328,663,968.1328,663,951.1328" style="stroke:#000000;stroke-width:2.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="676" y="965.1997">ref</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="1261" y="984.1997">Request Duplicate Check</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1265" y="999.3325"/>
    <polygon fill="#A80036" points="717,1028.6641,707,1032.6641,717,1036.6641,713,1032.6641" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="711" x2="1966" y1="1032.6641" y2="1032.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="723" y="1027.5981">7</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="408" x="736" y="1027.5981">Return { hasDuplicateId: Boolean, hasDuplicateHash: Boolean }</text>
    <path d="M636,1054.6641 L700,1054.6641 L700,1061.6641 L690,1071.6641 L636,1071.6641 L636,1054.6641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="2013.6953" style="stroke:#000000;stroke-width:2.0" width="1454" x="636" y="1054.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="651" y="1067.731">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="368" x="715" y="1066.8745">[hasDuplicateId == TRUE &amp;&amp; hasDuplicateHash == TRUE]</text>
    <path d="M656,1078.7969 L744,1078.7969 L744,1085.7969 L734,1095.7969 L656,1095.7969 L656,1078.7969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="703.9141" style="stroke:#000000;stroke-width:2.0" width="1414" x="656" y="1078.7969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="671" y="1091.8638">break</text>
    <polygon fill="#A80036" points="1712,1128.1953,1722,1132.1953,1712,1136.1953,1716,1132.1953" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="706" x2="1718" y1="1132.1953" y2="1132.1953"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="713" y="1119.563">8</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="726" y="1111.9966">Request to retrieve Bulk Transfer state &amp; completedTimestamp</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="726" y="1127.1294">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="812" y="1127.1294">2003</text>
    <polygon fill="#A80036" points="1950,1157.3281,1960,1161.3281,1950,1165.3281,1954,1161.3281" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="1734" x2="1956" y1="1161.3281" y2="1161.3281"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1741" y="1156.2622">9</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1754" y="1156.2622">Query database</text>
    <polygon fill="#FFFFE0" filter="url(#f1hlicdrmykj15)" points="1884,1174.3281,2050,1174.3281,2060,1200.3281,2050,1227.3281,1884,1227.3281,1874,1200.3281,1884,1174.3281" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1886" y="1190.395">bulkTransfer</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1886" y="1205.5278">bulkTransferFulfilment</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1886" y="1220.6606">bulkTransferStateChange</text>
    <polygon fill="#A80036" points="1745,1249.8594,1735,1253.8594,1745,1257.8594,1741,1253.8594" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="1739" x2="1966" y1="1253.8594" y2="1253.8594"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1751" y="1248.7935">10</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1773" y="1248.7935">Return resultset</text>
    <polygon fill="#A80036" points="717,1278.9922,707,1282.9922,717,1286.9922,713,1282.9922" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="711" x2="1728" y1="1282.9922" y2="1282.9922"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="723" y="1277.9263">11</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="745" y="1277.9263">Return</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="791" y="1277.9263">bulkTransferStateId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="11" x="941" y="1277.9263">&amp;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="956" y="1277.9263">completedTimestamp</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="1121" y="1277.9263">(not null when completed)</text>
    <path d="M711,1295.9922 L711,1713.9922 L1001,1713.9922 L1001,1305.9922 L991,1295.9922 L711,1295.9922 " fill="#FFFF00" filter="url(#f1hlicdrmykj15)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M991,1295.9922 L991,1305.9922 L1001,1305.9922 L991,1295.9922 " fill="#FFFF00" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="717" y="1313.0591">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="717" y="1328.1919">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="733" y="1343.3247">id: &lt;messageId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="733" y="1358.4575">from: &lt;ledgerName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="733" y="1373.5903">to: &lt;payeeFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="733" y="1388.7231">type: application/json</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="733" y="1403.856">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="749" y="1418.9888">headers: &lt;bulkTransferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="749" y="1434.1216">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="765" y="1449.2544">bulkTransferState: &lt;string&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="765" y="1464.3872">completedTimestamp: &lt;optional&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="749" y="1479.52">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="733" y="1494.6528">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="733" y="1509.7856">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="749" y="1524.9185">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="765" y="1540.0513">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="765" y="1555.1841">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="765" y="1570.3169">type: &quot;notification&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="765" y="1585.4497">action: &quot;bulk-fulfil-duplicate&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="765" y="1600.5825">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="765" y="1615.7153">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="781" y="1630.8481">status: &quot;success&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="781" y="1645.981">code: 0</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="765" y="1661.1138">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="749" y="1676.2466">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="733" y="1691.3794">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="717" y="1706.5122">}</text>
    <polygon fill="#A80036" points="1598.5,1740.7109,1608.5,1744.7109,1598.5,1748.7109,1602.5,1744.7109" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="706" x2="1604.5" y1="1744.7109" y2="1744.7109"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="713" y="1739.645">12</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="735" y="1739.645">Publish Notification event for Payee</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="636" x2="2090" y1="1790.7109" y2="1790.7109"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="374" x="641" y="1800.9214">[hasDuplicateId == TRUE &amp;&amp; hasDuplicateHash == FALSE]</text>
    <path d="M711,1809.5156 L711,2439.5156 L1027,2439.5156 L1027,1819.5156 L1017,1809.5156 L711,1809.5156 " fill="#FFFF00" filter="url(#f1hlicdrmykj15)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M1017,1809.5156 L1017,1819.5156 L1027,1819.5156 L1017,1809.5156 " fill="#FFFF00" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="717" y="1826.5825">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="733" y="1841.7153">id: &lt;messageId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="733" y="1856.8481">from: &lt;ledgerName&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="733" y="1871.981">to: &lt;payeeFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="733" y="1887.1138">type: &quot;application/json&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="733" y="1902.2466">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="749" y="1917.3794">headers: &lt;bulkTransferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="749" y="1932.5122">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="765" y="1947.645">errorInformation: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="781" y="1962.7778">errorCode: &quot;3106&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="781" y="1977.9106">errorDescription: &quot;Modified request&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="781" y="1993.0435">extensionList: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="797" y="2008.1763">extension: [</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="813" y="2023.3091">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="829" y="2038.4419">key: &quot;_cause&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="829" y="2053.5747">value: &lt;FSPIOPError&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="813" y="2068.7075">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="797" y="2083.8403">]</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="781" y="2098.9731">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="765" y="2114.106">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="765" y="2129.2388">uriParams: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="781" y="2144.3716">id: &lt;bulkTransferId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="765" y="2159.5044">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="749" y="2174.6372">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="733" y="2189.77">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="733" y="2204.9028">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="749" y="2220.0356">correlationId: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="749" y="2235.1685">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="765" y="2250.3013">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="765" y="2265.4341">type: &quot;notification&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="765" y="2280.5669">action: &quot;bulk-commit&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="765" y="2295.6997">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="765" y="2310.8325">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="781" y="2325.9653">status: &quot;error&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="781" y="2341.0981">code: &quot;3106&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="781" y="2356.231">description: &quot;Modified request&quot;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="765" y="2371.3638">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="765" y="2386.4966">responseTo: &lt;uuid&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="749" y="2401.6294">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="733" y="2416.7622">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="717" y="2431.895">}</text>
    <polygon fill="#A80036" points="1598.5,2481.2266,1608.5,2485.2266,1598.5,2489.2266,1602.5,2485.2266" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="706" x2="1604.5" y1="2485.2266" y2="2485.2266"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="713" y="2472.5942">13</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="735" y="2465.0278">Publish Notification (failure) event for Payer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="735" y="2480.1606">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="829" y="2480.1606">3106</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="636" x2="2090" y1="2524.2266" y2="2524.2266"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="171" x="641" y="2534.437">[hasDuplicateId == FALSE]</text>
    <path d="M646,2545.0313 L710,2545.0313 L710,2552.0313 L700,2562.0313 L646,2562.0313 L646,2545.0313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="516.3281" style="stroke:#000000;stroke-width:2.0" width="1434" x="646" y="2545.0313"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="661" y="2558.0981">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="255" x="725" y="2557.2417">[Validate Bulk Transfer Fulfil (success)]</text>
    <path d="M656,2569.1641 L1195,2569.1641 L1195,2576.1641 L1185,2586.1641 L656,2586.1641 L656,2569.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="213.0625" style="stroke:#000000;stroke-width:2.0" width="1414" x="656" y="2569.1641"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="494" x="671" y="2582.231">Persist Bulk Transfer State (with bulktransferState=&apos;PROCESSING&apos;)</text>
    <polygon fill="#A80036" points="1712,2618.5625,1722,2622.5625,1712,2626.5625,1716,2622.5625" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="706" x2="1718" y1="2622.5625" y2="2622.5625"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="713" y="2609.9302">14</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="735" y="2602.3638">Request to persist bulk transfer fulfil</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="735" y="2617.4966">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="829" y="2617.4966">2003</text>
    <polygon fill="#A80036" points="1950,2647.6953,1960,2651.6953,1950,2655.6953,1954,2651.6953" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="1734" x2="1956" y1="2651.6953" y2="2651.6953"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1741" y="2646.6294">15</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="1763" y="2646.6294">Persist bulkTransferFulfilment</text>
    <polygon fill="#FFFFE0" filter="url(#f1hlicdrmykj15)" points="1884,2694.6953,2050,2694.6953,2060,2720.6953,2050,2747.6953,1884,2747.6953,1874,2720.6953,1884,2694.6953" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1886" y="2710.7622">bulkTransferFulfilment</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1886" y="2725.895">bulkTransferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1886" y="2741.0278">bulkTransferExtension</text>
    <polygon fill="#A80036" points="717,2770.2266,707,2774.2266,717,2778.2266,713,2774.2266" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="711" x2="1728" y1="2774.2266" y2="2774.2266"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="723" y="2769.1606">16</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="745" y="2769.1606">Return success</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="646" x2="2080" y1="2790.2266" y2="2790.2266"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="246" x="651" y="2800.437">[Validate Bulk Transfer Fulfil (failure)]</text>
    <path d="M656,2811.0313 L1178,2811.0313 L1178,2818.0313 L1168,2828.0313 L656,2828.0313 L656,2811.0313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="243.3281" style="stroke:#000000;stroke-width:2.0" width="1414" x="656" y="2811.0313"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="477" x="671" y="2824.0981">Persist Bulk Transfer State (with bulkTransferState=&apos;ABORTING&apos;)</text>
    <polygon fill="#A80036" points="1712,2875.5625,1722,2879.5625,1712,2883.5625,1716,2879.5625" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="706" x2="1718" y1="2879.5625" y2="2879.5625"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="713" y="2859.3638">17</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="735" y="2844.231">Request to persist bulk</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="735" y="2859.3638">transfer fulfil failure</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="735" y="2874.4966">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="829" y="2874.4966">2003</text>
    <polygon fill="#A80036" points="1950,2904.6953,1960,2908.6953,1950,2912.6953,1954,2908.6953" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="1734" x2="1956" y1="2908.6953" y2="2908.6953"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1741" y="2903.6294">18</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="1763" y="2903.6294">Persist transfer</text>
    <polygon fill="#FFFFE0" filter="url(#f1hlicdrmykj15)" points="1884,2951.6953,2050,2951.6953,2060,2985.6953,2050,3019.6953,1884,3019.6953,1874,2985.6953,1884,2951.6953" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1886" y="2967.7622">bulkTransferFulfilment</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1886" y="2982.895">bulkTransferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1886" y="2998.0278">bulkTransferExtension</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="1886" y="3013.1606">bulkTransferError</text>
    <polygon fill="#A80036" points="717,3042.3594,707,3046.3594,717,3050.3594,713,3046.3594" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="711" x2="1728" y1="3046.3594" y2="3046.3594"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="723" y="3041.2935">19</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="745" y="3041.2935">Return success</text>
    <path d="M20,3089.3594 L84,3089.3594 L84,3096.3594 L74,3106.3594 L20,3106.3594 L20,3089.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="1325.8359" style="stroke:#000000;stroke-width:2.0" width="1318.5" x="20" y="3089.3594"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="35" y="3102.4263">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="255" x="99" y="3101.5698">[Validate Bulk Transfer Fulfil (success)]</text>
    <path d="M30,3113.4922 L107,3113.4922 L107,3120.4922 L97,3130.4922 L30,3130.4922 L30,3113.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="610.25" style="stroke:#000000;stroke-width:2.0" width="1298.5" x="30" y="3113.4922"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="45" y="3126.5591">loop</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="319" x="122" y="3125.7026">[for every individual transfer in the bulk fulfil list]</text>
    <polygon fill="#A80036" points="109,3162.8906,99,3166.8906,109,3170.8906,105,3166.8906" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="103" x2="695" y1="3166.8906" y2="3166.8906"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="115" y="3154.2583">20</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="137" y="3146.6919">Retrieve individual transfers from the bulk using</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="137" y="3161.8247">reference:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="308" x="206" y="3161.8247">MLOS.individualTransferFulfils.messageId</text>
    <polygon fill="#A80036" points="684,3192.0234,694,3196.0234,684,3200.0234,688,3196.0234" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="93" x2="690" y1="3196.0234" y2="3196.0234"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="100" y="3190.9575">21</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="365" x="122" y="3190.9575">Return stored bulk transfer containing individual transfers</text>
    <polygon fill="#A80036" points="109,3221.1563,99,3225.1563,109,3229.1563,105,3225.1563" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="103" x2="695" y1="3225.1563" y2="3225.1563"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="115" y="3220.0903">22</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="557" x="137" y="3220.0903">Update bulk transfer association record to bulk transfer processing state &apos;PROCESSING&apos;</text>
    <polygon fill="#A80036" points="684,3250.2891,694,3254.2891,684,3258.2891,688,3254.2891" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="93" x2="690" y1="3254.2891" y2="3254.2891"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="100" y="3249.2231">23</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="122" y="3249.2231">Bulk transfer association record commited</text>
    <path d="M711,3267.2891 L711,3640.2891 L973,3640.2891 L973,3277.2891 L963,3267.2891 L711,3267.2891 " fill="#FFFF00" filter="url(#f1hlicdrmykj15)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M963,3267.2891 L963,3277.2891 L973,3277.2891 L963,3267.2891 " fill="#FFFF00" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="717" y="3284.356">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="717" y="3299.4888">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="733" y="3314.6216">id: &lt;messageId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="733" y="3329.7544">from: &lt;payeeFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="733" y="3344.8872">to: &lt;payerFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="733" y="3360.02">type: &quot;application/json&quot;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="733" y="3375.1528">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="749" y="3390.2856">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="749" y="3405.4185">payload: &lt;transferMessage&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="733" y="3420.5513">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="733" y="3435.6841">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="749" y="3450.8169">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="765" y="3465.9497">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="765" y="3481.0825">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="765" y="3496.2153">type: &quot;fulfil&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="765" y="3511.3481">action: &quot;bulk-commit&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="765" y="3526.481">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="765" y="3541.6138">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="781" y="3556.7466">status: &quot;success&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="781" y="3571.8794">code: 0</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="765" y="3587.0122">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="749" y="3602.145">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="733" y="3617.2778">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="717" y="3632.4106">}</text>
    <polygon fill="#A80036" points="1242,3681.7422,1252,3685.7422,1242,3689.7422,1246,3685.7422" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="706" x2="1248" y1="3685.7422" y2="3685.7422"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="713" y="3673.1099">24</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="507" x="735" y="3665.5435">Route &amp; Publish fulfil bulk commit events to the Payer for the Individual Transfer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="735" y="3680.6763">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="829" y="3680.6763">2003</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="20" x2="1338.5" y1="3731.7422" y2="3731.7422"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="246" x="25" y="3741.9526">[Validate Bulk Transfer Fulfil (failure)]</text>
    <path d="M30,3752.5469 L107,3752.5469 L107,3759.5469 L97,3769.5469 L30,3769.5469 L30,3752.5469 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="655.6484" style="stroke:#000000;stroke-width:2.0" width="1298.5" x="30" y="3752.5469"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="45" y="3765.6138">loop</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="319" x="122" y="3764.7573">[for every individual transfer in the bulk fulfil list]</text>
    <polygon fill="#A80036" points="109,3801.9453,99,3805.9453,109,3809.9453,105,3805.9453" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="103" x2="695" y1="3805.9453" y2="3805.9453"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="115" y="3793.313">25</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="137" y="3785.7466">Retrieve individual transfers from the bulk using</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="137" y="3800.8794">reference:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="308" x="206" y="3800.8794">MLOS.individualTransferFulfils.messageId</text>
    <polygon fill="#A80036" points="684,3831.0781,694,3835.0781,684,3839.0781,688,3835.0781" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="93" x2="690" y1="3835.0781" y2="3835.0781"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="100" y="3830.0122">26</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="122" y="3830.0122">Stream bulk&apos;s individual transfer fulfils</text>
    <polygon fill="#A80036" points="109,3860.2109,99,3864.2109,109,3868.2109,105,3864.2109" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="103" x2="695" y1="3864.2109" y2="3864.2109"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="115" y="3859.145">27</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="539" x="137" y="3859.145">Update bulk transfer association record to bulk transfer processing state &apos;ABORTING&apos;</text>
    <polygon fill="#A80036" points="684,3889.3438,694,3893.3438,684,3897.3438,688,3893.3438" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="93" x2="690" y1="3893.3438" y2="3893.3438"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="100" y="3888.2778">28</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="122" y="3888.2778">Bulk transfer association record commited</text>
    <path d="M711,3906.3438 L711,4324.3438 L1028,4324.3438 L1028,3916.3438 L1018,3906.3438 L711,3906.3438 " fill="#FFFF00" filter="url(#f1hlicdrmykj15)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M1018,3906.3438 L1018,3916.3438 L1028,3916.3438 L1018,3906.3438 " fill="#FFFF00" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="717" y="3923.4106">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="717" y="3938.5435">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="733" y="3953.6763">id: &lt;messageId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="733" y="3968.8091">from: &lt;payeeFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="733" y="3983.9419">to: &lt;payerFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="733" y="3999.0747">type: &quot;application/json&quot;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="733" y="4014.2075">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="749" y="4029.3403">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="749" y="4044.4731">payload: &quot;errorInformation&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="765" y="4059.606">&quot;errorCode&quot;: &lt;possible codes: [3100]&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="765" y="4074.7388">&quot;errorDescription&quot;: &quot;&lt;description&gt;&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="749" y="4089.8716">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="733" y="4105.0044">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="733" y="4120.1372">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="749" y="4135.27">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="765" y="4150.4028">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="765" y="4165.5356">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="765" y="4180.6685">type: &quot;fulfil&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="765" y="4195.8013">action: &quot;bulk-abort&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="765" y="4210.9341">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="765" y="4226.0669">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="781" y="4241.1997">status: &quot;success&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="781" y="4256.3325">code: 0</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="765" y="4271.4653">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="749" y="4286.5981">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="733" y="4301.731">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="717" y="4316.8638">}</text>
    <polygon fill="#A80036" points="1242,4366.1953,1252,4370.1953,1242,4374.1953,1246,4370.1953" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="706" x2="1248" y1="4370.1953" y2="4370.1953"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="713" y="4357.563">29</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="492" x="735" y="4349.9966">Route &amp; Publish fulfil bulk abort events to the Payer for the Individual Transfer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="735" y="4365.1294">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="829" y="4365.1294">2003</text>
  </g>
</svg>
