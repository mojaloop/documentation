<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="4365px" preserveAspectRatio="none" style="width:1970px;height:4365px;background:#FFFFFF;" version="1.1" viewBox="0 0 1970 4365" width="1970px" zoomAndPan="magnify">
  <title>1.1.1. Bulk Prepare Handler Consume</title>
  <defs/>
  <g>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="296.543" x="838.7273" y="27.9951">1.1.1. Bulk Prepare Handler Consume</text>
    <rect fill="#FFFFE0" height="4314.375" style="stroke:#181818;stroke-width:0.5;" width="1837.4282" x="36" y="43.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112.0361" x="898.696" y="55.3638">Central Service</text>
    <rect fill="#FFFFFF" height="79.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="85.9556" y="2708.8828"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="200.8608" y="185.5859"/>
    <rect fill="#FFFFFF" height="4136.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="480.4482" y="140.3203"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="990.373" y="3442.7969"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1222.9077" y="1338.2969"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1328.1504" y="4012.8516"/>
    <rect fill="#FFFFFF" height="151.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1421.1792" y="2164.5547"/>
    <rect fill="#FFFFFF" height="166.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1421.1792" y="2421.5547"/>
    <rect fill="#FFFFFF" height="136.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1421.1792" y="2856.6797"/>
    <rect fill="#FFFFFF" height="136.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1421.1792" y="4111.25"/>
    <rect fill="#FFFFFF" height="135.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1526.0293" y="1586.8984"/>
    <rect fill="#FFFFFF" height="135.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1526.0293" y="1840.0938"/>
    <rect fill="#FFFFFF" height="77.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1815.0601" y="1616.0313"/>
    <rect fill="#FFFFFF" height="77.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1815.0601" y="1869.2266"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1815.0601" y="2193.6875"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1815.0601" y="2450.6875"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1815.0601" y="2885.8125"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1815.0601" y="4140.3828"/>
    <rect fill="none" height="4122.4609" style="stroke:#000000;stroke-width:1.5;" width="1954.9976" x="10" y="147.3203"/>
    <rect fill="none" height="2386.7656" style="stroke:#000000;stroke-width:1.5;" width="1924.9976" x="30" y="230.5859"/>
    <rect fill="none" height="329.7969" style="stroke:#000000;stroke-width:1.5;" width="1453.9907" x="425.4375" y="254.7188"/>
    <rect fill="none" height="2011.8359" style="stroke:#000000;stroke-width:1.5;" width="1904.9976" x="40" y="598.5156"/>
    <rect fill="none" height="17.1328" style="stroke:#000000;stroke-width:1.5;" width="363.3784" x="50" y="622.6484"/>
    <rect fill="none" height="649.9219" style="stroke:#000000;stroke-width:1.5;" width="1501.2324" x="415.4375" y="1398.1016"/>
    <rect fill="none" height="239.1953" style="stroke:#000000;stroke-width:1.5;" width="1481.2324" x="425.4375" y="1548.6328"/>
    <rect fill="none" height="239.1953" style="stroke:#000000;stroke-width:1.5;" width="1481.2324" x="425.4375" y="1801.8281"/>
    <rect fill="none" height="516.3281" style="stroke:#000000;stroke-width:1.5;" width="1519.5601" x="415.4375" y="2087.0234"/>
    <rect fill="none" height="213.0625" style="stroke:#000000;stroke-width:1.5;" width="1499.5601" x="425.4375" y="2111.1563"/>
    <rect fill="none" height="243.3281" style="stroke:#000000;stroke-width:1.5;" width="1499.5601" x="425.4375" y="2353.0234"/>
    <rect fill="none" height="1631.4297" style="stroke:#000000;stroke-width:1.5;" width="1924.9976" x="20" y="2631.3516"/>
    <rect fill="none" height="825.3125" style="stroke:#000000;stroke-width:1.5;" width="1904.9976" x="30" y="2655.4844"/>
    <rect fill="none" height="197.9297" style="stroke:#000000;stroke-width:1.5;" width="1499.5601" x="425.4375" y="2803.2813"/>
    <rect fill="none" height="197.9297" style="stroke:#000000;stroke-width:1.5;" width="1499.5601" x="425.4375" y="4057.8516"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="90" x2="90" y1="130.3203" y2="4286.7813"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="204.9111" x2="204.9111" y1="130.3203" y2="4286.7813"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="485.4375" x2="485.4375" y1="130.3203" y2="4286.7813"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="994.6572" x2="994.6572" y1="130.3203" y2="4286.7813"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1120.0889" x2="1120.0889" y1="130.3203" y2="4286.7813"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1227.543" x2="1227.543" y1="130.3203" y2="4286.7813"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1332.2725" x2="1332.2725" y1="130.3203" y2="4286.7813"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1426.0283" x2="1426.0283" y1="130.3203" y2="4286.7813"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1530.3301" x2="1530.3301" y1="130.3203" y2="4286.7813"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1819.6919" x2="1819.6919" y1="130.3203" y2="4286.7813"/>
    <rect fill="#E2E2F0" height="62.8906" style="stroke:#181818;stroke-width:0.5;" width="97.9111" x="44" y="62.4297"/>
    <rect fill="#E2E2F0" height="62.8906" style="stroke:#181818;stroke-width:0.5;" width="97.9111" x="40" y="66.4297"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.6309" x="54.1401" y="86.4248">mojaloop-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.9111" x="47" y="102.7217">object-store</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5.4619" x="61.0752" y="119.0186">(</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="44.8369" x="66.5371" y="119.0186">MLOS</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5.4619" x="111.374" y="119.0186">)</text>
    <rect fill="#E2E2F0" height="62.8906" style="stroke:#181818;stroke-width:0.5;" width="97.9111" x="44" y="4285.7813"/>
    <rect fill="#E2E2F0" height="62.8906" style="stroke:#181818;stroke-width:0.5;" width="97.9111" x="40" y="4289.7813"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.6309" x="54.1401" y="4309.7764">mojaloop-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.9111" x="47" y="4326.0732">object-store</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5.4619" x="61.0752" y="4342.3701">(</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="44.8369" x="66.5371" y="4342.3701">MLOS</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="5.4619" x="111.374" y="4342.3701">)</text>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="103.8994" x="155.9111" y="78.7266"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="103.8994" x="151.9111" y="82.7266"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5801" x="184.0708" y="102.7217">topic-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.8994" x="158.9111" y="119.0186">bulk-prepare</text>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="103.8994" x="155.9111" y="4285.7813"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="103.8994" x="151.9111" y="4289.7813"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5801" x="184.0708" y="4309.7764">topic-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.8994" x="158.9111" y="4326.0732">bulk-prepare</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.5713" x="435.4375" y="110.7217">Bulk Prepare</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.125" x="454.8857" y="127.0186">Handler</text>
    <ellipse cx="485.4482" cy="81.7266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <polygon fill="#181818" points="481.4482,69.7266,487.4482,64.7266,485.4482,69.7266,487.4482,74.7266,481.4482,69.7266" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.5713" x="435.4375" y="4298.7764">Bulk Prepare</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.125" x="454.8857" y="4315.0732">Handler</text>
    <ellipse cx="485.4482" cy="4334.375" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <polygon fill="#181818" points="481.4482,4322.375,487.4482,4317.375,485.4482,4322.375,487.4482,4327.375,481.4482,4322.375" style="stroke:#181818;stroke-width:1.0;"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="129.4316" x="932.6572" y="78.7266"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="129.4316" x="928.6572" y="82.7266"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5801" x="973.583" y="102.7217">topic-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.4316" x="935.6572" y="119.0186">transfer-prepare</text>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="129.4316" x="932.6572" y="4285.7813"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="129.4316" x="928.6572" y="4289.7813"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5801" x="973.583" y="4309.7764">topic-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.4316" x="935.6572" y="4326.0732">transfer-prepare</text>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="93.4541" x="1076.0889" y="95.0234"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="93.4541" x="1072.0889" y="99.0234"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.4541" x="1079.0889" y="119.0186">topic-event</text>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="93.4541" x="1076.0889" y="4285.7813"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="93.4541" x="1072.0889" y="4289.7813"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.4541" x="1079.0889" y="4309.7764">topic-event</text>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="92.7295" x="1183.543" y="78.7266"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="92.7295" x="1179.543" y="82.7266"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5801" x="1206.1177" y="102.7217">topic-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.7295" x="1186.543" y="119.0186">notification</text>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="92.7295" x="1183.543" y="4285.7813"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="92.7295" x="1179.543" y="4289.7813"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5801" x="1206.1177" y="4309.7764">topic-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.7295" x="1186.543" y="4326.0732">notification</text>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="89.7559" x="1290.2725" y="78.7266"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="89.7559" x="1286.2725" y="82.7266"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.3887" x="1293.9561" y="102.7217">topic-bulk-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.7559" x="1293.2725" y="119.0186">processing</text>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="89.7559" x="1290.2725" y="4285.7813"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="89.7559" x="1286.2725" y="4289.7813"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.3887" x="1293.9561" y="4309.7764">topic-bulk-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.7559" x="1293.2725" y="4326.0732">processing</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.3018" x="1390.0283" y="127.0186">Bulk DAO</text>
    <ellipse cx="1426.1792" cy="98.0234" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <line style="stroke:#181818;stroke-width:0.5;" x1="1414.1792" x2="1438.1792" y1="112.0234" y2="112.0234"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.3018" x="1390.0283" y="4298.7764">Bulk DAO</text>
    <ellipse cx="1426.1792" cy="4318.0781" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <line style="stroke:#181818;stroke-width:0.5;" x1="1414.1792" x2="1438.1792" y1="4332.0781" y2="4332.0781"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.3984" x="1472.3301" y="127.0186">Participant DAO</text>
    <ellipse cx="1531.0293" cy="98.0234" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <line style="stroke:#181818;stroke-width:0.5;" x1="1519.0293" x2="1543.0293" y1="112.0234" y2="112.0234"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.3984" x="1472.3301" y="4298.7764">Participant DAO</text>
    <ellipse cx="1531.0293" cy="4318.0781" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <line style="stroke:#181818;stroke-width:0.5;" x1="1519.0293" x2="1543.0293" y1="4332.0781" y2="4332.0781"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.7363" x="1770.6919" y="127.0186">Central Store</text>
    <path d="M1802.0601,78.0234 C1802.0601,68.0234 1820.0601,68.0234 1820.0601,68.0234 C1820.0601,68.0234 1838.0601,68.0234 1838.0601,78.0234 L1838.0601,104.0234 C1838.0601,114.0234 1820.0601,114.0234 1820.0601,114.0234 C1820.0601,114.0234 1802.0601,114.0234 1802.0601,104.0234 L1802.0601,78.0234 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/>
    <path d="M1802.0601,78.0234 C1802.0601,88.0234 1820.0601,88.0234 1820.0601,88.0234 C1820.0601,88.0234 1838.0601,88.0234 1838.0601,78.0234 " fill="none" style="stroke:#181818;stroke-width:1.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.7363" x="1770.6919" y="4298.7764">Central Store</text>
    <path d="M1802.0601,4312.0781 C1802.0601,4302.0781 1820.0601,4302.0781 1820.0601,4302.0781 C1820.0601,4302.0781 1838.0601,4302.0781 1838.0601,4312.0781 L1838.0601,4338.0781 C1838.0601,4348.0781 1820.0601,4348.0781 1820.0601,4348.0781 C1820.0601,4348.0781 1802.0601,4348.0781 1802.0601,4338.0781 L1802.0601,4312.0781 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/>
    <path d="M1802.0601,4312.0781 C1802.0601,4322.0781 1820.0601,4322.0781 1820.0601,4322.0781 C1820.0601,4322.0781 1838.0601,4322.0781 1838.0601,4312.0781 " fill="none" style="stroke:#181818;stroke-width:1.5;"/>
    <rect fill="#FFFFFF" height="79.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="85.9556" y="2708.8828"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="200.8608" y="185.5859"/>
    <rect fill="#FFFFFF" height="4136.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="480.4482" y="140.3203"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="990.373" y="3442.7969"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1222.9077" y="1338.2969"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1328.1504" y="4012.8516"/>
    <rect fill="#FFFFFF" height="151.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1421.1792" y="2164.5547"/>
    <rect fill="#FFFFFF" height="166.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1421.1792" y="2421.5547"/>
    <rect fill="#FFFFFF" height="136.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1421.1792" y="2856.6797"/>
    <rect fill="#FFFFFF" height="136.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1421.1792" y="4111.25"/>
    <rect fill="#FFFFFF" height="135.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1526.0293" y="1586.8984"/>
    <rect fill="#FFFFFF" height="135.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1526.0293" y="1840.0938"/>
    <rect fill="#FFFFFF" height="77.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1815.0601" y="1616.0313"/>
    <rect fill="#FFFFFF" height="77.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1815.0601" y="1869.2266"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1815.0601" y="2193.6875"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1815.0601" y="2450.6875"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1815.0601" y="2885.8125"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1815.0601" y="4140.3828"/>
    <path d="M10,147.3203 L283.8838,147.3203 L283.8838,154.4531 L273.8838,164.4531 L10,164.4531 L10,147.3203 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="4122.4609" style="stroke:#000000;stroke-width:1.5;" width="1954.9976" x="10" y="147.3203"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="228.8838" x="25" y="160.3872">Bulk Prepare Handler Consume</text>
    <polygon fill="#181818" points="221.8608,181.5859,211.8608,185.5859,221.8608,189.5859,217.8608,185.5859" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="215.8608" x2="479.4482" y1="185.5859" y2="185.5859"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="227.8608" y="180.52">1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.8057" x="240.9063" y="180.52">Consume Bulk Prepare message</text>
    <path d="M30,230.5859 L301.6875,230.5859 L301.6875,237.7188 L291.6875,247.7188 L30,247.7188 L30,230.5859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="2386.7656" style="stroke:#000000;stroke-width:1.5;" width="1924.9976" x="30" y="230.5859"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="226.6875" x="45" y="243.6528">Validate Bulk Prepare Transfer</text>
    <path d="M425.4375,254.7188 L588.7007,254.7188 L588.7007,261.8516 L578.7007,271.8516 L425.4375,271.8516 L425.4375,254.7188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="329.7969" style="stroke:#000000;stroke-width:1.5;" width="1453.9907" x="425.4375" y="254.7188"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118.2632" x="440.4375" y="267.7856">Duplicate Check</text>
    <path d="M495,276.8516 L495,437.8516 L946,437.8516 L946,286.8516 L936,276.8516 L495,276.8516 " fill="#00FFFF" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M936,276.8516 L936,286.8516 L946,286.8516 L936,276.8516 " fill="#00FFFF" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="375.248" x="501" y="293.9185">The Specification doesn&apos;t touch on the duplicate handling</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="376.4351" x="501" y="309.0513">of bulk transfers, so the current design mostly follows the</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="387.6006" x="501" y="324.1841">strategy used for individual transfers, except in two places:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="501" y="339.3169"> </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="430.3394" x="501" y="354.4497">1. For duplicate requests where hash matches, the current design</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="417.168" x="501" y="369.5825">includes only the status of the bulk &amp; timestamp (if completed),</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="425.6675" x="501" y="384.7153">but not the individual transfers (for which a GET should be used).</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="501" y="399.8481"> </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="410.7378" x="501" y="414.981">2. For duplicate requests where hash matches, but are not in a</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369.0146" x="501" y="430.1138">finalized state, only the state of the bulkTransfer is sent.</text>
    <polygon fill="#181818" points="1808.0601,485.3125,1818.0601,489.3125,1808.0601,493.3125,1812.0601,489.3125" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="1814.0601" y1="489.3125" y2="489.3125"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="497.4482" y="484.2466">2</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.5791" x="510.4937" y="484.2466">Request Duplicate Check</text>
    <rect fill="none" height="53.0703" style="stroke:#000000;stroke-width:1.5;" width="1439.9907" x="432.4375" y="497.3125"/>
    <path d="M432.4375,497.3125 L497.4375,497.3125 L497.4375,504.3125 L487.4375,514.3125 L432.4375,514.3125 L432.4375,497.3125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.8838" x="445.4375" y="511.3794">ref</text>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="355.623" x="974.6213" y="529.4512">Request Duplicate Check (using message.content.payload)</text>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="3.8145" x="1150.5256" y="543.4199"> </text>
    <polygon fill="#181818" points="501.4482,572.5156,491.4482,576.5156,501.4482,580.5156,497.4482,576.5156" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="495.4482" x2="1819.0601" y1="576.5156" y2="576.5156"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="507.4482" y="571.4497">3</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="418.1265" x="520.4937" y="571.4497">Return { hasDuplicateId: Boolean, hasDuplicateHash: Boolean }</text>
    <path d="M40,598.5156 L104.4429,598.5156 L104.4429,605.6484 L94.4429,615.6484 L40,615.6484 L40,598.5156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="2011.8359" style="stroke:#000000;stroke-width:1.5;" width="1904.9976" x="40" y="598.5156"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="55" y="611.5825">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="358.5796" x="119.4429" y="610.7261">[hasDuplicateId == TRUE &amp;&amp; hasDuplicateHash == TRUE]</text>
    <path d="M50,622.6484 L136.9517,622.6484 L136.9517,629.7813 L126.9517,639.7813 L50,639.7813 L50,622.6484 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="17.1328" style="stroke:#000000;stroke-width:1.5;" width="363.3784" x="50" y="622.6484"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="41.9517" x="65" y="635.7153">break</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="256.4268" x="151.9517" y="634.8589">[Return TRUE &amp; Log (&apos;Not implemented&apos;)]</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40" x2="1944.9976" y1="647.7813" y2="647.7813"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="364.6328" x="45" y="657.9917">[hasDuplicateId == TRUE &amp;&amp; hasDuplicateHash == FALSE]</text>
    <path d="M495,666.5859 L495,1296.5859 L822,1296.5859 L822,676.5859 L812,666.5859 L495,666.5859 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M812,666.5859 L812,676.5859 L822,676.5859 L812,666.5859 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="501" y="683.6528">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8032" x="517.5293" y="698.7856">id: &lt;messageId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.7773" x="517.5293" y="713.9185">from: &lt;ledgerName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.5898" x="517.5293" y="729.0513">to: &lt;payerFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.311" x="517.5293" y="744.1841">type: &quot;application/json&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5552" x="517.5293" y="759.3169">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.9233" x="534.0586" y="774.4497">headers: &lt;bulkTransferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.4785" x="534.0586" y="789.5825">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.249" x="550.5879" y="804.7153">errorInformation: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.9541" x="567.1172" y="819.8481">errorCode: &quot;3106&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239.9351" x="567.1172" y="834.981">errorDescription: &quot;Modified request&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.1113" x="567.1172" y="850.1138">extensionList: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.1875" x="583.6465" y="865.2466">extension: [</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="600.1758" y="880.3794">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4473" x="616.7051" y="895.5122">key: &quot;_cause&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.4824" x="616.7051" y="910.645">value: &lt;FSPIOPError&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="600.1758" y="925.7778">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5.0718" x="583.6465" y="940.9106">]</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="567.1172" y="956.0435">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="550.5879" y="971.1763">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.5322" x="550.5879" y="986.3091">uriParams: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.062" x="567.1172" y="1001.4419">id: &lt;bulkTransferId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="550.5879" y="1016.5747">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="534.0586" y="1031.7075">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="517.5293" y="1046.8403">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.79" x="517.5293" y="1061.9731">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.1265" x="534.0586" y="1077.106">correlationId: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="534.0586" y="1092.2388">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6357" x="550.5879" y="1107.3716">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.75" x="550.5879" y="1122.5044">type: &quot;notification&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.0972" x="550.5879" y="1137.6372">action: &quot;bulk-prepare&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="550.5879" y="1152.77">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.7148" x="550.5879" y="1167.9028">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5352" x="567.1172" y="1183.0356">status: &quot;error&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.0386" x="567.1172" y="1198.1685">code: &quot;3106&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.0586" x="567.1172" y="1213.3013">description: &quot;Modified request&quot;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="550.5879" y="1228.4341">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.8657" x="550.5879" y="1243.5669">responseTo: &lt;uuid&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="534.0586" y="1258.6997">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="517.5293" y="1273.8325">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="501" y="1288.9653">}</text>
    <polygon fill="#181818" points="1210.9077,1334.2969,1220.9077,1338.2969,1210.9077,1342.2969,1214.9077,1338.2969" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="1216.9077" y1="1338.2969" y2="1338.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="497.4482" y="1325.6646">4</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285.0542" x="510.4937" y="1318.0981">Publish Notification (failure) event for Payer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.2671" x="510.4937" y="1333.231">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="603.8931" y="1333.231">3106</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40" x2="1944.9976" y1="1377.2969" y2="1377.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="167.4277" x="45" y="1387.5073">[hasDuplicateId == FALSE]</text>
    <path d="M415.4375,1398.1016 L751.8076,1398.1016 L751.8076,1405.2344 L741.8076,1415.2344 L415.4375,1415.2344 L415.4375,1398.1016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="649.9219" style="stroke:#000000;stroke-width:1.5;" width="1501.2324" x="415.4375" y="1398.1016"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="291.3701" x="430.4375" y="1411.1685">Validate Bulk Transfer Prepare Request</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="532.4482" y1="1436.3672" y2="1436.3672"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="532.4482" x2="532.4482" y1="1436.3672" y2="1449.3672"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="491.4482" x2="532.4482" y1="1449.3672" y2="1449.3672"/>
    <polygon fill="#181818" points="500.4482,1432.3672,490.4482,1436.3672,500.4482,1440.3672,496.4482,1436.3672" style="stroke:#181818;stroke-width:1.0;"/>
    <polygon fill="#181818" points="501.4482,1445.3672,491.4482,1449.3672,501.4482,1453.3672,497.4482,1449.3672" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="497.4482" y="1431.3013">5</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.5332" x="510.4937" y="1431.3013">FSPIOP Source matches Payer</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="532.4482" y1="1478.5" y2="1478.5"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="532.4482" x2="532.4482" y1="1478.5" y2="1491.5"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="491.4482" x2="532.4482" y1="1491.5" y2="1491.5"/>
    <polygon fill="#181818" points="500.4482,1474.5,490.4482,1478.5,500.4482,1482.5,496.4482,1478.5" style="stroke:#181818;stroke-width:1.0;"/>
    <polygon fill="#181818" points="501.4482,1487.5,491.4482,1491.5,501.4482,1495.5,497.4482,1491.5" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="497.4482" y="1473.4341">6</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.8906" x="510.4937" y="1473.4341">Check expiration</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="532.4482" y1="1520.6328" y2="1520.6328"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="532.4482" x2="532.4482" y1="1520.6328" y2="1533.6328"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="491.4482" x2="532.4482" y1="1533.6328" y2="1533.6328"/>
    <polygon fill="#181818" points="500.4482,1516.6328,490.4482,1520.6328,500.4482,1524.6328,496.4482,1520.6328" style="stroke:#181818;stroke-width:1.0;"/>
    <polygon fill="#181818" points="501.4482,1529.6328,491.4482,1533.6328,501.4482,1537.6328,497.4482,1533.6328" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="497.4482" y="1515.5669">7</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232.375" x="510.4937" y="1515.5669">Payer and Payee FSP&apos;s are different</text>
    <path d="M425.4375,1548.6328 L577.8208,1548.6328 L577.8208,1555.7656 L567.8208,1565.7656 L425.4375,1565.7656 L425.4375,1548.6328 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="239.1953" style="stroke:#000000;stroke-width:1.5;" width="1481.2324" x="425.4375" y="1548.6328"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107.3833" x="440.4375" y="1561.6997">Validate Payer</text>
    <polygon fill="#181818" points="1514.0293,1582.8984,1524.0293,1586.8984,1514.0293,1590.8984,1518.0293,1586.8984" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="1520.0293" y1="1586.8984" y2="1586.8984"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="497.4482" y="1581.8325">8</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="365.8979" x="510.4937" y="1581.8325">Request to retrieve Payer Participant details (if it exists)</text>
    <polygon fill="#181818" points="1803.0601,1612.0313,1813.0601,1616.0313,1803.0601,1620.0313,1807.0601,1616.0313" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1536.0293" x2="1809.0601" y1="1616.0313" y2="1616.0313"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1543.0293" y="1610.9653">9</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.1382" x="1556.0747" y="1610.9653">Request Participant details</text>
    <polygon fill="#FFFFE0" points="1753,1629.0313,1886,1629.0313,1896,1648.0313,1886,1667.0313,1753,1667.0313,1743,1648.0313,1753,1629.0313" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.5859" x="1755" y="1645.0981">participant</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.6699" x="1755" y="1660.231">participantCurrency</text>
    <polygon fill="#181818" points="1547.0293,1689.4297,1537.0293,1693.4297,1547.0293,1697.4297,1543.0293,1693.4297" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1541.0293" x2="1819.0601" y1="1693.4297" y2="1693.4297"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1553.0293" y="1688.3638">10</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232.9399" x="1575.1201" y="1688.3638">Return Participant details if it exists</text>
    <polygon fill="#181818" points="501.4482,1718.5625,491.4482,1722.5625,501.4482,1726.5625,497.4482,1722.5625" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="495.4482" x2="1530.0293" y1="1722.5625" y2="1722.5625"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="507.4482" y="1717.4966">11</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232.9399" x="529.5391" y="1717.4966">Return Participant details if it exists</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="532.4482" y1="1766.8281" y2="1766.8281"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="532.4482" x2="532.4482" y1="1766.8281" y2="1779.8281"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="491.4482" x2="532.4482" y1="1779.8281" y2="1779.8281"/>
    <polygon fill="#181818" points="500.4482,1762.8281,490.4482,1766.8281,500.4482,1770.8281,496.4482,1766.8281" style="stroke:#181818;stroke-width:1.0;"/>
    <polygon fill="#181818" points="501.4482,1775.8281,491.4482,1779.8281,501.4482,1783.8281,497.4482,1779.8281" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="497.4482" y="1754.1958">12</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3706" x="519.5391" y="1746.6294">Validate Payer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.2671" x="519.5391" y="1761.7622">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="612.9385" y="1761.7622">3202</text>
    <path d="M425.4375,1801.8281 L580.2266,1801.8281 L580.2266,1808.9609 L570.2266,1818.9609 L425.4375,1818.9609 L425.4375,1801.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="239.1953" style="stroke:#000000;stroke-width:1.5;" width="1481.2324" x="425.4375" y="1801.8281"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="109.7891" x="440.4375" y="1814.895">Validate Payee</text>
    <polygon fill="#181818" points="1514.0293,1836.0938,1524.0293,1840.0938,1514.0293,1844.0938,1518.0293,1840.0938" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="1520.0293" y1="1840.0938" y2="1840.0938"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="497.4482" y="1835.0278">13</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368.5513" x="519.5391" y="1835.0278">Request to retrieve Payee Participant details (if it exists)</text>
    <polygon fill="#181818" points="1803.0601,1865.2266,1813.0601,1869.2266,1803.0601,1873.2266,1807.0601,1869.2266" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1536.0293" x2="1809.0601" y1="1869.2266" y2="1869.2266"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1543.0293" y="1864.1606">14</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.1382" x="1565.1201" y="1864.1606">Request Participant details</text>
    <polygon fill="#FFFFE0" points="1753,1882.2266,1886,1882.2266,1896,1901.2266,1886,1920.2266,1753,1920.2266,1743,1901.2266,1753,1882.2266" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.5859" x="1755" y="1898.2935">participant</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.6699" x="1755" y="1913.4263">participantCurrency</text>
    <polygon fill="#181818" points="1547.0293,1942.625,1537.0293,1946.625,1547.0293,1950.625,1543.0293,1946.625" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1541.0293" x2="1819.0601" y1="1946.625" y2="1946.625"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1553.0293" y="1941.5591">15</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232.9399" x="1575.1201" y="1941.5591">Return Participant details if it exists</text>
    <polygon fill="#181818" points="501.4482,1971.7578,491.4482,1975.7578,501.4482,1979.7578,497.4482,1975.7578" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="495.4482" x2="1530.0293" y1="1975.7578" y2="1975.7578"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="507.4482" y="1970.6919">16</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232.9399" x="529.5391" y="1970.6919">Return Participant details if it exists</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="532.4482" y1="2020.0234" y2="2020.0234"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="532.4482" x2="532.4482" y1="2020.0234" y2="2033.0234"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="491.4482" x2="532.4482" y1="2033.0234" y2="2033.0234"/>
    <polygon fill="#181818" points="500.4482,2016.0234,490.4482,2020.0234,500.4482,2024.0234,496.4482,2020.0234" style="stroke:#181818;stroke-width:1.0;"/>
    <polygon fill="#181818" points="501.4482,2029.0234,491.4482,2033.0234,501.4482,2037.0234,497.4482,2033.0234" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="497.4482" y="2007.3911">17</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.0239" x="519.5391" y="1999.8247">Validate Payee</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.2671" x="519.5391" y="2014.9575">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="612.9385" y="2014.9575">3203</text>
    <path d="M415.4375,2087.0234 L479.8804,2087.0234 L479.8804,2094.1563 L469.8804,2104.1563 L415.4375,2104.1563 L415.4375,2087.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="516.3281" style="stroke:#000000;stroke-width:1.5;" width="1519.5601" x="415.4375" y="2087.0234"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="430.4375" y="2100.0903">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="322.2871" x="494.8804" y="2099.2339">[Validate Bulk Transfer Prepare Request  (success)]</text>
    <path d="M425.4375,2111.1563 L945.0645,2111.1563 L945.0645,2118.2891 L935.0645,2128.2891 L425.4375,2128.2891 L425.4375,2111.1563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="213.0625" style="stroke:#000000;stroke-width:1.5;" width="1499.5601" x="425.4375" y="2111.1563"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="474.627" x="440.4375" y="2124.2231">Persist Bulk Transfer State (with bulkTransferState=&apos;RECEIVED&apos;)</text>
    <polygon fill="#181818" points="1409.1792,2160.5547,1419.1792,2164.5547,1409.1792,2168.5547,1413.1792,2164.5547" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="1415.1792" y1="2164.5547" y2="2164.5547"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="497.4482" y="2151.9224">18</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.791" x="519.5391" y="2144.356">Request to persist bulk transfer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.2671" x="519.5391" y="2159.4888">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="612.9385" y="2159.4888">2003</text>
    <polygon fill="#181818" points="1803.0601,2189.6875,1813.0601,2193.6875,1803.0601,2197.6875,1807.0601,2193.6875" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1431.1792" x2="1809.0601" y1="2193.6875" y2="2193.6875"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1438.1792" y="2188.6216">19</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3843" x="1460.27" y="2188.6216">Persist bulkTransfer</text>
    <polygon fill="#FFFFE0" points="1735,2236.6875,1904,2236.6875,1914,2262.6875,1904,2289.6875,1735,2289.6875,1725,2262.6875,1735,2236.6875" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.8149" x="1737" y="2252.7544">bulkTransfer</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.6343" x="1737" y="2267.8872">bulkTransferExtension</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.9976" x="1737" y="2283.02">bulkTransferStateChange</text>
    <polygon fill="#181818" points="501.4482,2312.2188,491.4482,2316.2188,501.4482,2320.2188,497.4482,2316.2188" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="495.4482" x2="1425.1792" y1="2316.2188" y2="2316.2188"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="507.4482" y="2311.1528">20</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.0151" x="529.5391" y="2311.1528">Return state</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="415.4375" x2="1934.9976" y1="2332.2188" y2="2332.2188"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="310.9487" x="420.4375" y="2342.4292">[Validate Bulk Transfer Prepare Request (failure)]</text>
    <path d="M425.4375,2353.0234 L1360.0869,2353.0234 L1360.0869,2360.1563 L1350.0869,2370.1563 L425.4375,2370.1563 L425.4375,2353.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="243.3281" style="stroke:#000000;stroke-width:1.5;" width="1499.5601" x="425.4375" y="2353.0234"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="889.6494" x="440.4375" y="2366.0903">Persist Bulk Transfer State (with bulkTransferState=&apos;INVALID&apos;) (Introducing a new status INVALID to mark these entries)</text>
    <polygon fill="#181818" points="1409.1792,2417.5547,1419.1792,2421.5547,1409.1792,2425.5547,1413.1792,2421.5547" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="1415.1792" y1="2421.5547" y2="2421.5547"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="497.4482" y="2401.356">21</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.791" x="519.5391" y="2386.2231">Request to persist bulk transfer</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="339.5742" x="519.5391" y="2401.356">(when Payee/Payer/crypto-condition validation fails)</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.2671" x="519.5391" y="2416.4888">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="612.9385" y="2416.4888">2003</text>
    <polygon fill="#181818" points="1803.0601,2446.6875,1813.0601,2450.6875,1803.0601,2454.6875,1807.0601,2450.6875" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1431.1792" x2="1809.0601" y1="2450.6875" y2="2450.6875"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1438.1792" y="2445.6216">22</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.9092" x="1460.27" y="2445.6216">Persist transfer</text>
    <polygon fill="#FFFFE0" points="1735,2493.6875,1904,2493.6875,1914,2527.6875,1904,2561.6875,1735,2561.6875,1725,2527.6875,1735,2493.6875" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.8149" x="1737" y="2509.7544">bulkTransfer</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.6343" x="1737" y="2524.8872">bulkTransferExtension</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.9976" x="1737" y="2540.02">bulkTransferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.0166" x="1737" y="2555.1528">bulkTransferError</text>
    <polygon fill="#181818" points="501.4482,2584.3516,491.4482,2588.3516,501.4482,2592.3516,497.4482,2588.3516" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="495.4482" x2="1425.1792" y1="2588.3516" y2="2588.3516"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="507.4482" y="2583.2856">23</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.0151" x="529.5391" y="2583.2856">Return state</text>
    <path d="M20,2631.3516 L84.4429,2631.3516 L84.4429,2638.4844 L74.4429,2648.4844 L20,2648.4844 L20,2631.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="1631.4297" style="stroke:#000000;stroke-width:1.5;" width="1924.9976" x="20" y="2631.3516"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="2644.4185">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="263.7261" x="99.4429" y="2643.562">[Validate Bulk Prepare Transfer (success)]</text>
    <path d="M30,2655.4844 L106.624,2655.4844 L106.624,2662.6172 L96.624,2672.6172 L30,2672.6172 L30,2655.4844 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="825.3125" style="stroke:#000000;stroke-width:1.5;" width="1904.9976" x="30" y="2655.4844"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="45" y="2668.5513">loop</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="250.2178" x="121.624" y="2667.6948">[for each individual transfer in the bulk]</text>
    <polygon fill="#181818" points="106.9556,2704.8828,96.9556,2708.8828,106.9556,2712.8828,102.9556,2708.8828" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="100.9556" x2="479.4482" y1="2708.8828" y2="2708.8828"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="112.9556" y="2696.2505">24</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315.3896" x="135.0464" y="2688.6841">Retrieve individual transfers from the bulk using</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.0249" x="135.0464" y="2703.8169">reference:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="272.2446" x="206.2036" y="2703.8169">MLOS.individualTransfers.messageId</text>
    <path d="M100,2721.8828 L100,2761.8828 L576,2761.8828 L576,2731.8828 L566,2721.8828 L100,2721.8828 " fill="#D3D3D3" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M566,2721.8828 L566,2731.8828 L576,2731.8828 L566,2721.8828 " fill="#D3D3D3" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="455.3301" x="106" y="2738.9497">Add elements such as Expiry time, Payer FSP, Payee FSP, etc. to each</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="366.0566" x="106" y="2754.0825">transfer to make their format similar to a single transfer</text>
    <polygon fill="#181818" points="468.4482,2784.2813,478.4482,2788.2813,468.4482,2792.2813,472.4482,2788.2813" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="90.9556" x2="474.4482" y1="2788.2813" y2="2788.2813"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="97.9556" y="2783.2153">25</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.8989" x="120.0464" y="2783.2153">Stream bulk&apos;s individual transfers</text>
    <path d="M425.4375,2803.2813 L1000.27,2803.2813 L1000.27,2810.4141 L990.27,2820.4141 L425.4375,2820.4141 L425.4375,2803.2813 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="197.9297" style="stroke:#000000;stroke-width:1.5;" width="1499.5601" x="425.4375" y="2803.2813"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="529.8325" x="440.4375" y="2816.3481">Insert Bulk Transfer Association (with bulkProcessingState=&apos;RECEIVED&apos;)</text>
    <polygon fill="#181818" points="1409.1792,2852.6797,1419.1792,2856.6797,1409.1792,2860.6797,1413.1792,2856.6797" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="1415.1792" y1="2856.6797" y2="2856.6797"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="497.4482" y="2844.0474">26</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283.0166" x="519.5391" y="2836.481">Request to persist bulk transfer association</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.2671" x="519.5391" y="2851.6138">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="612.9385" y="2851.6138">2003</text>
    <polygon fill="#181818" points="1803.0601,2881.8125,1813.0601,2885.8125,1803.0601,2889.8125,1807.0601,2885.8125" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1431.1792" x2="1809.0601" y1="2885.8125" y2="2885.8125"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1438.1792" y="2880.7466">27</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.2534" x="1460.27" y="2880.7466">Insert bulkTransferAssociation</text>
    <polygon fill="#FFFFE0" points="1735,2928.8125,1904,2928.8125,1914,2947.8125,1904,2966.8125,1735,2966.8125,1725,2947.8125,1735,2928.8125" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.835" x="1737" y="2944.8794">bulkTransferAssociation</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.9976" x="1737" y="2960.0122">bulkTransferStateChange</text>
    <polygon fill="#181818" points="501.4482,2989.2109,491.4482,2993.2109,501.4482,2997.2109,497.4482,2993.2109" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="495.4482" x2="1425.1792" y1="2993.2109" y2="2993.2109"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="507.4482" y="2988.145">28</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.0151" x="529.5391" y="2988.145">Return state</text>
    <path d="M495,3013.2109 L495,3401.2109 L782,3401.2109 L782,3023.2109 L772,3013.2109 L495,3013.2109 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M772,3013.2109 L772,3023.2109 L782,3023.2109 L772,3013.2109 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.3564" x="501" y="3030.2778">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="501" y="3045.4106">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.6709" x="517.5293" y="3060.5435">id: &lt;messageId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.0776" x="517.5293" y="3075.6763">from: &lt;payerFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.2432" x="517.5293" y="3090.8091">to: &lt;payeeFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.2197" x="517.5293" y="3105.9419">type: application/json</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5552" x="517.5293" y="3121.0747">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.4482" x="534.0586" y="3136.2075">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.3091" x="534.0586" y="3151.3403">payload: &lt;transferMessage&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="517.5293" y="3166.4731">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.79" x="517.5293" y="3181.606">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="534.0586" y="3196.7388">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6357" x="550.5879" y="3211.8716">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.9961" x="550.5879" y="3227.0044">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.7998" x="550.5879" y="3242.1372">type: &quot;prepare&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.0972" x="550.5879" y="3257.27">action: &quot;bulk-prepare&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="550.5879" y="3272.4028">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.7148" x="550.5879" y="3287.5356">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.4004" x="567.1172" y="3302.6685">status: &quot;success&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.2666" x="567.1172" y="3317.8013">code: 0,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.0464" x="567.1172" y="3332.9341">description:&quot;action successful&quot;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="550.5879" y="3348.0669">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="534.0586" y="3363.1997">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="517.5293" y="3378.3325">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="501" y="3393.4653">}</text>
    <polygon fill="#181818" points="978.373,3438.7969,988.373,3442.7969,978.373,3446.7969,982.373,3442.7969" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="984.373" y1="3442.7969" y2="3442.7969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="497.4482" y="3430.1646">29</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="458.834" x="519.5391" y="3422.5981">Route &amp; Publish Prepare event to the Payee for the Individual Transfer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.2671" x="519.5391" y="3437.731">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="612.9385" y="3437.731">2003</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1944.9976" y1="3488.7969" y2="3488.7969"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="256.2173" x="25" y="3499.0073">[Validate Bulk Prepare Transfer (failure)]</text>
    <path d="M495,3507.6016 L495,3970.6016 L1126,3970.6016 L1126,3517.6016 L1116,3507.6016 L495,3507.6016 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M1116,3507.6016 L1116,3517.6016 L1126,3517.6016 L1116,3507.6016 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.3564" x="501" y="3524.6685">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="501" y="3539.8013">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.6709" x="517.5293" y="3554.9341">id: &lt;messageId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.7773" x="517.5293" y="3570.0669">from: &lt;ledgerName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.1611" x="517.5293" y="3585.1997">to: &lt;bulkTransferMessage.payerFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.311" x="517.5293" y="3600.3325">type: &quot;application/json&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5552" x="517.5293" y="3615.4653">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.9233" x="534.0586" y="3630.5981">headers: &lt;bulkTransferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.4785" x="534.0586" y="3645.731">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.208" x="550.5879" y="3660.8638">&quot;errorInformation&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="544.1846" x="567.1172" y="3675.9966">&quot;errorCode&quot;: &lt;possible codes: [2003, 3100, 3105, 3106, 3202, 3203, 3300, 3301]&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="386.9976" x="567.1172" y="3691.1294">&quot;errorDescription&quot;: &quot;&lt;refer to section 7.6 for description&gt;&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.3613" x="567.1172" y="3706.2622">&quot;extensionList&quot;: &lt;transferMessage.extensionList&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="534.0586" y="3721.395">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="517.5293" y="3736.5278">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.79" x="517.5293" y="3751.6606">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="534.0586" y="3766.7935">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6357" x="550.5879" y="3781.9263">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.9961" x="550.5879" y="3797.0591">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.311" x="550.5879" y="3812.1919">type: &quot;bulk-processing&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.5552" x="550.5879" y="3827.3247">action: &quot;bulk-abort&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="550.5879" y="3842.4575">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.7148" x="550.5879" y="3857.5903">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5352" x="567.1172" y="3872.7231">status: &quot;error&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.5132" x="567.1172" y="3887.856">code: &lt;errorInformation.errorCode&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.2012" x="567.1172" y="3902.9888">description: &lt;errorInformation.errorDescription&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="550.5879" y="3918.1216">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="534.0586" y="3933.2544">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="517.5293" y="3948.3872">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="501" y="3963.52">}</text>
    <polygon fill="#181818" points="1316.1504,4008.8516,1326.1504,4012.8516,1316.1504,4016.8516,1320.1504,4012.8516" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="1322.1504" y1="4012.8516" y2="4012.8516"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="497.4482" y="4000.2192">30</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280.395" x="519.5391" y="3992.6528">Publish Processing (failure) event for Payer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.2671" x="519.5391" y="4007.7856">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="612.9385" y="4007.7856">2003</text>
    <path d="M425.4375,4057.8516 L988.1396,4057.8516 L988.1396,4064.9844 L978.1396,4074.9844 L425.4375,4074.9844 L425.4375,4057.8516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="197.9297" style="stroke:#000000;stroke-width:1.5;" width="1499.5601" x="425.4375" y="4057.8516"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="517.7021" x="440.4375" y="4070.9185">Insert Bulk Transfer Association (with bulkProcessingState=&apos;INVALID&apos;)</text>
    <polygon fill="#181818" points="1409.1792,4107.25,1419.1792,4111.25,1409.1792,4115.25,1413.1792,4111.25" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="490.4482" x2="1415.1792" y1="4111.25" y2="4111.25"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="497.4482" y="4098.6177">31</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283.0166" x="519.5391" y="4091.0513">Request to persist bulk transfer association</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.2671" x="519.5391" y="4106.1841">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="612.9385" y="4106.1841">2003</text>
    <polygon fill="#181818" points="1803.0601,4136.3828,1813.0601,4140.3828,1803.0601,4144.3828,1807.0601,4140.3828" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1431.1792" x2="1809.0601" y1="4140.3828" y2="4140.3828"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1438.1792" y="4135.3169">32</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.2534" x="1460.27" y="4135.3169">Insert bulkTransferAssociation</text>
    <polygon fill="#FFFFE0" points="1735,4183.3828,1904,4183.3828,1914,4202.3828,1904,4221.3828,1735,4221.3828,1725,4202.3828,1735,4183.3828" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.835" x="1737" y="4199.4497">bulkTransferAssociation</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.9976" x="1737" y="4214.5825">bulkTransferStateChange</text>
    <polygon fill="#181818" points="501.4482,4243.7813,491.4482,4247.7813,501.4482,4251.7813,497.4482,4247.7813" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="495.4482" x2="1425.1792" y1="4247.7813" y2="4247.7813"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="507.4482" y="4242.7153">33</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81.0151" x="529.5391" y="4242.7153">Return state</text>
  </g>
</svg>
