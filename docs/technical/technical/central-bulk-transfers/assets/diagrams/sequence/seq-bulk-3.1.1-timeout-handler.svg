<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="5575px" preserveAspectRatio="none" style="width:1765px;height:5575px;background:#FFFFFF;" version="1.1" viewBox="0 0 1765 5575" width="1765px" zoomAndPan="magnify">
  <title>3.1.1. Timeout Handler Consume (incl. Bulk Transfer)</title>
  <defs/>
  <g>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="421.1416" x="673.5471" y="27.9951">3.1.1. Timeout Handler Consume (incl. Bulk Transfer)</text>
    <rect fill="#FFFFE0" height="5521.1953" style="stroke:#181818;stroke-width:0.5;" width="1389.1792" x="46" y="43.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112.0361" x="684.5715" y="55.3638">Central Service</text>
    <rect fill="#FFFFFF" height="5342.875" style="stroke:#181818;stroke-width:1.0;" width="10" x="108.2109" y="137.0234"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="358.9609" y="4263.6563"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="358.9609" y="5420.8984"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="484.2227" y="3549.2734"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="714.3237" y="4857.8438"/>
    <rect fill="#FFFFFF" height="287.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="837.0239" y="639.3516"/>
    <rect fill="#FFFFFF" height="135.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="837.0239" y="987.4766"/>
    <rect fill="#FFFFFF" height="1591.8906" style="stroke:#181818;stroke-width:1.0;" width="10" x="837.0239" y="1183.4063"/>
    <rect fill="#FFFFFF" height="181.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="1114.229" y="324.7578"/>
    <rect fill="#FFFFFF" height="122.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="353.8906"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="668.4844"/>
    <rect fill="#FFFFFF" height="77.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="1016.6094"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="1278.8047"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="1552.6641"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="1856.7891"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="2130.6484"/>
    <rect fill="#FFFFFF" height="380.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="2366.1094"/>
    <rect fill="none" height="5335.875" style="stroke:#000000;stroke-width:1.5;" width="1749.2358" x="10" y="144.0234"/>
    <rect fill="none" height="104.3359" style="stroke:#000000;stroke-width:1.5;" width="615.0415" x="40" y="168.1563"/>
    <rect fill="none" height="300.5938" style="stroke:#000000;stroke-width:1.5;" width="1505.8652" x="30" y="286.4922"/>
    <rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="434.9253" x="40" y="520.8203"/>
    <rect fill="none" height="334.125" style="stroke:#000000;stroke-width:1.5;" width="1652.5669" x="40" y="601.0859"/>
    <rect fill="none" height="181.9297" style="stroke:#000000;stroke-width:1.5;" width="1548.2749" x="40" y="949.2109"/>
    <rect fill="none" height="1638.1563" style="stroke:#000000;stroke-width:1.5;" width="1709.2358" x="40" y="1145.1406"/>
    <rect fill="none" height="1139.5703" style="stroke:#000000;stroke-width:1.5;" width="955.6299" x="783.606" y="1198.4063"/>
    <rect fill="none" height="2675.6016" style="stroke:#000000;stroke-width:1.5;" width="793.606" x="20" y="2797.2969"/>
    <rect fill="none" height="2619.4688" style="stroke:#000000;stroke-width:1.5;" width="773.606" x="30" y="2846.4297"/>
    <rect fill="none" height="1431.0938" style="stroke:#000000;stroke-width:1.5;" width="507.5874" x="40" y="2870.5625"/>
    <rect fill="none" height="1128.4375" style="stroke:#000000;stroke-width:1.5;" width="753.606" x="40" y="4330.4609"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="113" x2="113" y1="127.0234" y2="5496.8984"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="363.064" x2="363.064" y1="127.0234" y2="5496.8984"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="488.8579" x2="488.8579" y1="127.0234" y2="5496.8984"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="595.5874" x2="595.5874" y1="127.0234" y2="5496.8984"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="719.0415" x2="719.0415" y1="127.0234" y2="5496.8984"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="841.606" x2="841.606" y1="127.0234" y2="5496.8984"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1118.8154" x2="1118.8154" y1="127.0234" y2="5496.8984"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1381.4429" x2="1381.4429" y1="127.0234" y2="5496.8984"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.4219" x="50" y="107.4248">Transfer Timeout</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.125" x="82.6484" y="123.7217">Handler</text>
    <ellipse cx="113.2109" cy="78.4297" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <polygon fill="#181818" points="109.2109,66.4297,115.2109,61.4297,113.2109,66.4297,115.2109,71.4297,109.2109,66.4297" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.4219" x="50" y="5508.8936">Transfer Timeout</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.125" x="82.6484" y="5525.1904">Handler</text>
    <ellipse cx="113.2109" cy="5544.4922" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <polygon fill="#181818" points="109.2109,5532.4922,115.2109,5527.4922,113.2109,5532.4922,115.2109,5537.4922,109.2109,5532.4922" style="stroke:#181818;stroke-width:1.0;"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="129.7939" x="301.064" y="75.4297"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="129.7939" x="297.064" y="79.4297"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5801" x="342.1709" y="99.4248">topic-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.7939" x="304.064" y="115.7217">transfer-position</text>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="129.7939" x="301.064" y="5495.8984"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="129.7939" x="297.064" y="5499.8984"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5801" x="342.1709" y="5519.8936">topic-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.7939" x="304.064" y="5536.1904">transfer-position</text>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="92.7295" x="444.8579" y="75.4297"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="92.7295" x="440.8579" y="79.4297"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5801" x="467.4326" y="99.4248">topic-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.7295" x="447.8579" y="115.7217">notification</text>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="92.7295" x="444.8579" y="5495.8984"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="92.7295" x="440.8579" y="5499.8984"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5801" x="467.4326" y="5519.8936">topic-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.7295" x="447.8579" y="5536.1904">notification</text>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="93.4541" x="551.5874" y="91.7266"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="93.4541" x="547.5874" y="95.7266"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.4541" x="554.5874" y="115.7217">topic-event</text>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="93.4541" x="551.5874" y="5495.8984"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="93.4541" x="547.5874" y="5499.8984"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.4541" x="554.5874" y="5519.8936">topic-event</text>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="124.5645" x="659.0415" y="75.4297"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="124.5645" x="655.0415" y="79.4297"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5801" x="697.5337" y="99.4248">topic-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.5645" x="662.0415" y="115.7217">bulk-processing</text>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="124.5645" x="659.0415" y="5495.8984"/>
    <rect fill="#E2E2F0" height="46.5938" style="stroke:#181818;stroke-width:0.5;" width="124.5645" x="655.0415" y="5499.8984"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5801" x="697.5337" y="5519.8936">topic-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.5645" x="662.0415" y="5536.1904">bulk-processing</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.8359" x="793.606" y="123.7217">Position DAO</text>
    <ellipse cx="842.0239" cy="94.7266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <line style="stroke:#181818;stroke-width:0.5;" x1="830.0239" x2="854.0239" y1="108.7266" y2="108.7266"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.8359" x="793.606" y="5508.8936">Position DAO</text>
    <ellipse cx="842.0239" cy="5528.1953" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <line style="stroke:#181818;stroke-width:0.5;" x1="830.0239" x2="854.0239" y1="5542.1953" y2="5542.1953"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.8271" x="1066.8154" y="123.7217">Segment DAO</text>
    <ellipse cx="1119.229" cy="94.7266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <line style="stroke:#181818;stroke-width:0.5;" x1="1107.229" x2="1131.229" y1="108.7266" y2="108.7266"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.8271" x="1066.8154" y="5508.8936">Segment DAO</text>
    <ellipse cx="1119.229" cy="5528.1953" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <line style="stroke:#181818;stroke-width:0.5;" x1="1107.229" x2="1131.229" y1="5542.1953" y2="5542.1953"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.7363" x="1332.4429" y="123.7217">Central Store</text>
    <path d="M1363.811,74.7266 C1363.811,64.7266 1381.811,64.7266 1381.811,64.7266 C1381.811,64.7266 1399.811,64.7266 1399.811,74.7266 L1399.811,100.7266 C1399.811,110.7266 1381.811,110.7266 1381.811,110.7266 C1381.811,110.7266 1363.811,110.7266 1363.811,100.7266 L1363.811,74.7266 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/>
    <path d="M1363.811,74.7266 C1363.811,84.7266 1381.811,84.7266 1381.811,84.7266 C1381.811,84.7266 1399.811,84.7266 1399.811,74.7266 " fill="none" style="stroke:#181818;stroke-width:1.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.7363" x="1332.4429" y="5508.8936">Central Store</text>
    <path d="M1363.811,5522.1953 C1363.811,5512.1953 1381.811,5512.1953 1381.811,5512.1953 C1381.811,5512.1953 1399.811,5512.1953 1399.811,5522.1953 L1399.811,5548.1953 C1399.811,5558.1953 1381.811,5558.1953 1381.811,5558.1953 C1381.811,5558.1953 1363.811,5558.1953 1363.811,5548.1953 L1363.811,5522.1953 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/>
    <path d="M1363.811,5522.1953 C1363.811,5532.1953 1381.811,5532.1953 1381.811,5532.1953 C1381.811,5532.1953 1399.811,5532.1953 1399.811,5522.1953 " fill="none" style="stroke:#181818;stroke-width:1.5;"/>
    <rect fill="#FFFFFF" height="5342.875" style="stroke:#181818;stroke-width:1.0;" width="10" x="108.2109" y="137.0234"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="358.9609" y="4263.6563"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="358.9609" y="5420.8984"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="484.2227" y="3549.2734"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="714.3237" y="4857.8438"/>
    <rect fill="#FFFFFF" height="287.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="837.0239" y="639.3516"/>
    <rect fill="#FFFFFF" height="135.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="837.0239" y="987.4766"/>
    <rect fill="#FFFFFF" height="1591.8906" style="stroke:#181818;stroke-width:1.0;" width="10" x="837.0239" y="1183.4063"/>
    <rect fill="#FFFFFF" height="181.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="1114.229" y="324.7578"/>
    <rect fill="#FFFFFF" height="122.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="353.8906"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="668.4844"/>
    <rect fill="#FFFFFF" height="77.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="1016.6094"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="1278.8047"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="1552.6641"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="1856.7891"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="2130.6484"/>
    <rect fill="#FFFFFF" height="380.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="1376.811" y="2366.1094"/>
    <path d="M10,144.0234 L249.1177,144.0234 L249.1177,151.1563 L239.1177,161.1563 L10,161.1563 L10,144.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="5335.875" style="stroke:#000000;stroke-width:1.5;" width="1749.2358" x="10" y="144.0234"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="194.1177" x="25" y="157.0903">Timeout Handler Consume</text>
    <path d="M40,168.1563 L272.8589,168.1563 L272.8589,175.2891 L262.8589,185.2891 L40,185.2891 L40,168.1563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="104.3359" style="stroke:#000000;stroke-width:1.5;" width="615.0415" x="40" y="168.1563"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="187.8589" x="55" y="181.2231">Persist Event Information</text>
    <polygon fill="#181818" points="584.3145,202.4219,594.3145,206.4219,584.3145,210.4219,588.3145,206.4219" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="118.2109" x2="590.3145" y1="206.4219" y2="206.4219"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="125.2109" y="201.356">1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.1147" x="138.2563" y="201.356">Publish event information</text>
    <rect fill="none" height="53.0703" style="stroke:#000000;stroke-width:1.5;" width="601.0415" x="47" y="214.4219"/>
    <path d="M47,214.4219 L112,214.4219 L112,221.4219 L102,231.4219 L47,231.4219 L47,214.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.8838" x="60" y="228.4888">ref</text>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="145.5117" x="274.7649" y="246.5605">Event Handler Consume</text>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="3.8145" x="345.6135" y="260.5293"> </text>
    <path d="M30,286.4922 L629.728,286.4922 L629.728,293.625 L619.728,303.625 L30,303.625 L30,286.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="300.5938" style="stroke:#000000;stroke-width:1.5;" width="1505.8652" x="30" y="286.4922"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="554.728" x="45" y="299.5591">Get previous checkpoint of last record processed (Lower limit for inclusion)</text>
    <polygon fill="#181818" points="1102.229,320.7578,1112.229,324.7578,1102.229,328.7578,1106.229,324.7578" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="118.2109" x2="1108.229" y1="324.7578" y2="324.7578"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="125.2109" y="319.6919">2</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.5366" x="138.2563" y="319.6919">Get last segment as @intervalMin</text>
    <polygon fill="#181818" points="1364.811,349.8906,1374.811,353.8906,1364.811,357.8906,1368.811,353.8906" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1124.229" x2="1370.811" y1="353.8906" y2="353.8906"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1131.229" y="348.8247">3</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.5366" x="1144.2744" y="348.8247">Get last segment as @intervalMin</text>
    <polygon fill="#FFFFE0" points="1246,366.8906,1515,366.8906,1525,407.8906,1515,449.8906,1246,449.8906,1236,407.8906,1246,366.8906" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214.208" x="1248" y="382.9575">SELECT value INTO @intervalMin</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.959" x="1248" y="398.0903">FROM</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63.6924" x="1290.0913" y="398.0903">segment</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.0928" x="1248" y="413.2231">WHERE segmentType = &apos;timeout&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.5396" x="1248" y="428.356">AND enumeration = 0</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265.8652" x="1248" y="443.4888">AND tableName = &apos;transferStateChange&apos;</text>
    <polygon fill="#181818" points="1135.229,472.6875,1125.229,476.6875,1135.229,480.6875,1131.229,476.6875" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1129.229" x2="1380.811" y1="476.6875" y2="476.6875"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1141.229" y="471.6216">4</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.7134" x="1154.2744" y="471.6216">Return @intervalMin</text>
    <polygon fill="#181818" points="129.2109,501.8203,119.2109,505.8203,129.2109,509.8203,125.2109,505.8203" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123.2109" x2="1118.229" y1="505.8203" y2="505.8203"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="135.2109" y="500.7544">5</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.7134" x="148.2563" y="500.7544">Return @intervalMin</text>
    <path d="M40,520.8203 L109.4512,520.8203 L109.4512,527.9531 L99.4512,537.9531 L40,537.9531 L40,520.8203 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:1.5;" width="434.9253" x="40" y="520.8203"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24.4512" x="55" y="533.8872">opt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="345.4741" x="124.4512" y="533.0308">[@intervalMin IS NULL =&gt; segment record NOT FOUND]</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="118.2109" x2="160.2109" y1="559.0859" y2="559.0859"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="160.2109" x2="160.2109" y1="559.0859" y2="572.0859"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="119.2109" x2="160.2109" y1="572.0859" y2="572.0859"/>
    <polygon fill="#181818" points="129.2109,568.0859,119.2109,572.0859,129.2109,576.0859,125.2109,572.0859" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="125.2109" y="554.02">6</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.5376" x="138.2563" y="554.02">Set @intervalMin = 0</text>
    <path d="M40,601.0859 L168.6494,601.0859 L168.6494,608.2188 L158.6494,618.2188 L40,618.2188 L40,601.0859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="334.125" style="stroke:#000000;stroke-width:1.5;" width="1652.5669" x="40" y="601.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="83.6494" x="55" y="614.1528">Do Cleanup</text>
    <polygon fill="#181818" points="825.0239,635.3516,835.0239,639.3516,825.0239,643.3516,829.0239,639.3516" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="118.2109" x2="831.0239" y1="639.3516" y2="639.3516"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="125.2109" y="634.2856">7</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322.1816" x="138.2563" y="634.2856">Clean up transferTimeout from finalised transfers</text>
    <polygon fill="#181818" points="1364.811,664.4844,1374.811,668.4844,1364.811,672.4844,1368.811,668.4844" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="847.0239" x2="1370.811" y1="668.4844" y2="668.4844"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="854.0239" y="663.4185">8</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322.1816" x="867.0693" y="663.4185">Clean up transferTimeout from finalised transfers</text>
    <polygon fill="#FFFFE0" points="1091,711.4844,1672,711.4844,1682,805.4844,1672,900.4844,1091,900.4844,1081,805.4844,1091,711.4844" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.1621" x="1093" y="727.5513">DELETE tt</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.959" x="1093" y="742.6841">FROM</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119.3613" x="1135.0913" y="742.6841">transferTimeout</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.4717" x="1258.585" y="742.6841">AS tt</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="577.5669" x="1093" y="757.8169">JOIN (SELECT tsc.transferId, MAX(tsc.transferStateChangeId) maxTransferStateChangeId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.959" x="1117.7939" y="772.9497">FROM</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119.3613" x="1159.8853" y="772.9497">transferTimeout</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.4653" x="1283.3789" y="772.9497">tt1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.625" x="1117.7939" y="788.0825">JOIN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1149.5513" y="788.0825">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.0176" x="1307.2842" y="788.0825">tsc</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215.8457" x="1117.7939" y="803.2153">ON tsc.transferId = tt1.transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.3174" x="1117.7939" y="818.3481">GROUP BY transferId) ts</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.4272" x="1093" y="833.481">ON ts.transferId = tt.transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.625" x="1093" y="848.6138">JOIN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1124.7573" y="848.6138">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.0176" x="1282.4902" y="848.6138">tsc</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408.7827" x="1093" y="863.7466">ON tsc.transferStateChangeId = ts.maxTransferStateChangeId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="478.207" x="1093" y="878.8794">WHERE tsc.transferStateId IN (&apos;RECEIVED_FULFIL&apos;, &apos;COMMITTED&apos;, &apos;FAILED&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="529.9976" x="1109.5293" y="894.0122">, &apos;EXPIRED&apos;, &apos;REJECTED&apos;, &apos;EXPIRED_PREPARED&apos;, &apos;EXPIRED_RESERVED&apos;, &apos;ABORTED&apos;)</text>
    <polygon fill="#181818" points="129.2109,923.2109,119.2109,927.2109,129.2109,931.2109,125.2109,927.2109" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123.2109" x2="841.0239" y1="927.2109" y2="927.2109"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="135.2109" y="922.145">9</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.9346" x="148.2563" y="922.145">Return success</text>
    <path d="M40,949.2109 L447.9971,949.2109 L447.9971,956.3438 L437.9971,966.3438 L40,966.3438 L40,949.2109 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="181.9297" style="stroke:#000000;stroke-width:1.5;" width="1548.2749" x="40" y="949.2109"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="362.9971" x="55" y="962.2778">Determine IntervalMax (Upper limit for inclusion)</text>
    <polygon fill="#181818" points="825.0239,983.4766,835.0239,987.4766,825.0239,991.4766,829.0239,987.4766" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="118.2109" x2="831.0239" y1="987.4766" y2="987.4766"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="125.2109" y="982.4106">10</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314.9326" x="147.3018" y="982.4106">Get last transferStateChangeId as @intervalMax</text>
    <polygon fill="#181818" points="1364.811,1012.6094,1374.811,1016.6094,1364.811,1020.6094,1368.811,1016.6094" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="847.0239" x2="1370.811" y1="1016.6094" y2="1016.6094"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="854.0239" y="1011.5435">11</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314.9326" x="876.1147" y="1011.5435">Get last transferStateChangeId as @intervalMax</text>
    <polygon fill="#FFFFE0" points="1195,1029.6094,1568,1029.6094,1578,1048.6094,1568,1067.6094,1195,1067.6094,1185,1048.6094,1195,1029.6094" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369.2749" x="1197" y="1045.6763">SELECT MAX(transferStateChangeId) INTO @intervalMax</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.959" x="1197" y="1060.8091">FROM</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1239.0913" y="1060.8091">transferStateChange</text>
    <polygon fill="#181818" points="858.0239,1090.0078,848.0239,1094.0078,858.0239,1098.0078,854.0239,1094.0078" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="852.0239" x2="1380.811" y1="1094.0078" y2="1094.0078"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="864.0239" y="1088.9419">12</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.522" x="886.1147" y="1088.9419">Return @intervalMax</text>
    <polygon fill="#181818" points="129.2109,1119.1406,119.2109,1123.1406,129.2109,1127.1406,125.2109,1123.1406" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123.2109" x2="841.0239" y1="1123.1406" y2="1123.1406"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="135.2109" y="1118.0747">13</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.522" x="157.3018" y="1118.0747">Return @intervalMax</text>
    <path d="M40,1145.1406 L424.6567,1145.1406 L424.6567,1152.2734 L414.6567,1162.2734 L40,1162.2734 L40,1145.1406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="1638.1563" style="stroke:#000000;stroke-width:1.5;" width="1709.2358" x="40" y="1145.1406"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="339.6567" x="55" y="1158.2075">Prepare data and return the list for expiration</text>
    <polygon fill="#181818" points="825.0239,1179.4063,835.0239,1183.4063,825.0239,1187.4063,829.0239,1183.4063" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="118.2109" x2="831.0239" y1="1183.4063" y2="1183.4063"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="125.2109" y="1178.3403">14</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291.3193" x="147.3018" y="1178.3403">Prepare data and get transfers to be expired</text>
    <path d="M783.606,1198.4063 L958.2505,1198.4063 L958.2505,1205.5391 L948.2505,1215.5391 L783.606,1215.5391 L783.606,1198.4063 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="1139.5703" style="stroke:#000000;stroke-width:1.5;" width="955.6299" x="783.606" y="1198.4063"/>
    <text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="129.6445" x="798.606" y="1211.4731">DB TRANSACTION</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="847.0239" x2="889.0239" y1="1236.6719" y2="1236.6719"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="889.0239" x2="889.0239" y1="1236.6719" y2="1249.6719"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="848.0239" x2="889.0239" y1="1249.6719" y2="1249.6719"/>
    <polygon fill="#181818" points="857.0239,1232.6719,847.0239,1236.6719,857.0239,1240.6719,853.0239,1236.6719" style="stroke:#181818;stroke-width:1.0;"/>
    <polygon fill="#181818" points="858.0239,1245.6719,848.0239,1249.6719,858.0239,1253.6719,854.0239,1249.6719" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="854.0239" y="1231.606">15</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="164.9883" x="876.1147" y="1231.606">transactionTimestamp</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.9937" x="1045.2354" y="1231.606">= now()</text>
    <polygon fill="#181818" points="1364.811,1274.8047,1374.811,1278.8047,1364.811,1282.8047,1368.811,1278.8047" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="847.0239" x2="1370.811" y1="1278.8047" y2="1278.8047"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="854.0239" y="1273.7388">16</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.2178" x="876.1147" y="1273.7388">Insert all new transfers still in processing state</text>
    <polygon fill="#FFFFE0" points="1114,1321.8047,1649,1321.8047,1659,1415.8047,1649,1510.8047,1114,1510.8047,1104,1415.8047,1114,1321.8047" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.8623" x="1116" y="1337.8716">INSERT INTO</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119.3613" x="1202.9946" y="1337.8716">transferTimeout</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.6738" x="1322.356" y="1337.8716">(transferId, expirationDate)</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240.062" x="1116" y="1353.0044">SELECT t.transferId, t.expirationDate</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.959" x="1116" y="1368.1372">FROM</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="59.2744" x="1158.0913" y="1368.1372">transfer</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5.0972" x="1221.498" y="1368.1372">t</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="531.2671" x="1116" y="1383.27">JOIN (SELECT transferId, MAX(transferStateChangeId) maxTransferStateChangeId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.959" x="1140.7939" y="1398.4028">FROM</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1182.8853" y="1398.4028">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.6177" x="1140.7939" y="1413.5356">WHERE transferStateChangeId &gt; @intervalMin</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299.8569" x="1140.7939" y="1428.6685">AND transferStateChangeId &lt;= @intervalMax</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.3174" x="1140.7939" y="1443.8013">GROUP BY transferId) ts</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.3301" x="1116" y="1458.9341">ON ts.transferId = t.transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.625" x="1116" y="1474.0669">JOIN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1147.7573" y="1474.0669">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.0176" x="1305.4902" y="1474.0669">tsc</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408.7827" x="1116" y="1489.1997">ON tsc.transferStateChangeId = ts.maxTransferStateChangeId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="428.6509" x="1116" y="1504.3325">WHERE tsc.transferStateId IN (&apos;RECEIVED_PREPARE&apos;, &apos;RESERVED&apos;)</text>
    <polygon fill="#181818" points="1364.811,1548.6641,1374.811,1552.6641,1364.811,1556.6641,1368.811,1552.6641" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="847.0239" x2="1370.811" y1="1552.6641" y2="1552.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="854.0239" y="1540.0317">17</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.2036" x="876.1147" y="1532.4653">Insert transfer state ABORTED for</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.5811" x="876.1147" y="1547.5981">expired RECEIVED_PREPARE transfers</text>
    <polygon fill="#FFFFE0" points="1044,1595.6641,1719,1595.6641,1729,1704.6641,1719,1814.6641,1044,1814.6641,1034,1704.6641,1044,1595.6641" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.8623" x="1046" y="1611.731">INSERT INTO</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1132.9946" y="1611.731">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="671.0298" x="1046" y="1626.8638">SELECT tt.transferId, &apos;EXPIRED_PREPARED&apos; AS transferStateId, &apos;Aborted by Timeout Handler&apos; AS reason</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.959" x="1046" y="1641.9966">FROM</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119.3613" x="1088.0913" y="1641.9966">transferTimeout</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="10.1943" x="1211.585" y="1641.9966">tt</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.8291" x="1046" y="1657.1294">JOIN (</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="470.7295" x="1086.9614" y="1657.1294">-- Following subquery is reused 3 times and may be optimized if needed</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="557.2798" x="1070.7939" y="1672.2622">SELECT tsc1.transferId, MAX(tsc1.transferStateChangeId) maxTransferStateChangeId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.959" x="1070.7939" y="1687.395">FROM</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1112.8853" y="1687.395">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.2886" x="1270.6182" y="1687.395">tsc1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.625" x="1070.7939" y="1702.5278">JOIN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119.3613" x="1102.5513" y="1702.5278">transferTimeout</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.4653" x="1226.0449" y="1702.5278">tt1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.1167" x="1070.7939" y="1717.6606">ON tt1.transferId = tsc1.transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.7383" x="1070.7939" y="1732.7935">GROUP BY tsc1.transferId) ts</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.4272" x="1046" y="1747.9263">ON ts.transferId = tt.transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.625" x="1046" y="1763.0591">JOIN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1077.7573" y="1763.0591">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.0176" x="1235.4902" y="1763.0591">tsc</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408.7827" x="1046" y="1778.1919">ON tsc.transferStateChangeId = ts.maxTransferStateChangeId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="345.4902" x="1046" y="1793.3247">WHERE tt.expirationDate &lt; {transactionTimestamp}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311.105" x="1046" y="1808.4575">AND tsc.transferStateId = &apos;RECEIVED_PREPARE&apos;</text>
    <polygon fill="#181818" points="1364.811,1852.7891,1374.811,1856.7891,1364.811,1860.7891,1368.811,1856.7891" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="847.0239" x2="1370.811" y1="1856.7891" y2="1856.7891"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="854.0239" y="1844.1567">18</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.0117" x="876.1147" y="1836.5903">Insert transfer state EXPIRED for</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185.3896" x="876.1147" y="1851.7231">expired RESERVED transfers</text>
    <polygon fill="#FFFFE0" points="1043,1899.7891,1719,1899.7891,1729,2001.7891,1719,2103.7891,1043,2103.7891,1033,2001.7891,1043,1899.7891" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.8623" x="1045" y="1915.856">INSERT INTO</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1131.9946" y="1915.856">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="672.2358" x="1045" y="1930.9888">SELECT tt.transferId, &apos;RESERVED_TIMEOUT&apos; AS transferStateId, &apos;Expired by Timeout Handler&apos; AS reason</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.959" x="1045" y="1946.1216">FROM</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119.3613" x="1087.0913" y="1946.1216">transferTimeout</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="10.1943" x="1210.585" y="1946.1216">tt</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="594.1089" x="1045" y="1961.2544">JOIN (SELECT tsc1.transferId, MAX(tsc1.transferStateChangeId) maxTransferStateChangeId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.959" x="1069.7939" y="1976.3872">FROM</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1111.8853" y="1976.3872">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.2886" x="1269.6182" y="1976.3872">tsc1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.625" x="1069.7939" y="1991.52">JOIN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119.3613" x="1101.5513" y="1991.52">transferTimeout</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.4653" x="1225.0449" y="1991.52">tt1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.1167" x="1069.7939" y="2006.6528">ON tt1.transferId = tsc1.transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.7383" x="1069.7939" y="2021.7856">GROUP BY tsc1.transferId) ts</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.4272" x="1045" y="2036.9185">ON ts.transferId = tt.transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.625" x="1045" y="2052.0513">JOIN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1076.7573" y="2052.0513">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.0176" x="1234.4902" y="2052.0513">tsc</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408.7827" x="1045" y="2067.1841">ON tsc.transferStateChangeId = ts.maxTransferStateChangeId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="345.4902" x="1045" y="2082.3169">WHERE tt.expirationDate &lt; {transactionTimestamp}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.9136" x="1045" y="2097.4497">AND tsc.transferStateId = &apos;RESERVED&apos;</text>
    <polygon fill="#181818" points="1364.811,2126.6484,1374.811,2130.6484,1364.811,2134.6484,1368.811,2130.6484" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="847.0239" x2="1370.811" y1="2130.6484" y2="2130.6484"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="854.0239" y="2125.5825">19</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="324.8413" x="876.1147" y="2125.5825">Update segment table to be used for the next run</text>
    <polygon fill="#FFFFE0" points="1164,2173.6484,1598,2173.6484,1608,2252.6484,1598,2332.6484,1164,2332.6484,1154,2252.6484,1164,2173.6484" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.502" x="1166" y="2189.7153">IF @intervalMin = 0</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.998" x="1182.5293" y="2204.8481">INSERT</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.7319" x="1182.5293" y="2219.981">INTO</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63.6924" x="1218.3936" y="2219.981">segment</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313.9805" x="1282.0859" y="2219.981">(segmentType, enumeration, tableName, value)</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="388.2671" x="1182.5293" y="2235.1138">VALUES (&apos;timeout&apos;, 0, &apos;transferStateChange&apos;, @intervalMax)</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.9224" x="1166" y="2250.2466">ELSE</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.4126" x="1182.5293" y="2265.3794">UPDATE</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63.6924" x="1239.0742" y="2265.3794">segment</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.6436" x="1182.5293" y="2280.5122">SET value = @intervalMax</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.0928" x="1182.5293" y="2295.645">WHERE segmentType = &apos;timeout&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.5396" x="1182.5293" y="2310.7778">AND enumeration = 0</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265.8652" x="1182.5293" y="2325.9106">AND tableName = &apos;transferStateChange&apos;</text>
    <polygon fill="#181818" points="1364.811,2362.1094,1374.811,2366.1094,1364.811,2370.1094,1368.811,2366.1094" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="847.0239" x2="1370.811" y1="2366.1094" y2="2366.1094"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="854.0239" y="2361.0435">20</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336.4702" x="876.1147" y="2361.0435">Get list of transfers to be expired with current state</text>
    <polygon fill="#FFFFE0" points="1082,2379.1094,1680,2379.1094,1690,2549.1094,1680,2719.1094,1082,2719.1094,1072,2549.1094,1082,2379.1094" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="506.7017" x="1084" y="2395.1763">SELECT tt.*, tsc.transferStateId, tp1.participantCurrencyId payerParticipantId,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="421.4209" x="1117.0586" y="2410.3091">tp2.participantCurrencyId payeeParticipantId, bta.bulkTransferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.959" x="1084" y="2425.4419">FROM</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119.3613" x="1126.0913" y="2425.4419">transferTimeout</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="10.1943" x="1249.585" y="2425.4419">tt</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="594.1089" x="1084" y="2440.5747">JOIN (SELECT tsc1.transferId, MAX(tsc1.transferStateChangeId) maxTransferStateChangeId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37.959" x="1117.0586" y="2455.7075">FROM</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1159.1499" y="2455.7075">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.2886" x="1316.8828" y="2455.7075">tsc1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.625" x="1117.0586" y="2470.8403">JOIN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119.3613" x="1148.8159" y="2470.8403">transferTimeout</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.4653" x="1272.3096" y="2470.8403">tt1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.1167" x="1117.0586" y="2485.9731">ON tt1.transferId = tsc1.transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.7383" x="1117.0586" y="2501.106">GROUP BY tsc1.transferId) ts</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.4272" x="1084" y="2516.2388">ON ts.transferId = tt.transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.625" x="1084" y="2531.3716">JOIN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1115.7573" y="2531.3716">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.0176" x="1273.4902" y="2531.3716">tsc</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408.7827" x="1084" y="2546.5044">ON tsc.transferStateChangeId = ts.maxTransferStateChangeId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.625" x="1084" y="2561.6372">JOIN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="140.3657" x="1115.7573" y="2561.6372">transferParticipant</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6201" x="1260.2554" y="2561.6372">tp1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.1772" x="1084" y="2576.77">ON tp1.transferId = tt.transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="370.2905" x="1084" y="2591.9028">AND tp1.transferParticipantRoleTypeId = {PAYER_DFSP}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330.1226" x="1084" y="2607.0356">AND tp1.ledgerEntryTypeId = {PRINCIPLE_VALUE}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.625" x="1084" y="2622.1685">JOIN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="140.3657" x="1115.7573" y="2622.1685">transferParticipant</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6201" x="1260.2554" y="2622.1685">tp2</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.1772" x="1084" y="2637.3013">ON tp2.transferId = tt.transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369.4717" x="1084" y="2652.4341">AND tp2.transferParticipantRoleTypeId = {PAYEE_DFSP}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330.1226" x="1084" y="2667.5669">AND tp2.ledgerEntryTypeId = {PRINCIPLE_VALUE}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.6323" x="1084" y="2682.6997">LEFT JOIN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="177.8486" x="1150.7646" y="2682.6997">bulkTransferAssociation</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.3154" x="1332.7456" y="2682.6997">bta</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.8726" x="1084" y="2697.8325">ON bta.transferId = tt.transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="345.4902" x="1084" y="2712.9653">WHERE tt.expirationDate &lt; {transactionTimestamp}</text>
    <polygon fill="#181818" points="858.0239,2742.1641,848.0239,2746.1641,858.0239,2750.1641,854.0239,2746.1641" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="852.0239" x2="1380.811" y1="2746.1641" y2="2746.1641"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="864.0239" y="2741.0981">21</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43.9512" x="886.1147" y="2741.0981">Return</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="146.0532" x="934.1982" y="2741.0981">transferTimeoutList</text>
    <polygon fill="#181818" points="129.2109,2771.2969,119.2109,2775.2969,129.2109,2779.2969,125.2109,2775.2969" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="123.2109" x2="841.0239" y1="2775.2969" y2="2775.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="135.2109" y="2770.231">22</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43.9512" x="157.3018" y="2770.231">Return</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="146.0532" x="205.3853" y="2770.231">transferTimeoutList</text>
    <path d="M20,2797.2969 L96.624,2797.2969 L96.624,2804.4297 L86.624,2814.4297 L20,2814.4297 L20,2797.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="2675.6016" style="stroke:#000000;stroke-width:1.5;" width="793.606" x="20" y="2797.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="35" y="2810.3638">loop</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="177.8584" x="111.624" y="2809.5073">[for each transfer in the list]</text>
    <path d="M30,2846.4297 L94.4429,2846.4297 L94.4429,2853.5625 L84.4429,2863.5625 L30,2863.5625 L30,2846.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="2619.4688" style="stroke:#000000;stroke-width:1.5;" width="773.606" x="30" y="2846.4297"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="45" y="2859.4966">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="405.5928" x="109.4429" y="2858.6401">[transferTimeoutList.bulkTransferId == NULL (Regular Transfer)]</text>
    <path d="M40,2870.5625 L104.4429,2870.5625 L104.4429,2877.6953 L94.4429,2887.6953 L40,2887.6953 L40,2870.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="1431.0938" style="stroke:#000000;stroke-width:1.5;" width="507.5874" x="40" y="2870.5625"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="55" y="2883.6294">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="261.2554" x="119.4429" y="2882.7729">[transferStateId == &apos;RECEIVED_PREPARE&apos;]</text>
    <path d="M123,2892.6953 L123,3522.6953 L537,3522.6953 L537,2902.6953 L527,2892.6953 L123,2892.6953 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M527,2892.6953 L527,2902.6953 L537,2902.6953 L527,2892.6953 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.3564" x="129" y="2909.7622">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="129" y="2924.895">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.7192" x="145.5293" y="2940.0278">id: &lt;transferId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.4819" x="145.5293" y="2955.1606">from: &lt;payerParticipantId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.6475" x="145.5293" y="2970.2935">to: &lt;payeeParticipantId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.3521" x="145.5293" y="2985.4263">type: application/json,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5552" x="145.5293" y="3000.5591">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3545" x="162.0586" y="3015.6919">headers: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.3516" x="178.5879" y="3030.8247">Content-Length: &lt;Content-Length&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.9834" x="178.5879" y="3045.9575">Content-Type: &lt;Content-Type&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5732" x="178.5879" y="3061.0903">Date: &lt;Date&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.999" x="178.5879" y="3076.2231">X-Forwarded-For: &lt;X-Forwarded-For&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.6309" x="178.5879" y="3091.356">FSPIOP-Source: &lt;FSPIOP-Source&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283.9561" x="178.5879" y="3106.4888">FSPIOP-Destination: &lt;FSPIOP-Destination&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274.3457" x="178.5879" y="3121.6216">FSPIOP-Encryption: &lt;FSPIOP-Encryption&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.7617" x="178.5879" y="3136.7544">FSPIOP-Signature: &lt;FSPIOP-Signature&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.5244" x="178.5879" y="3151.8872">FSPIOP-URI: &lt;FSPIOP-URI&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.5161" x="178.5879" y="3167.02">FSPIOP-HTTP-Method: &lt;FSPIOP-HTTP-Method&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="162.0586" y="3182.1528">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.4785" x="162.0586" y="3197.2856">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.208" x="178.5879" y="3212.4185">&quot;errorInformation&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.9541" x="195.1172" y="3227.5513">&quot;errorCode&quot;: 3303,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.0532" x="195.1172" y="3242.6841">&quot;errorDescription&quot;: &quot;Transfer expired&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.3613" x="195.1172" y="3257.8169">&quot;extensionList&quot;: &lt;transferMessage.extensionList&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="178.5879" y="3272.9497">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="162.0586" y="3288.0825">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="145.5293" y="3303.2153">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.79" x="145.5293" y="3318.3481">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="162.0586" y="3333.481">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6357" x="178.5879" y="3348.6138">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.791" x="178.5879" y="3363.7466">type: notification,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.0552" x="178.5879" y="3378.8794">action: timeout-received,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="178.5879" y="3394.0122">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.7148" x="178.5879" y="3409.145">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.7236" x="195.1172" y="3424.2778">status: &apos;error&apos;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.5132" x="195.1172" y="3439.4106">code: &lt;errorInformation.errorCode&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.2012" x="195.1172" y="3454.5435">description: &lt;errorInformation.errorDescription&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="178.5879" y="3469.6763">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="162.0586" y="3484.8091">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="145.5293" y="3499.9419">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="129" y="3515.0747">}</text>
    <polygon fill="#181818" points="472.2227,3545.2734,482.2227,3549.2734,472.2227,3553.2734,476.2227,3549.2734" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="118.2109" x2="478.2227" y1="3549.2734" y2="3549.2734"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="125.2109" y="3544.2075">23</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.4482" x="147.3018" y="3544.2075">Publish Notification event</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40" x2="547.5874" y1="3588.2734" y2="3588.2734"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="203.3765" x="45" y="3598.4839">[transferStateId == &apos;RESERVED&apos;]</text>
    <path d="M123,3607.0781 L123,4237.0781 L537,4237.0781 L537,3617.0781 L527,3607.0781 L123,3607.0781 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M527,3607.0781 L527,3617.0781 L537,3617.0781 L527,3607.0781 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.3564" x="129" y="3624.145">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="129" y="3639.2778">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.7192" x="145.5293" y="3654.4106">id: &lt;transferId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.4819" x="145.5293" y="3669.5435">from: &lt;payerParticipantId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.6475" x="145.5293" y="3684.6763">to: &lt;payeeParticipantId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.3521" x="145.5293" y="3699.8091">type: application/json,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5552" x="145.5293" y="3714.9419">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3545" x="162.0586" y="3730.0747">headers: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.3516" x="178.5879" y="3745.2075">Content-Length: &lt;Content-Length&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.9834" x="178.5879" y="3760.3403">Content-Type: &lt;Content-Type&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5732" x="178.5879" y="3775.4731">Date: &lt;Date&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.999" x="178.5879" y="3790.606">X-Forwarded-For: &lt;X-Forwarded-For&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.6309" x="178.5879" y="3805.7388">FSPIOP-Source: &lt;FSPIOP-Source&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283.9561" x="178.5879" y="3820.8716">FSPIOP-Destination: &lt;FSPIOP-Destination&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274.3457" x="178.5879" y="3836.0044">FSPIOP-Encryption: &lt;FSPIOP-Encryption&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.7617" x="178.5879" y="3851.1372">FSPIOP-Signature: &lt;FSPIOP-Signature&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.5244" x="178.5879" y="3866.27">FSPIOP-URI: &lt;FSPIOP-URI&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.5161" x="178.5879" y="3881.4028">FSPIOP-HTTP-Method: &lt;FSPIOP-HTTP-Method&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="162.0586" y="3896.5356">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.4785" x="162.0586" y="3911.6685">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.208" x="178.5879" y="3926.8013">&quot;errorInformation&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.9541" x="195.1172" y="3941.9341">&quot;errorCode&quot;: 3303,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.0532" x="195.1172" y="3957.0669">&quot;errorDescription&quot;: &quot;Transfer expired&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.3613" x="195.1172" y="3972.1997">&quot;extensionList&quot;: &lt;transferMessage.extensionList&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="178.5879" y="3987.3325">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="162.0586" y="4002.4653">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="145.5293" y="4017.5981">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.79" x="145.5293" y="4032.731">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="162.0586" y="4047.8638">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6357" x="178.5879" y="4062.9966">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.1772" x="178.5879" y="4078.1294">type: position,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.4136" x="178.5879" y="4093.2622">action: timeout-reserved,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="178.5879" y="4108.395">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.7148" x="178.5879" y="4123.5278">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.7236" x="195.1172" y="4138.6606">status: &apos;error&apos;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.5132" x="195.1172" y="4153.7935">code: &lt;errorInformation.errorCode&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.2012" x="195.1172" y="4168.9263">description: &lt;errorInformation.errorDescription&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="178.5879" y="4184.0591">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="162.0586" y="4199.1919">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="145.5293" y="4214.3247">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="129" y="4229.4575">}</text>
    <polygon fill="#181818" points="346.9609,4259.6563,356.9609,4263.6563,346.9609,4267.6563,350.9609,4263.6563" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="118.2109" x2="352.9609" y1="4263.6563" y2="4263.6563"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="125.2109" y="4258.5903">24</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.6592" x="147.3018" y="4258.5903">Route &amp; Publish Position event</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="30" x2="803.606" y1="4309.6563" y2="4309.6563"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="203.1348" x="35" y="4319.8667">[Individual Transfer from a Bulk]</text>
    <path d="M40,4330.4609 L104.4429,4330.4609 L104.4429,4337.5938 L94.4429,4347.5938 L40,4347.5938 L40,4330.4609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="1128.4375" style="stroke:#000000;stroke-width:1.5;" width="753.606" x="40" y="4330.4609"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="55" y="4343.5278">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="261.2554" x="119.4429" y="4342.6714">[transferStateId == &apos;RECEIVED_PREPARE&apos;]</text>
    <path d="M123,4352.5938 L123,4831.5938 L537,4831.5938 L537,4362.5938 L527,4352.5938 L123,4352.5938 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M527,4352.5938 L527,4362.5938 L537,4362.5938 L527,4352.5938 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.3564" x="129" y="4369.6606">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="129" y="4384.7935">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="129" y="4399.9263">    </text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11.8638" x="145.5293" y="4399.9263">id</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.0317" x="157.3931" y="4399.9263">: &lt;transferTimeoutList.bulkTransferId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="129" y="4415.0591">    </text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.4258" x="145.5293" y="4415.0591">transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.5566" x="208.9551" y="4415.0591">: &lt;transferTimeoutList.transferId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.4819" x="145.5293" y="4430.1919">from: &lt;payerParticipantId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.6475" x="145.5293" y="4445.3247">to: &lt;payeeParticipantId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.3521" x="145.5293" y="4460.4575">type: application/json,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5552" x="145.5293" y="4475.5903">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.9233" x="162.0586" y="4490.7231">headers: &lt;bulkTransferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.4785" x="162.0586" y="4505.856">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.208" x="178.5879" y="4520.9888">&quot;errorInformation&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.9541" x="195.1172" y="4536.1216">&quot;errorCode&quot;: 3303,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.0532" x="195.1172" y="4551.2544">&quot;errorDescription&quot;: &quot;Transfer expired&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.3613" x="195.1172" y="4566.3872">&quot;extensionList&quot;: &lt;transferMessage.extensionList&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="178.5879" y="4581.52">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="162.0586" y="4596.6528">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="145.5293" y="4611.7856">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.79" x="145.5293" y="4626.9185">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="162.0586" y="4642.0513">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6357" x="178.5879" y="4657.1841">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.3521" x="178.5879" y="4672.3169">type: bulk-processing,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.3774" x="178.5879" y="4687.4497">action: bulk-timeout-received,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="178.5879" y="4702.5825">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.7148" x="178.5879" y="4717.7153">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.7236" x="195.1172" y="4732.8481">status: &apos;error&apos;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.5132" x="195.1172" y="4747.981">code: &lt;errorInformation.errorCode&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.2012" x="195.1172" y="4763.1138">description: &lt;errorInformation.errorDescription&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="178.5879" y="4778.2466">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="162.0586" y="4793.3794">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="145.5293" y="4808.5122">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="129" y="4823.645">}</text>
    <polygon fill="#181818" points="702.3237,4853.8438,712.3237,4857.8438,702.3237,4861.8438,706.3237,4857.8438" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="118.2109" x2="708.3237" y1="4857.8438" y2="4857.8438"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="125.2109" y="4852.7778">25</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206.4385" x="147.3018" y="4852.7778">Publish to Bulk Processing topic</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40" x2="793.606" y1="4896.8438" y2="4896.8438"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="203.3765" x="45" y="4907.0542">[transferStateId == &apos;RESERVED&apos;]</text>
    <path d="M123,4915.6484 L123,5394.6484 L537,5394.6484 L537,4925.6484 L527,4915.6484 L123,4915.6484 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M527,4915.6484 L527,4925.6484 L537,4925.6484 L527,4915.6484 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.3564" x="129" y="4932.7153">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="129" y="4947.8481">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="129" y="4962.981">    </text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11.8638" x="145.5293" y="4962.981">id</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.0317" x="157.3931" y="4962.981">: &lt;transferTimeoutList.bulkTransferId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="129" y="4978.1138">    </text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.4258" x="145.5293" y="4978.1138">transferId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.5566" x="208.9551" y="4978.1138">: &lt;transferTimeoutList.transferId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.4819" x="145.5293" y="4993.2466">from: &lt;payerParticipantId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.6475" x="145.5293" y="5008.3794">to: &lt;payeeParticipantId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.3521" x="145.5293" y="5023.5122">type: application/json,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5552" x="145.5293" y="5038.645">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.0557" x="162.0586" y="5053.7778">headers: &lt;bulkTransferHeaders&gt;,,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.4785" x="162.0586" y="5068.9106">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.208" x="178.5879" y="5084.0435">&quot;errorInformation&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.9541" x="195.1172" y="5099.1763">&quot;errorCode&quot;: 3303,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.0532" x="195.1172" y="5114.3091">&quot;errorDescription&quot;: &quot;Transfer expired&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.3613" x="195.1172" y="5129.4419">&quot;extensionList&quot;: &lt;transferMessage.extensionList&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="178.5879" y="5144.5747">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="162.0586" y="5159.7075">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="145.5293" y="5174.8403">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.79" x="145.5293" y="5189.9731">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="162.0586" y="5205.106">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6357" x="178.5879" y="5220.2388">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.1772" x="178.5879" y="5235.3716">type: position,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.7358" x="178.5879" y="5250.5044">action: bulk-timeout-reserved,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="178.5879" y="5265.6372">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.7148" x="178.5879" y="5280.77">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.7236" x="195.1172" y="5295.9028">status: &apos;error&apos;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.5132" x="195.1172" y="5311.0356">code: &lt;errorInformation.errorCode&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.2012" x="195.1172" y="5326.1685">description: &lt;errorInformation.errorDescription&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="178.5879" y="5341.3013">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="162.0586" y="5356.4341">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="145.5293" y="5371.5669">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="129" y="5386.6997">}</text>
    <polygon fill="#181818" points="346.9609,5416.8984,356.9609,5420.8984,346.9609,5424.8984,350.9609,5420.8984" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="118.2109" x2="352.9609" y1="5420.8984" y2="5420.8984"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="125.2109" y="5415.8325">26</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.6592" x="147.3018" y="5415.8325">Route &amp; Publish Position event</text>
  </g>
</svg>
