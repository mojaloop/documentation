<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1905px" preserveAspectRatio="none" style="width:2135px;height:1905px;background:#FFFFFF;" version="1.1" viewBox="0 0 2135 1905" width="2135px" zoomAndPan="magnify">
  <title>1.1.0. DFSP1 sends a Prepare Transfer request to DFSP2</title>
  <defs/>
  <g>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="448.7451" x="844.6826" y="27.9951">1.1.0. DFSP1 sends a Prepare Transfer request to DFSP2</text>
    <rect fill="#D3D3D3" height="1856.2266" style="stroke:#181818;stroke-width:0.5;" width="205.1768" x="1" y="43.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="199.1768" x="4" y="55.3638">Financial Service Providers</text>
    <rect fill="#ADD8E6" height="1856.2266" style="stroke:#181818;stroke-width:0.5;" width="592.7144" x="304.2192" y="43.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="172.1548" x="514.499" y="55.3638">ML API Adapter Service</text>
    <rect fill="#FFFFE0" height="1856.2266" style="stroke:#181818;stroke-width:0.5;" width="1224.1768" x="898.9336" y="43.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112.0361" x="1455.0039" y="55.3638">Central Service</text>
    <rect fill="#FFFFFF" height="585.1172" style="stroke:#181818;stroke-width:1.0;" width="10" x="359.5771" y="744.8047"/>
    <rect fill="#FFFFFF" height="1628.9063" style="stroke:#181818;stroke-width:1.0;" width="10" x="767.2393" y="165.0234"/>
    <rect fill="#FFFFFF" height="86.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1134.2051" y="1214.3906"/>
    <rect fill="#FFFFFF" height="1628.9063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1518.8696" y="165.0234"/>
    <rect fill="#FFFFFF" height="1628.9063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1877.2031" y="165.0234"/>
    <rect fill="none" height="1614.9063" style="stroke:#000000;stroke-width:1.5;" width="2091.5913" x="37.519" y="172.0234"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="72.519" x2="72.519" y1="155.0234" y2="1803.9297"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="133.5884" x2="133.5884" y1="155.0234" y2="1803.9297"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="364.2192" x2="364.2192" y1="155.0234" y2="1803.9297"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="771.5449" x2="771.5449" y1="155.0234" y2="1803.9297"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="971.9336" x2="971.9336" y1="155.0234" y2="1803.9297"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1138.6992" x2="1138.6992" y1="155.0234" y2="1803.9297"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1523.4805" x2="1523.4805" y1="155.0234" y2="1803.9297"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1702.2588" x2="1702.2588" y1="155.0234" y2="1803.9297"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1881.6328" x2="1881.6328" y1="155.0234" y2="1803.9297"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2048.1387" x2="2048.1387" y1="155.0234" y2="1803.9297"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.0693" x="47.519" y="135.4248">DFSP1</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.6758" x="50.2158" y="151.7217">Payer</text>
    <ellipse cx="73.0537" cy="70.9297" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M73.0537,78.9297 L73.0537,105.9297 M60.0537,86.9297 L86.0537,86.9297 M73.0537,105.9297 L60.0537,120.9297 M73.0537,105.9297 L86.0537,120.9297 " fill="none" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.0693" x="47.519" y="1815.9248">DFSP1</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.6758" x="50.2158" y="1832.2217">Payer</text>
    <ellipse cx="73.0537" cy="1844.0234" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M73.0537,1852.0234 L73.0537,1879.0234 M60.0537,1860.0234 L86.0537,1860.0234 M73.0537,1879.0234 L60.0537,1894.0234 M73.0537,1879.0234 L86.0537,1894.0234 " fill="none" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.0693" x="108.5884" y="135.4248">DFSP2</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.5332" x="109.8564" y="151.7217">Payee</text>
    <ellipse cx="134.123" cy="70.9297" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M134.123,78.9297 L134.123,105.9297 M121.123,86.9297 L147.123,86.9297 M134.123,105.9297 L121.123,120.9297 M134.123,105.9297 L147.123,120.9297 " fill="none" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.0693" x="108.5884" y="1815.9248">DFSP2</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.5332" x="109.8564" y="1832.2217">Payee</text>
    <ellipse cx="134.123" cy="1844.0234" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M134.123,1852.0234 L134.123,1879.0234 M121.123,1860.0234 L147.123,1860.0234 M134.123,1879.0234 L121.123,1894.0234 M134.123,1879.0234 L147.123,1894.0234 " fill="none" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.7158" x="308.2192" y="151.7217">ML API Adapter</text>
    <path d="M344.0771,110.7266 L344.0771,134.7266 M344.0771,122.7266 L361.0771,122.7266 " fill="none" style="stroke:#181818;stroke-width:0.5;"/>
    <ellipse cx="373.0771" cy="122.7266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.7158" x="308.2192" y="1815.9248">ML API Adapter</text>
    <path d="M344.0771,1823.2266 L344.0771,1847.2266 M344.0771,1835.2266 L361.0771,1835.2266 " fill="none" style="stroke:#181818;stroke-width:0.5;"/>
    <ellipse cx="373.0771" cy="1835.2266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235.3887" x="651.5449" y="151.7217">ML API Notification Event Handler</text>
    <ellipse cx="772.2393" cy="122.7266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <polygon fill="#181818" points="768.2393,110.7266,774.2393,105.7266,772.2393,110.7266,774.2393,115.7266,768.2393,110.7266" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235.3887" x="651.5449" y="1815.9248">ML API Notification Event Handler</text>
    <ellipse cx="772.2393" cy="1835.2266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <polygon fill="#181818" points="768.2393,1823.2266,774.2393,1818.2266,772.2393,1823.2266,774.2393,1828.2266,768.2393,1823.2266" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.7656" x="902.9336" y="151.7217">Central Service API</text>
    <path d="M952.3164,110.7266 L952.3164,134.7266 M952.3164,122.7266 L969.3164,122.7266 " fill="none" style="stroke:#181818;stroke-width:0.5;"/>
    <ellipse cx="981.3164" cy="122.7266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.7656" x="902.9336" y="1815.9248">Central Service API</text>
    <path d="M952.3164,1823.2266 L952.3164,1847.2266 M952.3164,1835.2266 L969.3164,1835.2266 " fill="none" style="stroke:#181818;stroke-width:0.5;"/>
    <ellipse cx="981.3164" cy="1835.2266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="169.0117" x="1056.6992" y="119.7266"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="169.0117" x="1052.6992" y="123.7266"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.0117" x="1059.6992" y="143.7217">topic-transfer-prepare</text>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="169.0117" x="1056.6992" y="1802.9297"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="169.0117" x="1052.6992" y="1806.9297"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.0117" x="1059.6992" y="1826.9248">topic-transfer-prepare</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.7783" x="1441.4805" y="151.7217">Prepare Event Handler</text>
    <ellipse cx="1523.8696" cy="122.7266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <polygon fill="#181818" points="1519.8696,110.7266,1525.8696,105.7266,1523.8696,110.7266,1525.8696,115.7266,1519.8696,110.7266" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.7783" x="1441.4805" y="1815.9248">Prepare Event Handler</text>
    <ellipse cx="1523.8696" cy="1835.2266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <polygon fill="#181818" points="1519.8696,1823.2266,1525.8696,1818.2266,1523.8696,1823.2266,1525.8696,1828.2266,1519.8696,1823.2266" style="stroke:#181818;stroke-width:1.0;"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="169.374" x="1620.2588" y="119.7266"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="169.374" x="1616.2588" y="123.7266"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.374" x="1623.2588" y="143.7217">topic-transfer-position</text>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="169.374" x="1620.2588" y="1802.9297"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="169.374" x="1616.2588" y="1806.9297"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.374" x="1623.2588" y="1826.9248">topic-transfer-position</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.1406" x="1799.6328" y="151.7217">Position Event Handler</text>
    <ellipse cx="1882.2031" cy="122.7266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <polygon fill="#181818" points="1878.2031,110.7266,1884.2031,105.7266,1882.2031,110.7266,1884.2031,115.7266,1878.2031,110.7266" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.1406" x="1799.6328" y="1815.9248">Position Event Handler</text>
    <ellipse cx="1882.2031" cy="1835.2266" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <polygon fill="#181818" points="1878.2031,1823.2266,1884.2031,1818.2266,1882.2031,1823.2266,1884.2031,1828.2266,1878.2031,1823.2266" style="stroke:#181818;stroke-width:1.0;"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="136.9717" x="1982.1387" y="119.7266"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="136.9717" x="1978.1387" y="123.7266"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.9717" x="1985.1387" y="143.7217">Notification-Topic</text>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="136.9717" x="1982.1387" y="1802.9297"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="136.9717" x="1978.1387" y="1806.9297"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.9717" x="1985.1387" y="1826.9248">Notification-Topic</text>
    <rect fill="#FFFFFF" height="585.1172" style="stroke:#181818;stroke-width:1.0;" width="10" x="359.5771" y="744.8047"/>
    <rect fill="#FFFFFF" height="1628.9063" style="stroke:#181818;stroke-width:1.0;" width="10" x="767.2393" y="165.0234"/>
    <rect fill="#FFFFFF" height="86.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1134.2051" y="1214.3906"/>
    <rect fill="#FFFFFF" height="1628.9063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1518.8696" y="165.0234"/>
    <rect fill="#FFFFFF" height="1628.9063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1877.2031" y="165.0234"/>
    <path d="M37.519,172.0234 L452.7334,172.0234 L452.7334,179.1563 L442.7334,189.1563 L37.519,189.1563 L37.519,172.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="1614.9063" style="stroke:#000000;stroke-width:1.5;" width="2091.5913" x="37.519" y="172.0234"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="370.2144" x="52.519" y="185.0903">DFSP1 sends a Prepare Transfer request to DFSP2</text>
    <path d="M78,194.1563 L78,718.1563 L420,718.1563 L420,204.1563 L410,194.1563 L78,194.1563 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M410,194.1563 L410,204.1563 L420,204.1563 L410,194.1563 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.2935" x="84" y="211.2231">Headers - transferHeaders: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.3516" x="100.5293" y="226.356">Content-Length: &lt;Content-Length&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.9834" x="100.5293" y="241.4888">Content-Type: &lt;Content-Type&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5732" x="100.5293" y="256.6216">Date: &lt;Date&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.999" x="100.5293" y="271.7544">X-Forwarded-For: &lt;X-Forwarded-For&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.6309" x="100.5293" y="286.8872">FSPIOP-Source: &lt;FSPIOP-Source&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283.9561" x="100.5293" y="302.02">FSPIOP-Destination: &lt;FSPIOP-Destination&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274.3457" x="100.5293" y="317.1528">FSPIOP-Encryption: &lt;FSPIOP-Encryption&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.7617" x="100.5293" y="332.2856">FSPIOP-Signature: &lt;FSPIOP-Signature&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.5244" x="100.5293" y="347.4185">FSPIOP-URI: &lt;FSPIOP-URI&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.5161" x="100.5293" y="362.5513">FSPIOP-HTTP-Method: &lt;FSPIOP-HTTP-Method&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="84" y="377.6841">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="84" y="392.8169"> </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.9346" x="84" y="407.9497">Payload - transferMessage:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="84" y="423.0825">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.1567" x="100.5293" y="438.2153">&quot;transferId&quot;: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.1382" x="100.5293" y="453.3481">&quot;payeeFsp&quot;: dfsp2,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.4849" x="100.5293" y="468.481">&quot;payerFsp&quot;: dfsp1,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.9014" x="100.5293" y="483.6138">&quot;amount&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.834" x="117.0586" y="498.7466">&quot;currency&quot;: &quot;AED&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.9072" x="117.0586" y="513.8794">&quot;amount&quot;: &quot;string&quot;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="100.5293" y="529.0122">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.9326" x="100.5293" y="544.145">&quot;ilpPacket&quot;: &quot;string&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.9863" x="100.5293" y="559.2778">&quot;condition&quot;: &quot;string&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.6484" x="100.5293" y="574.4106">&quot;expiration&quot;: &quot;string&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.0703" x="100.5293" y="589.5435">&quot;extensionList&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.1465" x="117.0586" y="604.6763">&quot;extension&quot;: [</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="133.5879" y="619.8091">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.1001" x="150.1172" y="634.9419">&quot;key&quot;: &quot;string&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.2568" x="150.1172" y="650.0747">&quot;value&quot;: &quot;string&quot;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="133.5879" y="665.2075">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5.0718" x="117.0586" y="680.3403">]</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="100.5293" y="695.4731">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="84" y="710.606">}</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="357.5771" x2="347.5771" y1="744.8047" y2="740.8047"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="357.5771" x2="347.5771" y1="744.8047" y2="748.8047"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="73.0537" x2="358.5771" y1="744.8047" y2="744.8047"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="80.0537" y="739.7388">1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.7129" x="93.0991" y="739.7388">POST - /transfers</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="369.5771" x2="411.5771" y1="789.0703" y2="789.0703"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="411.5771" x2="411.5771" y1="789.0703" y2="802.0703"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="370.5771" x2="411.5771" y1="802.0703" y2="802.0703"/>
    <polygon fill="#181818" points="380.5771,798.0703,370.5771,802.0703,380.5771,806.0703,376.5771,802.0703" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="376.5771" y="776.438">2</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="360.6167" x="389.6226" y="768.8716">Validate incoming token and originator matching Payer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89.2671" x="389.6226" y="784.0044">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.9824" x="483.022" y="784.0044">3000-3002, 3100-3107</text>
    <path d="M374,815.0703 L374,1173.0703 L648,1173.0703 L648,825.0703 L638,815.0703 L374,815.0703 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M638,815.0703 L638,825.0703 L648,825.0703 L638,815.0703 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.3564" x="380" y="832.1372">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="380" y="847.27">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.0356" x="396.5293" y="862.4028">id: &lt;transferMessage.transferId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.1738" x="396.5293" y="877.5356">from: &lt;transferMessage.payerFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.3394" x="396.5293" y="892.6685">to: &lt;transferMessage.payeeFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.2197" x="396.5293" y="907.8013">type: application/json</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5552" x="396.5293" y="922.9341">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.4482" x="413.0586" y="938.0669">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.3091" x="413.0586" y="953.1997">payload: &lt;transferMessage&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="396.5293" y="968.3325">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.79" x="396.5293" y="983.4653">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="413.0586" y="998.5981">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6357" x="429.5879" y="1013.731">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.8408" x="429.5879" y="1028.8638">type: prepare,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.8159" x="429.5879" y="1043.9966">action: prepare,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="429.5879" y="1059.1294">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.7148" x="429.5879" y="1074.2622">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.4004" x="446.1172" y="1089.395">status: &quot;success&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.1343" x="446.1172" y="1104.5278">code: 0</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="429.5879" y="1119.6606">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="413.0586" y="1134.7935">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="396.5293" y="1149.9263">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="380" y="1165.0591">}</text>
    <polygon fill="#181818" points="1122.2051,1210.3906,1132.2051,1214.3906,1122.2051,1218.3906,1126.2051,1214.3906" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="369.5771" x2="1128.2051" y1="1214.3906" y2="1214.3906"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="376.5771" y="1201.7583">3</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.3042" x="389.6226" y="1194.1919">Route &amp; Publish Prepare event for Payer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="389.6226" y="1209.3247">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="475.2842" y="1209.3247">2003</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1144.2051" x2="1186.2051" y1="1258.6563" y2="1258.6563"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1186.2051" x2="1186.2051" y1="1258.6563" y2="1271.6563"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1145.2051" x2="1186.2051" y1="1271.6563" y2="1271.6563"/>
    <polygon fill="#181818" points="1154.2051,1254.6563,1144.2051,1258.6563,1154.2051,1262.6563,1150.2051,1258.6563" style="stroke:#181818;stroke-width:1.0;"/>
    <polygon fill="#181818" points="1155.2051,1267.6563,1145.2051,1271.6563,1155.2051,1275.6563,1151.2051,1271.6563" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1151.2051" y="1246.0239">4</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337.6191" x="1164.2505" y="1238.4575">Ensure event is replicated as configured (ACKS=all)</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="1164.2505" y="1253.5903">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="1249.9121" y="1253.5903">2003</text>
    <polygon fill="#181818" points="380.5771,1296.7891,370.5771,1300.7891,380.5771,1304.7891,376.5771,1300.7891" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="374.5771" x2="1138.2051" y1="1300.7891" y2="1300.7891"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="386.5771" y="1295.7231">5</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="392.7739" x="399.6226" y="1295.7231">Respond replication acknowledgements have been received</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="74.0537" x2="84.0537" y1="1329.9219" y2="1325.9219"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="74.0537" x2="84.0537" y1="1329.9219" y2="1333.9219"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="73.0537" x2="363.5771" y1="1329.9219" y2="1329.9219"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="90.0537" y="1324.856">6</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206.959" x="103.0991" y="1324.856">Respond HTTP - 202 (Accepted)</text>
    <polygon fill="#181818" points="1150.2051,1380.0547,1140.2051,1384.0547,1150.2051,1388.0547,1146.2051,1384.0547" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1144.2051" x2="1517.8696" y1="1384.0547" y2="1384.0547"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1156.2051" y="1378.9888">7</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.5" x="1169.2505" y="1378.9888">Consume message</text>
    <rect fill="none" height="53.0703" style="stroke:#000000;stroke-width:1.5;" width="742.9336" x="1049.6992" y="1392.0547"/>
    <path d="M1049.6992,1392.0547 L1114.6992,1392.0547 L1114.6992,1399.0547 L1104.6992,1409.0547 L1049.6992,1409.0547 L1049.6992,1392.0547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.8838" x="1062.6992" y="1406.1216">ref</text>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="157.9746" x="1342.1787" y="1424.1934">Prepare Handler Consume</text>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="3.8145" x="1419.2588" y="1438.1621"> </text>
    <polygon fill="#181818" points="1690.9458,1467.2578,1700.9458,1471.2578,1690.9458,1475.2578,1694.9458,1471.2578" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1528.8696" x2="1696.9458" y1="1471.2578" y2="1471.2578"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1535.8696" y="1466.1919">8</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.3306" x="1548.915" y="1466.1919">Produce message</text>
    <polygon fill="#181818" points="1713.9458,1521.3906,1703.9458,1525.3906,1713.9458,1529.3906,1709.9458,1525.3906" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1707.9458" x2="1876.2031" y1="1525.3906" y2="1525.3906"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1719.9458" y="1520.3247">9</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.5" x="1732.9912" y="1520.3247">Consume message</text>
    <rect fill="none" height="53.0703" style="stroke:#000000;stroke-width:1.5;" width="354.5146" x="1613.2588" y="1533.3906"/>
    <path d="M1613.2588,1533.3906 L1678.2588,1533.3906 L1678.2588,1540.3906 L1668.2588,1550.3906 L1613.2588,1550.3906 L1613.2588,1533.3906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.8838" x="1626.2588" y="1547.4575">ref</text>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="158.2852" x="1711.3735" y="1565.5293">Position Handler Consume</text>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="3.8145" x="1788.6089" y="1579.498"> </text>
    <polygon fill="#181818" points="2036.6245,1608.5938,2046.6245,1612.5938,2036.6245,1616.5938,2040.6245,1612.5938" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1887.2031" x2="2042.6245" y1="1612.5938" y2="1612.5938"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1894.2031" y="1607.5278">10</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.3306" x="1916.2939" y="1607.5278">Produce message</text>
    <polygon fill="#181818" points="2036.6245,1662.7266,2046.6245,1666.7266,2036.6245,1670.7266,2040.6245,1666.7266" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="777.2393" x2="2042.6245" y1="1666.7266" y2="1666.7266"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="784.2393" y="1661.6606">11</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.5" x="806.3301" y="1661.6606">Consume message</text>
    <rect fill="none" height="53.0703" style="stroke:#000000;stroke-width:1.5;" width="2016.522" x="105.5884" y="1674.7266"/>
    <path d="M105.5884,1674.7266 L170.5884,1674.7266 L170.5884,1681.7266 L160.5884,1691.7266 L105.5884,1691.7266 L105.5884,1674.7266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.8838" x="118.5884" y="1688.7935">ref</text>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="235.6055" x="996.0466" y="1706.8652">Send notification to Participant (Payee)</text>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="3.8145" x="1111.9421" y="1720.834"> </text>
    <polygon fill="#181818" points="145.123,1749.9297,135.123,1753.9297,145.123,1757.9297,141.123,1753.9297" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="139.123" x2="766.2393" y1="1753.9297" y2="1753.9297"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="151.123" y="1748.8638">12</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.3433" x="173.2139" y="1748.8638">Send callback notification</text>
  </g>
</svg>
