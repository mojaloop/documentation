<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="4229px" preserveAspectRatio="none" style="width:1728px;height:4229px;background:#FFFFFF;" version="1.1" viewBox="0 0 1728 4229" width="1728px" zoomAndPan="magnify">
  <title>1.3.3. Abort Position Handler Consume</title>
  <defs/>
  <g>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="307.4258" x="711.8677" y="27.9951">1.3.3. Abort Position Handler Consume</text>
    <rect fill="#FFFFE0" height="4173.2344" style="stroke:#181818;stroke-width:0.5;" width="1458.6548" x="36" y="43.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112.0361" x="709.3093" y="55.3638">Central Service</text>
    <rect fill="#FFFFFF" height="4006.5078" style="stroke:#181818;stroke-width:1.0;" width="10" x="95.292" y="134.7266"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="835.5142" y="1562.4922"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="835.5142" y="3002.5938"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="835.5142" y="4089.2344"/>
    <rect fill="#FFFFFF" height="135.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.418" y="219.2578"/>
    <rect fill="#FFFFFF" height="514.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.418" y="522.7188"/>
    <rect fill="#FFFFFF" height="120.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.418" y="1667.8906"/>
    <rect fill="#FFFFFF" height="182.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.418" y="1956.2188"/>
    <rect fill="#FFFFFF" height="120.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.418" y="3107.9922"/>
    <rect fill="#FFFFFF" height="182.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.418" y="3381.1875"/>
    <rect fill="#FFFFFF" height="77.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="248.3906"/>
    <rect fill="#FFFFFF" height="62.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="575.9844"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="709.5156"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="816.9141"/>
    <rect fill="#FFFFFF" height="62.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="1697.0234"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="2009.4844"/>
    <rect fill="#FFFFFF" height="62.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="3137.125"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="3434.4531"/>
    <rect fill="none" height="3992.5078" style="stroke:#000000;stroke-width:1.5;" width="1712.1611" x="10" y="141.7266"/>
    <rect fill="none" height="1434.6328" style="stroke:#000000;stroke-width:1.5;" width="1692.1611" x="20" y="165.8594"/>
    <rect fill="none" height="618.0547" style="stroke:#000000;stroke-width:1.5;" width="1672.1611" x="30" y="427.1875"/>
    <rect fill="none" height="471.3906" style="stroke:#000000;stroke-width:1.5;" width="781.1611" x="911" y="537.7188"/>
    <rect fill="none" height="1426.1016" style="stroke:#000000;stroke-width:1.5;" width="1548.4375" x="20" y="1614.4922"/>
    <rect fill="none" height="286.3281" style="stroke:#000000;stroke-width:1.5;" width="1528.4375" x="30" y="1860.6875"/>
    <rect fill="none" height="139.6641" style="stroke:#000000;stroke-width:1.5;" width="637.4375" x="911" y="1971.2188"/>
    <rect fill="none" height="798.3125" style="stroke:#000000;stroke-width:1.5;" width="483.146" x="100" y="2161.0156"/>
    <rect fill="none" height="1072.6406" style="stroke:#000000;stroke-width:1.5;" width="1548.4375" x="20" y="3054.5938"/>
    <rect fill="none" height="286.3281" style="stroke:#000000;stroke-width:1.5;" width="1528.4375" x="30" y="3285.6563"/>
    <rect fill="none" height="139.6641" style="stroke:#000000;stroke-width:1.5;" width="637.4375" x="911" y="3396.1875"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="100" x2="100" y1="124.7266" y2="4151.2344"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="840.0283" x2="840.0283" y1="124.7266" y2="4151.2344"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="969" x2="969" y1="124.7266" y2="4151.2344"/>
    <line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1440.9185" x2="1440.9185" y1="124.7266" y2="4151.2344"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.584" x="40" y="121.4248">Position Handler</text>
    <ellipse cx="100.292" cy="92.4297" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <polygon fill="#181818" points="96.292,80.4297,102.292,75.4297,100.292,80.4297,102.292,85.4297,96.292,80.4297" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.584" x="40" y="4163.2295">Position Handler</text>
    <ellipse cx="100.292" cy="4182.5313" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <polygon fill="#181818" points="96.292,4170.5313,102.292,4165.5313,100.292,4170.5313,102.292,4175.5313,96.292,4170.5313" style="stroke:#181818;stroke-width:1.0;"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="136.9717" x="774.0283" y="89.4297"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="136.9717" x="770.0283" y="93.4297"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.9717" x="777.0283" y="113.4248">Notification-Topic</text>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="136.9717" x="774.0283" y="4150.2344"/>
    <rect fill="#E2E2F0" height="30.2969" style="stroke:#181818;stroke-width:0.5;" width="136.9717" x="770.0283" y="4154.2344"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.9717" x="777.0283" y="4174.2295">Notification-Topic</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.8359" x="921" y="121.4248">Position DAO</text>
    <ellipse cx="969.418" cy="92.4297" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <line style="stroke:#181818;stroke-width:0.5;" x1="957.418" x2="981.418" y1="106.4297" y2="106.4297"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.8359" x="921" y="4163.2295">Position DAO</text>
    <ellipse cx="969.418" cy="4182.5313" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/>
    <line style="stroke:#181818;stroke-width:0.5;" x1="957.418" x2="981.418" y1="4196.5313" y2="4196.5313"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.7363" x="1391.9185" y="121.4248">Central Store</text>
    <path d="M1423.2866,72.4297 C1423.2866,62.4297 1441.2866,62.4297 1441.2866,62.4297 C1441.2866,62.4297 1459.2866,62.4297 1459.2866,72.4297 L1459.2866,98.4297 C1459.2866,108.4297 1441.2866,108.4297 1441.2866,108.4297 C1441.2866,108.4297 1423.2866,108.4297 1423.2866,98.4297 L1423.2866,72.4297 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/>
    <path d="M1423.2866,72.4297 C1423.2866,82.4297 1441.2866,82.4297 1441.2866,82.4297 C1441.2866,82.4297 1459.2866,82.4297 1459.2866,72.4297 " fill="none" style="stroke:#181818;stroke-width:1.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.7363" x="1391.9185" y="4163.2295">Central Store</text>
    <path d="M1423.2866,4176.5313 C1423.2866,4166.5313 1441.2866,4166.5313 1441.2866,4166.5313 C1441.2866,4166.5313 1459.2866,4166.5313 1459.2866,4176.5313 L1459.2866,4202.5313 C1459.2866,4212.5313 1441.2866,4212.5313 1441.2866,4212.5313 C1441.2866,4212.5313 1423.2866,4212.5313 1423.2866,4202.5313 L1423.2866,4176.5313 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/>
    <path d="M1423.2866,4176.5313 C1423.2866,4186.5313 1441.2866,4186.5313 1441.2866,4186.5313 C1441.2866,4186.5313 1459.2866,4186.5313 1459.2866,4176.5313 " fill="none" style="stroke:#181818;stroke-width:1.5;"/>
    <rect fill="#FFFFFF" height="4006.5078" style="stroke:#181818;stroke-width:1.0;" width="10" x="95.292" y="134.7266"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="835.5142" y="1562.4922"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="835.5142" y="3002.5938"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="835.5142" y="4089.2344"/>
    <rect fill="#FFFFFF" height="135.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.418" y="219.2578"/>
    <rect fill="#FFFFFF" height="514.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.418" y="522.7188"/>
    <rect fill="#FFFFFF" height="120.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.418" y="1667.8906"/>
    <rect fill="#FFFFFF" height="182.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.418" y="1956.2188"/>
    <rect fill="#FFFFFF" height="120.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.418" y="3107.9922"/>
    <rect fill="#FFFFFF" height="182.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="964.418" y="3381.1875"/>
    <rect fill="#FFFFFF" height="77.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="248.3906"/>
    <rect fill="#FFFFFF" height="62.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="575.9844"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="709.5156"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="816.9141"/>
    <rect fill="#FFFFFF" height="62.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="1697.0234"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="2009.4844"/>
    <rect fill="#FFFFFF" height="62.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="3137.125"/>
    <rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1436.2866" y="3434.4531"/>
    <path d="M10,141.7266 L293.9893,141.7266 L293.9893,148.8594 L283.9893,158.8594 L10,158.8594 L10,141.7266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="3992.5078" style="stroke:#000000;stroke-width:1.5;" width="1712.1611" x="10" y="141.7266"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="238.9893" x="25" y="154.7935">Abort Position Handler Consume</text>
    <path d="M20,165.8594 L89.4512,165.8594 L89.4512,172.9922 L79.4512,182.9922 L20,182.9922 L20,165.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="1434.6328" style="stroke:#000000;stroke-width:1.5;" width="1692.1611" x="20" y="165.8594"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24.4512" x="35" y="178.9263">opt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="326.8311" x="104.4512" y="178.0698">[type == &apos;position&apos; &amp;&amp; action == &apos;timeout-reserved&apos;]</text>
    <polygon fill="#181818" points="952.418,215.2578,962.418,219.2578,952.418,223.2578,956.418,219.2578" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="958.418" y1="219.2578" y2="219.2578"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="112.292" y="206.6255">1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271.8638" x="125.3374" y="199.0591">Request current state of transfer from DB</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="125.3374" y="214.1919">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="210.999" y="214.1919">2003</text>
    <polygon fill="#181818" points="1424.2866,244.3906,1434.2866,248.3906,1424.2866,252.3906,1428.2866,248.3906" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="974.418" x2="1430.2866" y1="248.3906" y2="248.3906"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="981.418" y="243.3247">2</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273.2476" x="994.4634" y="243.3247">Retrieve current state of transfer from DB</text>
    <polygon fill="#FFFFE0" points="1371,261.3906,1510,261.3906,1520,280.3906,1510,299.3906,1371,299.3906,1361,280.3906,1371,261.3906" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.5225" x="1373" y="277.4575">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.5132" x="1373" y="292.5903">transferParticipant</text>
    <polygon fill="#181818" points="985.418,321.7891,975.418,325.7891,985.418,329.7891,981.418,325.7891" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="979.418" x2="1440.2866" y1="325.7891" y2="325.7891"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="991.418" y="320.7231">3</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.4248" x="1004.4634" y="320.7231">Return current state of transfer from DB</text>
    <polygon fill="#181818" points="116.292,350.9219,106.292,354.9219,116.292,358.9219,112.292,354.9219" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="110.292" x2="968.418" y1="354.9219" y2="354.9219"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="122.292" y="349.856">4</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.4248" x="135.3374" y="349.856">Return current state of transfer from DB</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="147.292" y1="399.1875" y2="399.1875"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="147.292" x2="147.292" y1="399.1875" y2="412.1875"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="106.292" x2="147.292" y1="412.1875" y2="412.1875"/>
    <polygon fill="#181818" points="115.292,395.1875,105.292,399.1875,115.292,403.1875,111.292,399.1875" style="stroke:#181818;stroke-width:1.0;"/>
    <polygon fill="#181818" points="116.292,408.1875,106.292,412.1875,116.292,416.1875,112.292,412.1875" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="112.292" y="386.5552">5</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="566.2236" x="125.3374" y="378.9888">Validate current state (transferStateChange.transferStateId == &apos;RESERVED_TIMEOUT&apos;)</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="125.3374" y="394.1216">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="210.999" y="394.1216">2001</text>
    <path d="M30,427.1875 L388.168,427.1875 L388.168,434.3203 L378.168,444.3203 L30,444.3203 L30,427.1875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="618.0547" style="stroke:#000000;stroke-width:1.5;" width="1672.1611" x="30" y="427.1875"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="313.168" x="45" y="440.2544">Persist Position change and Transfer state</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="147.292" y1="465.4531" y2="465.4531"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="147.292" x2="147.292" y1="465.4531" y2="478.4531"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="106.292" x2="147.292" y1="478.4531" y2="478.4531"/>
    <polygon fill="#181818" points="116.292,474.4531,106.292,478.4531,116.292,482.4531,112.292,478.4531" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="112.292" y="460.3872">6</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112.7979" x="125.3374" y="460.3872">transferStateId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.5845" x="242.2676" y="460.3872">= &apos;EXPIRED_RESERVED&apos;</text>
    <polygon fill="#181818" points="952.418,518.7188,962.418,522.7188,952.418,526.7188,956.418,522.7188" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="958.418" y1="522.7188" y2="522.7188"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="112.292" y="510.0864">7</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.7534" x="125.3374" y="502.52">Request to persist latest position and state to DB</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="125.3374" y="517.6528">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="210.999" y="517.6528">2003</text>
    <path d="M911,537.7188 L1221.897,537.7188 L1221.897,544.8516 L1211.897,554.8516 L911,554.8516 L911,537.7188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="471.3906" style="stroke:#000000;stroke-width:1.5;" width="781.1611" x="911" y="537.7188"/>
    <text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="265.897" x="926" y="550.7856">DB TRANSACTION IMPLEMENTATION</text>
    <polygon fill="#181818" points="1424.2866,571.9844,1434.2866,575.9844,1424.2866,579.9844,1428.2866,575.9844" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="974.418" x2="1430.2866" y1="575.9844" y2="575.9844"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="981.418" y="570.9185">8</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="427.5273" x="994.4634" y="570.9185">Select participantPosition.value FOR UPDATE for payerCurrencyId</text>
    <polygon fill="#FFFFE0" points="1378,588.9844,1503,588.9844,1513,599.9844,1503,611.9844,1378,611.9844,1368,599.9844,1378,588.9844" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.6655" x="1380" y="605.0513">participantPosition</text>
    <polygon fill="#181818" points="985.418,634.25,975.418,638.25,985.418,642.25,981.418,638.25" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="979.418" x2="1440.2866" y1="638.25" y2="638.25"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="991.418" y="633.1841">9</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.749" x="1004.4634" y="633.1841">Return participantPosition</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="974.418" x2="1016.418" y1="667.3828" y2="667.3828"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="1016.418" x2="1016.418" y1="667.3828" y2="680.3828"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="975.418" x2="1016.418" y1="680.3828" y2="680.3828"/>
    <polygon fill="#181818" points="984.418,663.3828,974.418,667.3828,984.418,671.3828,980.418,667.3828" style="stroke:#181818;stroke-width:1.0;"/>
    <polygon fill="#181818" points="985.418,676.3828,975.418,680.3828,985.418,684.3828,981.418,680.3828" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="981.418" y="662.3169">10</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101.7212" x="1003.5088" y="662.3169">latestPosition</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="309.9243" x="1109.3623" y="662.3169">= participantPosition - payload.amount.amount</text>
    <polygon fill="#181818" points="1424.2866,705.5156,1434.2866,709.5156,1424.2866,713.5156,1428.2866,709.5156" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="974.418" x2="1430.2866" y1="709.5156" y2="709.5156"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="981.418" y="704.4497">11</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.418" x="1003.5088" y="704.4497">Persist latestPosition to DB for Payer</text>
    <polygon fill="#FFFFE0" points="1340,752.5156,1540,752.5156,1550,771.5156,1540,790.5156,1340,790.5156,1330,771.5156,1340,752.5156" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.4126" x="1342" y="768.5825">UPDATE</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="140.3784" x="1398.5449" y="768.5825">participantPosition</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.8281" x="1342" y="783.7153">SET value = latestPosition</text>
    <polygon fill="#181818" points="1424.2866,812.9141,1434.2866,816.9141,1424.2866,820.9141,1428.2866,816.9141" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="974.418" x2="1430.2866" y1="816.9141" y2="816.9141"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="981.418" y="811.8481">12</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="343.3828" x="1003.5088" y="811.8481">Persist participant position change and state change</text>
    <polygon fill="#FFFFE0" points="1210,859.9141,1672,859.9141,1682,931.9141,1672,1003.9141,1210,1003.9141,1200,931.9141,1210,859.9141" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.998" x="1212" y="875.981">INSERT</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.6006" x="1263.1304" y="875.981">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1416.731" y="875.981"> </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.1221" x="1212" y="891.1138">VALUES (transferStateId)</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1212" y="906.2466"> </text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.998" x="1212" y="921.3794">INSERT</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="195.3237" x="1263.1304" y="921.3794">participantPositionChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="445.1294" x="1212" y="936.5122">SET participantPositionId = participantPosition.participantPositionId,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="458.1611" x="1212" y="951.645">transferStateChangeId = transferStateChange.transferStateChangeId,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.4214" x="1212" y="966.7778">value = latestPosition,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="333.1758" x="1212" y="981.9106">reservedValue = participantPosition.reservedValue</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.25" x="1212" y="997.0435">createdDate = new Date()</text>
    <polygon fill="#181818" points="116.292,1033.2422,106.292,1037.2422,116.292,1041.2422,112.292,1037.2422" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="110.292" x2="968.418" y1="1037.2422" y2="1037.2422"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="122.292" y="1032.1763">13</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.9346" x="144.3828" y="1032.1763">Return success</text>
    <path d="M110,1057.2422 L110,1520.2422 L528,1520.2422 L528,1067.2422 L518,1057.2422 L110,1057.2422 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M518,1057.2422 L518,1067.2422 L528,1067.2422 L518,1057.2422 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.7598" x="116" y="1074.3091">Message: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.0356" x="132.5293" y="1089.4419">id: &lt;transferMessage.transferId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.1738" x="132.5293" y="1104.5747">from: &lt;transferMessage.payerFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.3394" x="132.5293" y="1119.7075">to: &lt;transferMessage.payeeFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.2197" x="132.5293" y="1134.8403">type: application/json</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5552" x="132.5293" y="1149.9731">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.4482" x="149.0586" y="1165.106">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.4785" x="149.0586" y="1180.2388">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.208" x="169.7202" y="1195.3716">&quot;errorInformation&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.9541" x="186.2495" y="1210.5044">&quot;errorCode&quot;: 3300,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.0532" x="186.2495" y="1225.6372">&quot;errorDescription&quot;: &quot;Transfer expired&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.3613" x="186.2495" y="1240.77">&quot;extensionList&quot;: &lt;transferMessage.extensionList&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="169.7202" y="1255.9028">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="149.0586" y="1271.0356">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="132.5293" y="1286.1685">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.79" x="132.5293" y="1301.3013">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="149.0586" y="1316.4341">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6357" x="165.5879" y="1331.5669">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.9961" x="165.5879" y="1346.6997">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.791" x="165.5879" y="1361.8325">type: notification,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.2739" x="165.5879" y="1376.9653">action: abort,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="165.5879" y="1392.0981">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.7148" x="165.5879" y="1407.231">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.7236" x="182.1172" y="1422.3638">status: &apos;error&apos;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.5132" x="182.1172" y="1437.4966">code: &lt;errorInformation.errorCode&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.2012" x="182.1172" y="1452.6294">description: &lt;errorInformation.errorDescription&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="165.5879" y="1467.7622">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="149.0586" y="1482.895">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="132.5293" y="1498.0278">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="116" y="1513.1606">}</text>
    <polygon fill="#181818" points="823.5142,1558.4922,833.5142,1562.4922,823.5142,1566.4922,827.5142,1562.4922" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="829.5142" y1="1562.4922" y2="1562.4922"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="112.292" y="1549.8599">14</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.4482" x="134.3828" y="1542.2935">Publish Notification event</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="134.3828" y="1557.4263">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="220.0444" y="1557.4263">2003</text>
    <path d="M20,1614.4922 L89.4512,1614.4922 L89.4512,1621.625 L79.4512,1631.625 L20,1631.625 L20,1614.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="1426.1016" style="stroke:#000000;stroke-width:1.5;" width="1548.4375" x="20" y="1614.4922"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24.4512" x="35" y="1627.5591">opt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="317.9956" x="104.4512" y="1626.7026">[type == &apos;position&apos; &amp;&amp; (action IN [&apos;reject&apos;, &apos;abort&apos;])]</text>
    <polygon fill="#181818" points="952.418,1663.8906,962.418,1667.8906,952.418,1671.8906,956.418,1667.8906" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="958.418" y1="1667.8906" y2="1667.8906"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="112.292" y="1655.2583">15</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271.8638" x="134.3828" y="1647.6919">Request current state of transfer from DB</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="134.3828" y="1662.8247">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="220.0444" y="1662.8247">2003</text>
    <polygon fill="#181818" points="1424.2866,1693.0234,1434.2866,1697.0234,1424.2866,1701.0234,1428.2866,1697.0234" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="974.418" x2="1430.2866" y1="1697.0234" y2="1697.0234"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="981.418" y="1691.9575">16</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273.2476" x="1003.5088" y="1691.9575">Retrieve current state of transfer from DB</text>
    <polygon fill="#FFFFE0" points="1371,1710.0234,1510,1710.0234,1520,1721.0234,1510,1733.0234,1371,1733.0234,1361,1721.0234,1371,1710.0234" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.5225" x="1373" y="1726.0903">transferStateChange</text>
    <polygon fill="#181818" points="985.418,1755.2891,975.418,1759.2891,985.418,1763.2891,981.418,1759.2891" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="979.418" x2="1440.2866" y1="1759.2891" y2="1759.2891"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="991.418" y="1754.2231">17</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.4248" x="1013.5088" y="1754.2231">Return current state of transfer from DB</text>
    <polygon fill="#181818" points="116.292,1784.4219,106.292,1788.4219,116.292,1792.4219,112.292,1788.4219" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="110.292" x2="968.418" y1="1788.4219" y2="1788.4219"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="122.292" y="1783.356">18</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.4248" x="144.3828" y="1783.356">Return current state of transfer from DB</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="147.292" y1="1832.6875" y2="1832.6875"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="147.292" x2="147.292" y1="1832.6875" y2="1845.6875"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="106.292" x2="147.292" y1="1845.6875" y2="1845.6875"/>
    <polygon fill="#181818" points="115.292,1828.6875,105.292,1832.6875,115.292,1836.6875,111.292,1832.6875" style="stroke:#181818;stroke-width:1.0;"/>
    <polygon fill="#181818" points="116.292,1841.6875,106.292,1845.6875,116.292,1849.6875,112.292,1845.6875" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="112.292" y="1820.0552">19</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="684.1313" x="134.3828" y="1812.4888">Validate current state (transferStateChange.transferStateId IN [&apos;RECEIVED_REJECT&apos;, &apos;RECEIVED_ERROR&apos;])</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="134.3828" y="1827.6216">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="220.0444" y="1827.6216">2001</text>
    <path d="M30,1860.6875 L388.168,1860.6875 L388.168,1867.8203 L378.168,1877.8203 L30,1877.8203 L30,1860.6875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="286.3281" style="stroke:#000000;stroke-width:1.5;" width="1528.4375" x="30" y="1860.6875"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="313.168" x="45" y="1873.7544">Persist Position change and Transfer state</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="147.292" y1="1898.9531" y2="1898.9531"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="147.292" x2="147.292" y1="1898.9531" y2="1911.9531"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="106.292" x2="147.292" y1="1911.9531" y2="1911.9531"/>
    <polygon fill="#181818" points="116.292,1907.9531,106.292,1911.9531,116.292,1915.9531,112.292,1911.9531" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="112.292" y="1893.8872">20</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112.7979" x="134.3828" y="1893.8872">transferStateId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435.3794" x="251.313" y="1893.8872">= (action == &apos;reject&apos; ? &apos;ABORTED_REJECTED&apos; : &apos;ABORTED_ERROR&apos; )</text>
    <polygon fill="#181818" points="952.418,1952.2188,962.418,1956.2188,952.418,1960.2188,956.418,1956.2188" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="958.418" y1="1956.2188" y2="1956.2188"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="112.292" y="1943.5864">21</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.7534" x="134.3828" y="1936.02">Request to persist latest position and state to DB</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="134.3828" y="1951.1528">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="220.0444" y="1951.1528">2003</text>
    <path d="M911,1971.2188 L1334.6313,1971.2188 L1334.6313,1978.3516 L1324.6313,1988.3516 L911,1988.3516 L911,1971.2188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="139.6641" style="stroke:#000000;stroke-width:1.5;" width="637.4375" x="911" y="1971.2188"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="59.3823" x="926" y="1984.2856">Refer to</text>
    <text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="265.897" x="989.9082" y="1984.2856">DB TRANSACTION IMPLEMENTATION</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44.3003" x="1260.3311" y="1984.2856">above</text>
    <polygon fill="#181818" points="1424.2866,2005.4844,1434.2866,2009.4844,1424.2866,2013.4844,1428.2866,2009.4844" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="974.418" x2="1430.2866" y1="2009.4844" y2="2009.4844"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="981.418" y="2004.4185">22</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.0234" x="1003.5088" y="2004.4185">Persist to database</text>
    <polygon fill="#FFFFE0" points="1353,2052.4844,1528,2052.4844,1538,2078.4844,1528,2105.4844,1353,2105.4844,1343,2078.4844,1353,2052.4844" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.6655" x="1355" y="2068.5513">participantPosition</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.5225" x="1355" y="2083.6841">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.4375" x="1355" y="2098.8169">participantPositionChange</text>
    <polygon fill="#181818" points="116.292,2135.0156,106.292,2139.0156,116.292,2143.0156,112.292,2139.0156" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="110.292" x2="968.418" y1="2139.0156" y2="2139.0156"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="122.292" y="2133.9497">23</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.9346" x="144.3828" y="2133.9497">Return success</text>
    <path d="M100,2161.0156 L164.4429,2161.0156 L164.4429,2168.1484 L154.4429,2178.1484 L100,2178.1484 L100,2161.0156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="798.3125" style="stroke:#000000;stroke-width:1.5;" width="483.146" x="100" y="2161.0156"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="115" y="2174.0825">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="117.1382" x="179.4429" y="2173.2261">[action == &apos;reject&apos;]</text>
    <path d="M110,2183.1484 L110,2556.1484 L401,2556.1484 L401,2193.1484 L391,2183.1484 L110,2183.1484 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M391,2183.1484 L391,2193.1484 L401,2193.1484 L391,2183.1484 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.7598" x="116" y="2200.2153">Message: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.0356" x="132.5293" y="2215.3481">id: &lt;transferMessage.transferId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.1738" x="132.5293" y="2230.481">from: &lt;transferMessage.payerFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.3394" x="132.5293" y="2245.6138">to: &lt;transferMessage.payeeFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.2197" x="132.5293" y="2260.7466">type: application/json</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5552" x="132.5293" y="2275.8794">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.4482" x="149.0586" y="2291.0122">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.3091" x="149.0586" y="2306.145">payload: &lt;transferMessage&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="132.5293" y="2321.2778">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.79" x="132.5293" y="2336.4106">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="149.0586" y="2351.5435">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6357" x="165.5879" y="2366.6763">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.9961" x="165.5879" y="2381.8091">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.791" x="165.5879" y="2396.9419">type: notification,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.8574" x="165.5879" y="2412.0747">action: reject,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="165.5879" y="2427.2075">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.7148" x="165.5879" y="2442.3403">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.4004" x="182.1172" y="2457.4731">status: &quot;success&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.2666" x="182.1172" y="2472.606">code: 0,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.1787" x="182.1172" y="2487.7388">description: &quot;action successful&quot;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="165.5879" y="2502.8716">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="149.0586" y="2518.0044">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="132.5293" y="2533.1372">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="116" y="2548.27">}</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="100" x2="583.146" y1="2562.3359" y2="2562.3359"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114.7803" x="105" y="2572.5464">[action == &apos;abort&apos;]</text>
    <path d="M110,2581.1406 L110,2954.1406 L573,2954.1406 L573,2591.1406 L563,2581.1406 L110,2581.1406 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M563,2581.1406 L563,2591.1406 L573,2591.1406 L563,2581.1406 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.7598" x="116" y="2598.2075">Message: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.0356" x="132.5293" y="2613.3403">id: &lt;transferMessage.transferId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.1738" x="132.5293" y="2628.4731">from: &lt;transferMessage.payerFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.3394" x="132.5293" y="2643.606">to: &lt;transferMessage.payeeFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.2197" x="132.5293" y="2658.7388">type: application/json</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5552" x="132.5293" y="2673.8716">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.4482" x="149.0586" y="2689.0044">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.3091" x="149.0586" y="2704.1372">payload: &lt;transferMessage&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="132.5293" y="2719.27">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.79" x="132.5293" y="2734.4028">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="149.0586" y="2749.5356">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6357" x="165.5879" y="2764.6685">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.9961" x="165.5879" y="2779.8013">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.791" x="165.5879" y="2794.9341">type: notification,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.2739" x="165.5879" y="2810.0669">action: abort,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="165.5879" y="2825.1997">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.7148" x="165.5879" y="2840.3325">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.7236" x="182.1172" y="2855.4653">status: &apos;error&apos;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344.4492" x="182.1172" y="2870.5981">code: &lt;payload.errorInformation.errorCode || 5000&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="376.0288" x="182.1172" y="2885.731">description: &lt;payload.errorInformation.errorDescription&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="165.5879" y="2900.8638">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="149.0586" y="2915.9966">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="132.5293" y="2931.1294">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="116" y="2946.2622">}</text>
    <polygon fill="#181818" points="823.5142,2998.5938,833.5142,3002.5938,823.5142,3006.5938,827.5142,3002.5938" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="829.5142" y1="3002.5938" y2="3002.5938"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="112.292" y="2989.9614">24</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.4482" x="134.3828" y="2982.395">Publish Notification event</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="134.3828" y="2997.5278">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="220.0444" y="2997.5278">2003</text>
    <path d="M20,3054.5938 L89.4512,3054.5938 L89.4512,3061.7266 L79.4512,3071.7266 L20,3071.7266 L20,3054.5938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="1072.6406" style="stroke:#000000;stroke-width:1.5;" width="1548.4375" x="20" y="3054.5938"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24.4512" x="35" y="3067.6606">opt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="503.4541" x="104.4512" y="3066.8042">[type == &apos;position&apos; &amp;&amp; action == &apos;fail&apos; (Unable to currently trigger this scenario)]</text>
    <polygon fill="#181818" points="952.418,3103.9922,962.418,3107.9922,952.418,3111.9922,956.418,3107.9922" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="958.418" y1="3107.9922" y2="3107.9922"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="112.292" y="3095.3599">25</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271.8638" x="134.3828" y="3087.7935">Request current state of transfer from DB</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="134.3828" y="3102.9263">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="220.0444" y="3102.9263">2003</text>
    <polygon fill="#181818" points="1424.2866,3133.125,1434.2866,3137.125,1424.2866,3141.125,1428.2866,3137.125" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="974.418" x2="1430.2866" y1="3137.125" y2="3137.125"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="981.418" y="3132.0591">26</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273.2476" x="1003.5088" y="3132.0591">Retrieve current state of transfer from DB</text>
    <polygon fill="#FFFFE0" points="1371,3150.125,1510,3150.125,1520,3161.125,1510,3173.125,1371,3173.125,1361,3161.125,1371,3150.125" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.5225" x="1373" y="3166.1919">transferStateChange</text>
    <polygon fill="#181818" points="985.418,3195.3906,975.418,3199.3906,985.418,3203.3906,981.418,3199.3906" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="979.418" x2="1440.2866" y1="3199.3906" y2="3199.3906"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="991.418" y="3194.3247">27</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.4248" x="1013.5088" y="3194.3247">Return current state of transfer from DB</text>
    <polygon fill="#181818" points="116.292,3224.5234,106.292,3228.5234,116.292,3232.5234,112.292,3228.5234" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="110.292" x2="968.418" y1="3228.5234" y2="3228.5234"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="122.292" y="3223.4575">28</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.4248" x="144.3828" y="3223.4575">Return current state of transfer from DB</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="147.292" y1="3257.6563" y2="3257.6563"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="147.292" x2="147.292" y1="3257.6563" y2="3270.6563"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="106.292" x2="147.292" y1="3270.6563" y2="3270.6563"/>
    <polygon fill="#181818" points="115.292,3253.6563,105.292,3257.6563,115.292,3261.6563,111.292,3257.6563" style="stroke:#181818;stroke-width:1.0;"/>
    <polygon fill="#181818" points="116.292,3266.6563,106.292,3270.6563,116.292,3274.6563,112.292,3270.6563" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="112.292" y="3252.5903">29</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="476.6392" x="134.3828" y="3252.5903">Validate current state (transferStateChange.transferStateId == &apos;FAILED&apos;)</text>
    <path d="M30,3285.6563 L388.168,3285.6563 L388.168,3292.7891 L378.168,3302.7891 L30,3302.7891 L30,3285.6563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="286.3281" style="stroke:#000000;stroke-width:1.5;" width="1528.4375" x="30" y="3285.6563"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="313.168" x="45" y="3298.7231">Persist Position change and Transfer state</text>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="147.292" y1="3323.9219" y2="3323.9219"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="147.292" x2="147.292" y1="3323.9219" y2="3336.9219"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="106.292" x2="147.292" y1="3336.9219" y2="3336.9219"/>
    <polygon fill="#181818" points="116.292,3332.9219,106.292,3336.9219,116.292,3340.9219,112.292,3336.9219" style="stroke:#181818;stroke-width:1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="112.292" y="3318.856">30</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112.7979" x="134.3828" y="3318.856">transferStateId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.8438" x="251.313" y="3318.856">= &apos;FAILED&apos;</text>
    <polygon fill="#181818" points="952.418,3377.1875,962.418,3381.1875,952.418,3385.1875,956.418,3381.1875" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="958.418" y1="3381.1875" y2="3381.1875"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="112.292" y="3368.5552">31</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.7534" x="134.3828" y="3360.9888">Request to persist latest position and state to DB</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="134.3828" y="3376.1216">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="220.0444" y="3376.1216">2003</text>
    <path d="M911,3396.1875 L1334.6313,3396.1875 L1334.6313,3403.3203 L1324.6313,3413.3203 L911,3413.3203 L911,3396.1875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/>
    <rect fill="none" height="139.6641" style="stroke:#000000;stroke-width:1.5;" width="637.4375" x="911" y="3396.1875"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="59.3823" x="926" y="3409.2544">Refer to</text>
    <text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="265.897" x="989.9082" y="3409.2544">DB TRANSACTION IMPLEMENTATION</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44.3003" x="1260.3311" y="3409.2544">above</text>
    <polygon fill="#181818" points="1424.2866,3430.4531,1434.2866,3434.4531,1424.2866,3438.4531,1428.2866,3434.4531" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="974.418" x2="1430.2866" y1="3434.4531" y2="3434.4531"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="981.418" y="3429.3872">32</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.0234" x="1003.5088" y="3429.3872">Persist to database</text>
    <polygon fill="#FFFFE0" points="1353,3477.4531,1528,3477.4531,1538,3503.4531,1528,3530.4531,1353,3530.4531,1343,3503.4531,1353,3477.4531" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.6655" x="1355" y="3493.52">participantPosition</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.5225" x="1355" y="3508.6528">transferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.4375" x="1355" y="3523.7856">participantPositionChange</text>
    <polygon fill="#181818" points="116.292,3559.9844,106.292,3563.9844,116.292,3567.9844,112.292,3563.9844" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="110.292" x2="968.418" y1="3563.9844" y2="3563.9844"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="122.292" y="3558.9185">33</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.9346" x="144.3828" y="3558.9185">Return success</text>
    <path d="M110,3583.9844 L110,4046.9844 L528,4046.9844 L528,3593.9844 L518,3583.9844 L110,3583.9844 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M518,3583.9844 L518,3593.9844 L528,3593.9844 L518,3583.9844 " fill="#FFFF00" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.7598" x="116" y="3601.0513">Message: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.0356" x="132.5293" y="3616.1841">id: &lt;transferMessage.transferId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.1738" x="132.5293" y="3631.3169">from: &lt;transferMessage.payerFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.3394" x="132.5293" y="3646.4497">to: &lt;transferMessage.payeeFsp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.2197" x="132.5293" y="3661.5825">type: application/json</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.5552" x="132.5293" y="3676.7153">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.4482" x="149.0586" y="3691.8481">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.4785" x="149.0586" y="3706.981">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.208" x="169.7202" y="3722.1138">&quot;errorInformation&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.9541" x="186.2495" y="3737.2466">&quot;errorCode&quot;: 3100,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.9199" x="186.2495" y="3752.3794">&quot;errorDescription&quot;: &quot;Transfer failed&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327.3613" x="186.2495" y="3767.5122">&quot;extensionList&quot;: &lt;transferMessage.extensionList&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="169.7202" y="3782.645">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="153.1909" y="3797.7778">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.4033" x="132.5293" y="3812.9106">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.79" x="132.5293" y="3828.0435">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.8091" x="149.0586" y="3843.1763">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.6357" x="165.5879" y="3858.3091">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.9961" x="165.5879" y="3873.4419">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.791" x="165.5879" y="3888.5747">type: notification,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.2739" x="165.5879" y="3903.7075">action: abort,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3462" x="165.5879" y="3918.8403">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.7148" x="165.5879" y="3933.9731">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.7236" x="182.1172" y="3949.106">status: &apos;error&apos;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.5132" x="182.1172" y="3964.2388">code: &lt;errorInformation.errorCode&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.2012" x="182.1172" y="3979.3716">description: &lt;errorInformation.errorDescription&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="165.5879" y="3994.5044">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="149.0586" y="4009.6372">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="132.5293" y="4024.77">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8.271" x="116" y="4039.9028">}</text>
    <polygon fill="#181818" points="823.5142,4085.2344,833.5142,4089.2344,823.5142,4093.2344,827.5142,4089.2344" style="stroke:#181818;stroke-width:1.0;"/>
    <line style="stroke:#181818;stroke-width:1.0;" x1="105.292" x2="829.5142" y1="4089.2344" y2="4089.2344"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="112.292" y="4076.6021">34</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.4482" x="134.3828" y="4069.0356">Publish Notification event</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.5293" x="134.3828" y="4084.1685">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33.084" x="220.0444" y="4084.1685">2003</text>
  </g>
</svg>
