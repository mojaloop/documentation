<svg xmlns="http://www.w3.org/2000/svg" height="3130" preserveAspectRatio="none" style="width:2025px;height:3130px" width="2025">
  <defs>
    <filter height="300%" id="a" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2"/>
      <feColorMatrix in="blurOut" result="blurOut2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3"/>
    </filter>
  </defs>
  <text font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="394" x="813.5" y="28.708">
    2.2.1. Fulfil Handler Consume (Abort/Reject)
  </text>
  <path fill="#FFFFE0" stroke="#a80036" d="M26 40.953h1851.5v3083.695H26z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="896.25" y="53.02">
    Central Service
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M72.5 201.781h10v30h-10zM371.5 132.383h10v2916.969h-10zM993.5 2437.156h10v30h-10zM1275 2922.414h10v30h-10zM1404.5 683.906h10v150.797h-10zM1404.5 945.234h10v135.664h-10zM1404.5 1514.039h10v121.398h-10zM1404.5 1862.172h10v1188.18h-10zM1820.5 713.039h10v92.531h-10zM1820.5 974.367h10v77.398h-10zM1820.5 1543.172h10v30h-10zM1820.5 1891.305h10v30h-10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M10 139.383h2001v2902.969H10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M20 163.516h1981v2871.836H20z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M288.5 246.781h568v105.531h-568z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M298.5 270.914h548v74.398h-548zM298.5 366.313h911v91.531h-911zM298.5 471.844h1062v102.531h-1062zM268.5 588.375H1991v1062.063H268.5z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M278.5 891.836H1953v751.602H278.5z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M288.5 1095.898h1082v360.07h-1082z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M298.5 1120.031h270v59.266h-270z"/>
  <path fill="#FFF" d="M288.5 1186.297h1082v106.336h-1082z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M298.5 1208.102h1062v77.531h-1062z"/>
  <path fill="#FFF" d="M288.5 1292.633h1082v88.07h-1082z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M298.5 1314.438h242v59.266h-242z"/>
  <path fill="#FFF" d="M288.5 1380.703h1082v75.266h-1082z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M298.5 1389.703h348v59.266h-348z"/>
  <path fill="#FFF" d="M278.5 1462.969H1953v180.469H278.5z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M278.5 1664.438H1934v1309.977H278.5z"/>
  <path fill="#FFF" d="M278.5 1762.836H1934v1211.578H278.5z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M288.5 1784.641H1924v1182.773H288.5z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M298.5 1808.773H1914v213.063H298.5z"/>
  <path fill="#FFF" d="M288.5 2475.156H1924v492.258H288.5z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M298.5 2496.961h1062v463.453h-1062z"/>
  <path fill="#FFF" d="M20 2981.414h1981v53.938H20z"/>
  <path stroke="#a80036" stroke-dasharray="5,5" d="M77 122.383v2936.969M376.5 122.383v2936.969M998.5 122.383v2936.969M1147.5 122.383v2936.969M1279.5 122.383v2936.969M1409.5 122.383v2936.969M1825.5 122.383v2936.969"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M34 83.086h87v30.297H34z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M30 87.086h87v30.297H30z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="37" y="107.081">
    Fulfil-Topic
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M34 3058.352h87v30.297H34z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M30 3062.352h87v30.297H30z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="37" y="3082.347">
    Fulfil-Topic
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="308.5" y="119.081">
    Fulfil Event Handler
  </text>
  <circle cx="376.5" cy="90.086" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M372.5 78.086l6-5-2 5 2 5-6-5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="308.5" y="3071.347">
    Fulfil Event Handler
  </text>
  <circle cx="376.5" cy="3090.648" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M372.5 3078.648l6-5-2 5 2 5-6-5z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M915.5 83.086h166v30.297h-166z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M911.5 87.086h166v30.297h-166z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="918.5" y="107.081">
    topic-transfer-position
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M915.5 3058.352h166v30.297h-166z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M911.5 3062.352h166v30.297h-166z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="918.5" y="3082.347">
    topic-transfer-position
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1099.5 83.086h96v30.297h-96z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1095.5 87.086h96v30.297h-96z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="1102.5" y="107.081">
    Event-Topic
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1099.5 3058.352h96v30.297h-96z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1095.5 3062.352h96v30.297h-96z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="1102.5" y="3082.347">
    Event-Topic
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1213.5 83.086h133v30.297h-133z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1209.5 87.086h133v30.297h-133z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1216.5" y="107.081">
    Notification-Topic
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1213.5 3058.352h133v30.297h-133z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1209.5 3062.352h133v30.297h-133z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1216.5" y="3082.347">
    Notification-Topic
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="1360.5" y="119.081">
    Transfer DAO
  </text>
  <circle cx="1409.5" cy="90.086" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path stroke="#a80036" stroke-width="2" d="M1397.5 104.086h24"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="1360.5" y="3071.347">
    Transfer DAO
  </text>
  <circle cx="1409.5" cy="3090.648" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path stroke="#a80036" stroke-width="2" d="M1397.5 3104.648h24"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1777.5" y="119.081">
    Central Store
  </text>
  <path d="M1807.5 70.086c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10v-26" fill="#FEFECE" filter="url(#a)" stroke="#000" stroke-width="1.5"/>
  <path d="M1807.5 70.086c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#000" stroke-width="1.5"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1777.5" y="3071.347">
    Central Store
  </text>
  <path d="M1807.5 3084.648c0-10 18-10 18-10s18 0 18 10v26c0 10-18 10-18 10s-18 0-18-10v-26" fill="#FEFECE" filter="url(#a)" stroke="#000" stroke-width="1.5"/>
  <path d="M1807.5 3084.648c0 10 18 10 18 10s18 0 18-10" fill="none" stroke="#000" stroke-width="1.5"/>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M72.5 201.781h10v30h-10zM371.5 132.383h10v2916.969h-10zM993.5 2437.156h10v30h-10zM1275 2922.414h10v30h-10zM1404.5 683.906h10v150.797h-10zM1404.5 945.234h10v135.664h-10zM1404.5 1514.039h10v121.398h-10zM1404.5 1862.172h10v1188.18h-10zM1820.5 713.039h10v92.531h-10zM1820.5 974.367h10v77.398h-10zM1820.5 1543.172h10v30h-10zM1820.5 1891.305h10v30h-10z"/>
  <path d="M10 139.383h284v7l-10 10H10v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M10 139.383h2001v2902.969H10z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="239" x="25" y="152.45">
    Fulfil Handler Consume (Failure)
  </text>
  <path d="M20 163.516h64v7l-10 10H20v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M20 163.516h1981v2871.836H20z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="35" y="176.583">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="174" x="99" y="175.726">
    [Consume Single Message]
  </text>
  <path fill="#A80036" stroke="#a80036" d="M93.5 197.781l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M87.5 201.781h283"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="99.5" y="196.715">
    1
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="257" x="112.5" y="196.715">
    Consume Fulfil event message for Payer
  </text>
  <path d="M288.5 246.781h88v7l-10 10h-78v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M288.5 246.781h568v105.531h-568z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="303.5" y="259.848">
    break
  </text>
  <path d="M298.5 270.914h152v7l-10 10h-142v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M298.5 270.914h548v74.398h-548z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="313.5" y="283.981">
    Validate Event
  </text>
  <path stroke="#a80036" d="M381.5 324.313h42M423.5 324.313v13M382.5 337.313h41"/>
  <path fill="#A80036" stroke="#a80036" d="M392.5 333.313l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="388.5" y="311.68">
    2
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="433" x="401.5" y="304.114">
    Validate event - Rule: type == &apos;fulfil&apos; &amp;&amp; ( action IN [&apos;reject&apos;,&apos;abort&apos;] )
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="401.5" y="319.247">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="495.5" y="319.247">
    2001
  </text>
  <path d="M298.5 366.313h232v7l-10 10h-222v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M298.5 366.313h911v91.531h-911z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187" x="313.5" y="379.379">
    Persist Event Information
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1135.5 400.578l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M381.5 404.578h760"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="388.5" y="399.512">
    3
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="401.5" y="399.512">
    Publish event information
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M305.5 412.578h893v40.266h-893z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M305.5 412.578h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="318.5" y="426.645">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="676.5" y="445.645">
    Event Handler Consume
  </text>
  <path d="M298.5 471.844h240v7l-10 10h-230v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M298.5 471.844h1062v102.531h-1062z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="195" x="313.5" y="484.911">
    Validate FSPIOP-Signature
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M305.5 513.977h1044v55.398h-1044z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M305.5 513.977h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="318.5" y="528.043">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="651" y="547.043">
    Validate message.content.headers.
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="879" y="547.043">
    FSPIOP-Signature
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="651" y="562.176">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="745" y="562.176">
    2001
  </text>
  <path d="M268.5 588.375h338v7l-10 10h-328v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M268.5 588.375H1991v1062.063H268.5z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="293" x="283.5" y="601.442">
    Validate Transfer Fulfil Duplicate Check
  </text>
  <path stroke="#a80036" d="M381.5 626.641h42M423.5 626.641v13M382.5 639.641h41"/>
  <path fill="#A80036" stroke="#a80036" d="M392.5 635.64l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="388.5" y="621.575">
    4
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="401.5" y="621.575">
    Generate transferFulfilmentId uuid
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1392.5 679.906l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M381.5 683.906h1017"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="388.5" y="671.274">
    5
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="373" x="401.5" y="663.707">
    Request to retrieve transfer fulfilment hashes by transferId
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="401.5" y="678.84">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="487.5" y="678.84">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1808.5 709.04l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1414.5 713.039h400"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1421.5" y="707.973">
    6
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="346" x="1434.5" y="707.973">
    Request Transfer fulfilment duplicate message hashes
  </text>
  <path fill="#FFFFE0" filter="url(#a)" stroke="#a80036" d="M1679 726.04h292l10 26-10 27h-292l-10-27 10-26z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="1681" y="742.106">
    SELET transferId, hash
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="1681" y="757.239">
    FROM
  </text>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="248" x="1721" y="757.239">
    transferFulfilmentDuplicateCheck
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246" x="1681" y="772.372">
    WHERE transferId = request.params.id
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1425.5 801.57l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M1419.5 805.57h405"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1431.5" y="800.504">
    7
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="1444.5" y="800.504">
    Return existing hashes
  </text>
  <path fill="#A80036" stroke="#a80036" d="M392.5 830.703l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M386.5 834.703h1022"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="398.5" y="829.637">
    8
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="411.5" y="829.637">
    Return (list of) transfer fulfil messages hash(es)
  </text>
  <path stroke="#a80036" d="M381.5 863.836h42M423.5 863.836v13M382.5 876.836h41"/>
  <path fill="#A80036" stroke="#a80036" d="M392.5 872.836l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="388.5" y="858.77">
    9
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="585" x="401.5" y="858.77">
    Loop the list of returned hashes and compare each entry with the calculated message hash
  </text>
  <path d="M278.5 891.836h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M278.5 891.836H1953v751.602H278.5z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="293.5" y="904.903">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="357.5" y="904.046">
    [Hash matched]
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1392.5 941.234l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M381.5 945.234h1017"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="932.602">
    10
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="365" x="410.5" y="925.036">
    Request to retrieve Transfer Fulfilment and Transfer state
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="410.5" y="940.168">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="496.5" y="940.168">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1808.5 970.367l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1414.5 974.367h400"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1421.5" y="969.301">
    11
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="365" x="1443.5" y="969.301">
    Request to retrieve Transfer Fulfilment and Transfer state
  </text>
  <path fill="#FFFFE0" filter="url(#a)" stroke="#a80036" d="M1756 987.367h138l10 19-10 19h-138l-10-19 10-19z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1758" y="1003.434">
    transferFulfilment
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="1758" y="1018.567">
    transferStateChange
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1425.5 1047.766l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M1419.5 1051.766h405"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1431.5" y="1046.7">
    12
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="1453.5" y="1046.7">
    Return Transfer Fulfilment and Transfer state
  </text>
  <path fill="#A80036" stroke="#a80036" d="M392.5 1076.898l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M386.5 1080.898h1022"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="398.5" y="1075.832">
    13
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="420.5" y="1075.832">
    Return Transfer Fulfilment and Transfer state
  </text>
  <path d="M288.5 1095.898h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M288.5 1095.898h1082v360.07h-1082z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="303.5" y="1108.965">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="207" x="367.5" y="1108.109">
    [transferFulfilment.isValid == 0]
  </text>
  <path d="M298.5 1120.031h88v7l-10 10h-78v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M298.5 1120.031h270v59.266h-270z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="313.5" y="1133.098">
    break
  </text>
  <path stroke="#a80036" d="M381.5 1158.297h42M423.5 1158.297v13M382.5 1171.297h41"/>
  <path fill="#A80036" stroke="#a80036" d="M392.5 1167.297l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="1153.231">
    14
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110" x="410.5" y="1153.231">
    Error handling:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="524.5" y="1153.231">
    3105
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M288.5 1187.297h1082"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="284" x="293.5" y="1197.507">
    [transferState IN [&apos;COMMITTED&apos;, &apos;ABORTED&apos;]]
  </text>
  <path d="M298.5 1208.102h88v7l-10 10h-78v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M298.5 1208.102h1062v77.531h-1062z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="313.5" y="1221.168">
    break
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M305.5 1225.234h1044v55.398h-1044z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M305.5 1225.234h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="318.5" y="1239.301">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="705" y="1258.301">
    Send notification to Participant (Payee)
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M288.5 1293.633h1082"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="201" x="293.5" y="1303.843">
    [transferState NOT &apos;RESERVED&apos;]
  </text>
  <path d="M298.5 1314.438h88v7l-10 10h-78v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M298.5 1314.438h242v59.266h-242z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="313.5" y="1327.504">
    break
  </text>
  <path stroke="#a80036" d="M381.5 1352.703h42M423.5 1352.703v13M382.5 1365.703h41"/>
  <path fill="#A80036" stroke="#a80036" d="M392.5 1361.703l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="1347.637">
    15
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="410.5" y="1347.637">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="496.5" y="1347.637">
    2001
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M288.5 1381.703h1082"/>
  <path d="M298.5 1389.703h88v7l-10 10h-78v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M298.5 1389.703h348v59.266h-348z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="313.5" y="1402.77">
    break
  </text>
  <path stroke="#a80036" d="M381.5 1427.969h42M423.5 1427.969v13M382.5 1440.969h41"/>
  <path fill="#A80036" stroke="#a80036" d="M392.5 1436.969l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="1422.903">
    16
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="410.5" y="1422.903">
    Allow previous request to complete
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M278.5 1463.969H1953"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="283.5" y="1474.179">
    [Hash not matched]
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1392.5 1510.04l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M381.5 1514.039h1017"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="1501.407">
    17
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="410.5" y="1493.84">
    Request to persist transfer hash
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="410.5" y="1508.973">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="504.5" y="1508.973">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1808.5 1539.172l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1414.5 1543.172h400"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1421.5" y="1538.106">
    18
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1443.5" y="1538.106">
    Persist hash
  </text>
  <path fill="#FFFFE0" filter="url(#a)" stroke="#a80036" d="M1718 1586.172h215l10 11-10 12h-215l-10-12 10-11z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="1720" y="1602.239">
    transferFulfilmentDuplicateCheck
  </text>
  <path fill="#A80036" stroke="#a80036" d="M392.5 1631.438l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M386.5 1635.438h1022"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="398.5" y="1630.372">
    19
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="420.5" y="1630.372">
    Return success
  </text>
  <path d="M278.5 1664.438h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M278.5 1664.438H1934v1309.977H278.5z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="293.5" y="1677.504">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="325" x="357.5" y="1676.648">
    [action==&apos;reject&apos; call made on PUT /transfers/{ID}]
  </text>
  <path stroke="#a80036" d="M381.5 1702.703h42M423.5 1702.703v13M382.5 1715.703h41"/>
  <path fill="#A80036" stroke="#a80036" d="M392.5 1711.703l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="1697.637">
    20
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="410.5" y="1697.637">
    Log error message
  </text>
  <path d="M386 1728.703v25h306v-15l-10-10H386" fill="#FBFB77" filter="url(#a)" stroke="#a80036"/>
  <path d="M682 1728.703v10h10l-10-10" fill="#FBFB77" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="392" y="1745.77">
    action REJECT is not allowed into fulfil handler
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M278.5 1763.836H1934"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="200" x="283.5" y="1774.046">
    [action==&apos;abort&apos; Error callback]
  </text>
  <path d="M288.5 1784.64h64v7l-10 10h-54v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M288.5 1784.641H1924v1182.773H288.5z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="303.5" y="1797.707">
    alt
  </text>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="367.5" y="1796.851">
    [Validation successful]
  </text>
  <path d="M298.5 1808.773h505v7l-10 10h-495v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M298.5 1808.773H1914v213.063H298.5z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="460" x="313.5" y="1821.84">
    Persist Transfer State (with transferState=&apos;RECEIVED_ERROR&apos;)
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1392.5 1858.172l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M381.5 1862.172h1017"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="1849.54">
    21
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="410.5" y="1841.973">
    Request to persist transfer state and Error
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="410.5" y="1857.106">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="496.5" y="1857.106">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1808.5 1887.305l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1414.5 1891.305h400"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1421.5" y="1886.239">
    22
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="274" x="1443.5" y="1886.239">
    Persist transfer state and error information
  </text>
  <path fill="#FFFFE0" filter="url(#a)" stroke="#a80036" d="M1756 1934.305h138l10 26-10 27h-138l-10-27 10-26z"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="1758" y="1950.372">
    transferStateChange
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="1758" y="1965.504">
    transferError
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1758" y="1980.637">
    transferExtension
  </text>
  <path fill="#A80036" stroke="#a80036" d="M392.5 2009.836l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M386.5 2013.836h1017"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="398.5" y="2008.77">
    23
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="420.5" y="2008.77">
    Return success
  </text>
  <path d="M386 2033.836v373h315v-363l-10-10H386" fill="#FF0" filter="url(#a)" stroke="#a80036"/>
  <path d="M691 2033.836v10h10l-10-10" fill="#FF0" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="392" y="2050.903">
    Message:
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="392" y="2066.036">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="408" y="2081.169">
    id: &lt;ID&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="267" x="408" y="2096.301">
    from: &lt;transferHeaders.FSPIOP-Source&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="408" y="2111.434">
    to: &lt;transferHeaders.FSPIOP-Destination&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="408" y="2126.567">
    type: application/json,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="408" y="2141.7">
    content: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="424" y="2156.832">
    headers: &lt;transferHeaders&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="424" y="2171.965">
    payload: &lt;transferMessage&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="408" y="2187.098">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="408" y="2202.231">
    metadata: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="424" y="2217.364">
    event: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="440" y="2232.497">
    id: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="440" y="2247.629">
    responseTo: &lt;previous.uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="440" y="2262.762">
    type: position,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="440" y="2277.895">
    action: abort,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="440" y="2293.028">
    createdAt: &lt;timestamp&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="440" y="2308.161">
    state: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="456" y="2323.294">
    status: &quot;success&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="456" y="2338.426">
    code: 0
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="440" y="2353.559">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="424" y="2368.692">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="408" y="2383.825">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="392" y="2398.957">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M981.5 2433.156l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M381.5 2437.156h606"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="2432.09">
    24
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="410.5" y="2432.09">
    Route &amp; Publish Position event for Payer
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M288.5 2476.156H1924"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="314" x="293.5" y="2486.367">
    [Validate Transfer Error Message not successful]
  </text>
  <path d="M298.5 2496.96h88v7l-10 10h-78v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M298.5 2496.961h1062v463.453h-1062z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="313.5" y="2510.028">
    break
  </text>
  <path d="M386 2519.094v373h315v-363l-10-10H386" fill="#FF0" filter="url(#a)" stroke="#a80036"/>
  <path d="M691 2519.094v10h10l-10-10" fill="#FF0" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="392" y="2536.161">
    Message:
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="392" y="2551.294">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="408" y="2566.426">
    id: &lt;ID&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="267" x="408" y="2581.559">
    from: &lt;transferHeaders.FSPIOP-Source&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="408" y="2596.692">
    to: &lt;transferHeaders.FSPIOP-Destination&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="408" y="2611.825">
    type: application/json,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="408" y="2626.957">
    content: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="424" y="2642.09">
    headers: &lt;transferHeaders&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="424" y="2657.223">
    payload: &lt;transferMessage&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="408" y="2672.356">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="408" y="2687.489">
    metadata: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="424" y="2702.622">
    event: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="440" y="2717.754">
    id: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="440" y="2732.887">
    responseTo: &lt;previous.uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="440" y="2748.02">
    type: position,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="440" y="2763.153">
    action: abort,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="440" y="2778.286">
    createdAt: &lt;timestamp&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="440" y="2793.419">
    state: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="456" y="2808.551">
    status: &quot;error&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="456" y="2823.684">
    code: 1
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="440" y="2838.817">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="424" y="2853.95">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="408" y="2869.082">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="392" y="2884.215">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1263 2918.414l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M381.5 2922.414H1269"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="388.5" y="2917.348">
    25
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="281" x="410.5" y="2917.348">
    Route &amp; Publish Notification event for Payee
  </text>
  <path stroke="#000" stroke-dasharray="2,2" d="M20 2982.414h1981"/>
  <text font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="178" x="25" y="2992.624">
    [Consume Batch Messages]
  </text>
  <path d="M147 3001.219v25h215v-15l-10-10H147" fill="#ADD8E6" filter="url(#a)" stroke="#a80036"/>
  <path d="M352 3001.219v10h10l-10-10" fill="#ADD8E6" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="153" y="3018.286">
    To be delivered by future story
  </text>
</svg>
