<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="609px" preserveAspectRatio="none" style="width:1416px;height:609px;background:#FFFFFF;" version="1.1" viewBox="0 0 1416 609" width="1416px" zoomAndPan="magnify">
  <title>PISP Linking: Authentication (Web)</title>
  <defs/>
  <g>
    <text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="278.8105" x="575.8779" y="27.9951">PISP Linking: Authentication (Web)</text>
    <rect fill="#DDDDDD" height="553.0703" style="stroke:#181818;stroke-width:0.5;" width="97.3906" x="533.4644" y="43.2969"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66.7202" x="548.7996" y="55.3638">Mojaloop</text>
    <rect fill="#F5F5F5" height="163.0625" style="stroke:#000000;stroke-width:1.0;" width="10" x="577.1597" y="313.7734"/>
    <rect fill="#F5F5F5" height="145.6641" style="stroke:#000000;stroke-width:1.0;" width="10" x="1126.7383" y="447.7031"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="37" x2="37" y1="100.7109" y2="110.7109"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="37" x2="37" y1="110.7109" y2="138.7109"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="37" x2="37" y1="138.7109" y2="188.9766"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="37" x2="37" y1="188.9766" y2="216.9766"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="37" x2="37" y1="216.9766" y2="602.3672"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="581.4644" x2="581.4644" y1="100.7109" y2="110.7109"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="581.4644" x2="581.4644" y1="110.7109" y2="138.7109"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="581.4644" x2="581.4644" y1="138.7109" y2="188.9766"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="581.4644" x2="581.4644" y1="188.9766" y2="216.9766"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="581.4644" x2="581.4644" y1="216.9766" y2="602.3672"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1131.0752" x2="1131.0752" y1="100.7109" y2="110.7109"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="1131.0752" x2="1131.0752" y1="110.7109" y2="138.7109"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1131.0752" x2="1131.0752" y1="138.7109" y2="188.9766"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="1131.0752" x2="1131.0752" y1="188.9766" y2="216.9766"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1131.0752" x2="1131.0752" y1="216.9766" y2="602.3672"/>
    <rect fill="#F5F5F5" height="37.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.1621" x="5" y="62.4297"/>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="51.1621" x="12" y="87.9941">PISP</text>
    <rect fill="#F5F5F5" height="37.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89.3906" x="537.4644" y="62.4297"/>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="75.3906" x="544.4644" y="87.9941">Switch</text>
    <rect fill="#F5F5F5" height="37.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.3262" x="1095.0752" y="62.4297"/>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="59.3262" x="1102.0752" y="87.9941">DFSP</text>
    <rect fill="#F5F5F5" height="163.0625" style="stroke:#000000;stroke-width:1.0;" width="10" x="577.1597" y="313.7734"/>
    <rect fill="#F5F5F5" height="145.6641" style="stroke:#000000;stroke-width:1.0;" width="10" x="1126.7383" y="447.7031"/>
    <path d="M5,143.7109 L5,183.7109 L1163,183.7109 L1163,153.7109 L1153,143.7109 L5,143.7109 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M1153,143.7109 L1153,153.7109 L1163,153.7109 L1153,143.7109 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="497.1484" x="220.5598" y="160.7778">Here the user goes through the web authentication process with their DFSP.</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="718.2817" x="220.5598" y="175.9106">The end result is a redirect back to the PISP with a special URL parameter with a secret provided by the DFSP.</text>
    <polygon fill="#000000" points="565.1597,309.7734,575.1597,313.7734,565.1597,317.7734,569.1597,313.7734" style="stroke:#000000;stroke-width:1.0;"/>
    <line style="stroke:#000000;stroke-width:1.0;" x1="37.5811" x2="571.1597" y1="313.7734" y2="313.7734"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.8057" x="44.5811" y="270.8755">AUTH-1</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="461.7729" x="103.3867" y="233.0435">PATCH /consentRequests/11111111-0000-0000-0000-000000000000</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="103.3867" y="248.1763">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="148.7065" x="135.5693" y="248.1763">FSIOP-Source: pispa</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="103.3867" y="263.3091">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="187.8398" x="135.5693" y="263.3091">FSIOP-Destination: dfspa</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="7.8267" x="119.04" y="278.4419">{</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="103.3867" y="293.5747">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="164.3599" x="135.5693" y="293.5747">authToken: &quot;&lt;SECRET&gt;&quot;</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="103.3867" y="308.7075">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="7.8267" x="119.916" y="308.7075">}</text>
    <polygon fill="#000000" points="48.5811,338.9063,38.5811,342.9063,48.5811,346.9063,44.5811,342.9063" style="stroke:#000000;stroke-width:1.0;"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="42.5811" x2="576.1597" y1="342.9063" y2="342.9063"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.8057" x="54.5811" y="337.8403">AUTH-2</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="93.9199" x="113.3867" y="337.8403">202 Accepted</text>
    <polygon fill="#000000" points="1114.7383,443.7031,1124.7383,447.7031,1114.7383,451.7031,1118.7383,447.7031" style="stroke:#000000;stroke-width:1.0;"/>
    <line style="stroke:#000000;stroke-width:1.0;" x1="587.1597" x2="1120.7383" y1="447.7031" y2="447.7031"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.8057" x="594.1597" y="404.8052">AUTH-3</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="461.7729" x="652.9653" y="366.9731">PATCH /consentRequests/11111111-0000-0000-0000-000000000000</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="652.9653" y="382.106">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="148.7065" x="685.1479" y="382.106">FSIOP-Source: pispa</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="652.9653" y="397.2388">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="187.8398" x="685.1479" y="397.2388">FSIOP-Destination: dfspa</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="7.8267" x="668.6187" y="412.3716">{</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="652.9653" y="427.5044">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="164.3599" x="685.1479" y="427.5044">authToken: &quot;&lt;SECRET&gt;&quot;</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="652.9653" y="442.6372">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="7.8267" x="669.4946" y="442.6372">}</text>
    <polygon fill="#000000" points="593.1597,472.8359,583.1597,476.8359,593.1597,480.8359,589.1597,476.8359" style="stroke:#000000;stroke-width:1.0;"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="587.1597" x2="1125.7383" y1="476.8359" y2="476.8359"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.8057" x="599.1597" y="471.77">AUTH-4</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="93.9199" x="657.9653" y="471.77">202 Accepted</text>
    <line style="stroke:#000000;stroke-width:1.0;" x1="1136.7383" x2="1178.7383" y1="505.9688" y2="505.9688"/>
    <line style="stroke:#000000;stroke-width:1.0;" x1="1178.7383" x2="1178.7383" y1="505.9688" y2="518.9688"/>
    <line style="stroke:#000000;stroke-width:1.0;" x1="1137.7383" x2="1178.7383" y1="518.9688" y2="518.9688"/>
    <polygon fill="#000000" points="1147.7383,514.9688,1137.7383,518.9688,1147.7383,522.9688,1143.7383,518.9688" style="stroke:#000000;stroke-width:1.0;"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.8057" x="1143.7383" y="500.9028">AUTH-5</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="207.0225" x="1202.5439" y="500.9028">Verify the auth token is correct.</text>
    <path d="M5,531.9688 L5,586.9688 L1163,586.9688 L1163,541.9688 L1153,531.9688 L5,531.9688 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M1153,531.9688 L1153,541.9688 L1163,541.9688 L1153,531.9688 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="1003.647" x="77.8772" y="549.0356">At this point, the DFSP believes that the User is their customer and that User trusts the PISP. This means that the DFSP can continue by granting consent.</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="77.8772" y="564.1685"> </text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="840.0679" x="77.8772" y="579.3013">Note that the DFSP never &quot;responds&quot; to the Consent Request itself. Instead, it will create a Consent resource in the Grant phase.</text>
  </g>
</svg>
