<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="594px" preserveAspectRatio="none" style="width:1372px;height:594px;background:#FFFFFF;" version="1.1" viewBox="0 0 1372 594" width="1372px" zoomAndPan="magnify">
  <title>PISP Linking: Authentication (OTP)</title>
  <defs/>
  <g>
    <text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="275.5635" x="555.2625" y="27.9951">PISP Linking: Authentication (OTP)</text>
    <rect fill="#DDDDDD" height="537.9375" style="stroke:#181818;stroke-width:0.5;" width="97.3906" x="533.4644" y="43.2969"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66.7202" x="548.7996" y="55.3638">Mojaloop</text>
    <rect fill="#F5F5F5" height="163.0625" style="stroke:#000000;stroke-width:1.0;" width="10" x="577.1597" y="298.6406"/>
    <rect fill="#F5F5F5" height="145.6641" style="stroke:#000000;stroke-width:1.0;" width="10" x="1126.7383" y="432.5703"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="37" x2="37" y1="100.7109" y2="110.7109"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="37" x2="37" y1="110.7109" y2="138.7109"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="37" x2="37" y1="138.7109" y2="173.8438"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="37" x2="37" y1="173.8438" y2="201.8438"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="37" x2="37" y1="201.8438" y2="587.2344"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="581.4644" x2="581.4644" y1="100.7109" y2="110.7109"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="581.4644" x2="581.4644" y1="110.7109" y2="138.7109"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="581.4644" x2="581.4644" y1="138.7109" y2="173.8438"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="581.4644" x2="581.4644" y1="173.8438" y2="201.8438"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="581.4644" x2="581.4644" y1="201.8438" y2="587.2344"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1131.0752" x2="1131.0752" y1="100.7109" y2="110.7109"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="1131.0752" x2="1131.0752" y1="110.7109" y2="138.7109"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1131.0752" x2="1131.0752" y1="138.7109" y2="173.8438"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="1131.0752" x2="1131.0752" y1="173.8438" y2="201.8438"/>
    <line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1131.0752" x2="1131.0752" y1="201.8438" y2="587.2344"/>
    <rect fill="#F5F5F5" height="37.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.1621" x="5" y="62.4297"/>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="51.1621" x="12" y="87.9941">PISP</text>
    <rect fill="#F5F5F5" height="37.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89.3906" x="537.4644" y="62.4297"/>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="75.3906" x="544.4644" y="87.9941">Switch</text>
    <rect fill="#F5F5F5" height="37.2813" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.3262" x="1095.0752" y="62.4297"/>
    <text fill="#000000" font-family="Verdana" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="59.3262" x="1102.0752" y="87.9941">DFSP</text>
    <rect fill="#F5F5F5" height="163.0625" style="stroke:#000000;stroke-width:1.0;" width="10" x="577.1597" y="298.6406"/>
    <rect fill="#F5F5F5" height="145.6641" style="stroke:#000000;stroke-width:1.0;" width="10" x="1126.7383" y="432.5703"/>
    <path d="M5,143.7109 L5,168.7109 L1163,168.7109 L1163,153.7109 L1153,143.7109 L5,143.7109 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M1153,143.7109 L1153,153.7109 L1163,153.7109 L1153,143.7109 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="1060.1475" x="49.627" y="160.7778">Here the user provides the OTP sent directly to them by the DFSP into the PISP App. It&apos;s then used as the secret to prove to the DFSP that the user trusts the PISP.</text>
    <polygon fill="#000000" points="565.1597,294.6406,575.1597,298.6406,565.1597,302.6406,569.1597,298.6406" style="stroke:#000000;stroke-width:1.0;"/>
    <line style="stroke:#000000;stroke-width:1.0;" x1="37.5811" x2="571.1597" y1="298.6406" y2="298.6406"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.8057" x="44.5811" y="255.7427">AUTH-1</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="461.7729" x="103.3867" y="217.9106">PATCH /consentRequests/11111111-0000-0000-0000-000000000000</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="103.3867" y="233.0435">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="148.7065" x="135.5693" y="233.0435">FSIOP-Source: pispa</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="103.3867" y="248.1763">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="187.8398" x="135.5693" y="248.1763">FSIOP-Destination: dfspa</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="7.8267" x="111.2134" y="263.3091">{</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="103.3867" y="278.4419">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="140.8799" x="135.5693" y="278.4419">authToken: &quot;&lt;OTP&gt;&quot;</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="103.3867" y="293.5747">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="7.8267" x="119.916" y="293.5747">}</text>
    <polygon fill="#000000" points="48.5811,323.7734,38.5811,327.7734,48.5811,331.7734,44.5811,327.7734" style="stroke:#000000;stroke-width:1.0;"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="42.5811" x2="576.1597" y1="327.7734" y2="327.7734"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.8057" x="54.5811" y="322.7075">AUTH-2</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="93.9199" x="113.3867" y="322.7075">202 Accepted</text>
    <polygon fill="#000000" points="1114.7383,428.5703,1124.7383,432.5703,1114.7383,436.5703,1118.7383,432.5703" style="stroke:#000000;stroke-width:1.0;"/>
    <line style="stroke:#000000;stroke-width:1.0;" x1="587.1597" x2="1120.7383" y1="432.5703" y2="432.5703"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.8057" x="594.1597" y="389.6724">AUTH-3</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="461.7729" x="652.9653" y="351.8403">PATCH /consentRequests/11111111-0000-0000-0000-000000000000</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="652.9653" y="366.9731">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="148.7065" x="685.1479" y="366.9731">FSIOP-Source: pispa</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="652.9653" y="382.106">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="187.8398" x="685.1479" y="382.106">FSIOP-Destination: dfspa</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="7.8267" x="660.792" y="397.2388">{</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="652.9653" y="412.3716">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="140.8799" x="685.1479" y="412.3716">authToken: &quot;&lt;OTP&gt;&quot;</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="16.5293" x="652.9653" y="427.5044">    </text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="7.8267" x="669.4946" y="427.5044">}</text>
    <polygon fill="#000000" points="593.1597,457.7031,583.1597,461.7031,593.1597,465.7031,589.1597,461.7031" style="stroke:#000000;stroke-width:1.0;"/>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="587.1597" x2="1125.7383" y1="461.7031" y2="461.7031"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.8057" x="599.1597" y="456.6372">AUTH-4</text>
    <text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacing" textLength="93.9199" x="657.9653" y="456.6372">202 Accepted</text>
    <line style="stroke:#000000;stroke-width:1.0;" x1="1136.7383" x2="1178.7383" y1="490.8359" y2="490.8359"/>
    <line style="stroke:#000000;stroke-width:1.0;" x1="1178.7383" x2="1178.7383" y1="490.8359" y2="503.8359"/>
    <line style="stroke:#000000;stroke-width:1.0;" x1="1137.7383" x2="1178.7383" y1="503.8359" y2="503.8359"/>
    <polygon fill="#000000" points="1147.7383,499.8359,1137.7383,503.8359,1147.7383,507.8359,1143.7383,503.8359" style="stroke:#000000;stroke-width:1.0;"/>
    <text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.8057" x="1143.7383" y="485.77">AUTH-5</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="162.5444" x="1202.5439" y="485.77">Verify the OTP is correct.</text>
    <path d="M5,516.8359 L5,571.8359 L1163,571.8359 L1163,526.8359 L1153,516.8359 L5,516.8359 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <path d="M1153,516.8359 L1153,526.8359 L1163,526.8359 L1153,516.8359 " fill="#FAFAFA" style="stroke:#181818;stroke-width:0.5;"/>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="1003.647" x="77.8772" y="533.9028">At this point, the DFSP believes that the User is their customer and that User trusts the PISP. This means that the DFSP can continue by granting consent.</text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="77.8772" y="549.0356"> </text>
    <text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="840.0679" x="77.8772" y="564.1685">Note that the DFSP never &quot;responds&quot; to the Consent Request itself. Instead, it will create a Consent resource in the Grant phase.</text>
  </g>
</svg>
