<svg xmlns="http://www.w3.org/2000/svg" height="1932" preserveAspectRatio="none" style="width:2081px;height:1932px" width="2081">
  <defs>
    <filter height="300%" id="a" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2"/>
      <feColorMatrix in="blurOut" result="blurOut2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3"/>
    </filter>
  </defs>
  <text font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="501" x="788.25" y="28.708">
    1.1.0. DFSP1 sends a Prepare Transfer request to DFSP2
  </text>
  <path fill="#D3D3D3" stroke="#a80036" d="M1 40.953h204v1885.211H1z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="198" x="4" y="53.02">
    Financial Service Providers
  </text>
  <path fill="#ADD8E6" stroke="#a80036" d="M299 40.953h565v1885.211H299z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="173" x="495" y="53.02">
    ML API Adapter Service
  </text>
  <path fill="#FFFFE0" stroke="#a80036" d="M866 40.953h1195.5v1885.211H866z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="1408.25" y="53.02">
    Central Service
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M352 753.461h10v589.117h-10zM740 169.68h10v1643.891h-10zM1095.5 1227.047h10v86.398h-10zM1461.5 169.68h10v1643.891h-10zM1816 169.68h10v1643.891h-10z"/>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M36 176.68h2031.5v1629.891H36z"/>
  <path stroke="#a80036" stroke-dasharray="5,5" d="M72 159.68v1663.89M134 159.68v1663.89M357 159.68v1663.89M745 159.68v1663.89M937 159.68v1663.89M1100 159.68v1663.89M1466.5 159.68v1663.89M1643.5 159.68v1663.89M1820.5 159.68v1663.89M1986.5 159.68v1663.89"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="46" y="140.081">
    DFSP1
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="50" y="156.378">
    Payer
  </text>
  <circle cx="72" cy="70.086" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M72 78.086v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="46" y="1835.565">
    DFSP1
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="50" y="1851.862">
    Payer
  </text>
  <circle cx="72" cy="1865.164" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M72 1873.164v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="108" y="140.081">
    DFSP2
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="110" y="156.378">
    Payee
  </text>
  <circle cx="134" cy="70.086" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M134 78.086v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="46" x="108" y="1835.565">
    DFSP2
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="110" y="1851.862">
    Payee
  </text>
  <circle cx="134" cy="1865.164" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="8"/>
  <path d="M134 1873.164v27m-13-19h26m-13 19l-13 15m13-15l13 15" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="303" y="156.378">
    ML API Adapter
  </text>
  <path d="M336.5 115.383v24m0-12h17" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <circle cx="365.5" cy="127.383" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="303" y="1835.565">
    ML API Adapter
  </text>
  <path d="M336.5 1842.867v24m0-12h17" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <circle cx="365.5" cy="1854.867" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="224" x="630" y="156.378">
    ML API Notification Event Handler
  </text>
  <circle cx="745" cy="127.383" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M741 115.383l6-5-2 5 2 5-6-5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="224" x="630" y="1835.565">
    ML API Notification Event Handler
  </text>
  <circle cx="745" cy="1854.867" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M741 1842.867l6-5-2 5 2 5-6-5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="870" y="156.378">
    Central Service API
  </text>
  <path d="M916.5 115.383v24m0-12h17" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <circle cx="945.5" cy="127.383" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="870" y="1835.565">
    Central Service API
  </text>
  <path d="M916.5 1842.867v24m0-12h17" fill="none" filter="url(#a)" stroke="#a80036" stroke-width="2"/>
  <circle cx="945.5" cy="1854.867" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1018 120.383h165v30.297h-165z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1014 124.383h165v30.297h-165z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="1021" y="144.378">
    topic-transfer-prepare
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1018 1822.57h165v30.297h-165z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1014 1826.57h165v30.297h-165z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="151" x="1021" y="1846.565">
    topic-transfer-prepare
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="1386.5" y="156.378">
    Prepare Event Handler
  </text>
  <circle cx="1466.5" cy="127.383" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M1462.5 115.383l6-5-2 5 2 5-6-5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="1386.5" y="1835.565">
    Prepare Event Handler
  </text>
  <circle cx="1466.5" cy="1854.867" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M1462.5 1842.867l6-5-2 5 2 5-6-5z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1560.5 120.383h166v30.297h-166z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1556.5 124.383h166v30.297h-166z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="1563.5" y="144.378">
    topic-transfer-position
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1560.5 1822.57h166v30.297h-166z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1556.5 1826.57h166v30.297h-166z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="1563.5" y="1846.565">
    topic-transfer-position
  </text>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="155" x="1740.5" y="156.378">
    Position Event Handler
  </text>
  <circle cx="1821" cy="127.383" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M1817 115.383l6-5-2 5 2 5-6-5z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="155" x="1740.5" y="1835.565">
    Position Event Handler
  </text>
  <circle cx="1821" cy="1854.867" fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="2" r="12"/>
  <path fill="#A80036" stroke="#a80036" d="M1817 1842.867l6-5-2 5 2 5-6-5z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1920.5 120.383h133v30.297h-133z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1916.5 124.383h133v30.297h-133z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1923.5" y="144.378">
    Notification-Topic
  </text>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1920.5 1822.57h133v30.297h-133z"/>
  <path fill="#FEFECE" filter="url(#a)" stroke="#a80036" stroke-width="1.5" d="M1916.5 1826.57h133v30.297h-133z"/>
  <text font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1923.5" y="1846.565">
    Notification-Topic
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#a80036" d="M352 753.461h10v589.117h-10zM740 169.68h10v1643.891h-10zM1095.5 1227.047h10v86.398h-10zM1461.5 169.68h10v1643.891h-10zM1816 169.68h10v1643.891h-10z"/>
  <path d="M36 176.68h421v7l-10 10H36v-17" fill="#EEE" stroke="#000"/>
  <path fill="none" stroke="#000" stroke-width="2" d="M36 176.68h2031.5v1629.891H36z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="376" x="51" y="189.747">
    DFSP1 sends a Prepare Transfer request to DFSP2
  </text>
  <path d="M77 198.813v524h337v-514l-10-10H77" fill="#FF0" filter="url(#a)" stroke="#a80036"/>
  <path d="M404 198.813v10h10l-10-10" fill="#FF0" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="83" y="215.879">
    Headers - transferHeaders: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="99" y="231.012">
    Content-Length: &lt;Content-Length&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="99" y="246.145">
    Content-Type: &lt;Content-Type&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="99" y="261.278">
    Date: &lt;Date&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="99" y="276.411">
    X-Forwarded-For: &lt;X-Forwarded-For&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="99" y="291.543">
    FSPIOP-Source: &lt;FSPIOP-Source&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="99" y="306.676">
    FSPIOP-Destination: &lt;FSPIOP-Destination&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="99" y="321.809">
    FSPIOP-Encryption: &lt;FSPIOP-Encryption&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="258" x="99" y="336.942">
    FSPIOP-Signature: &lt;FSPIOP-Signature&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="99" y="352.075">
    FSPIOP-URI: &lt;FSPIOP-URI&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="300" x="99" y="367.207">
    FSPIOP-HTTP-Method: &lt;FSPIOP-HTTP-Method&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="83" y="382.34">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="83" y="412.606">
    Payload - transferMessage:
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="83" y="427.739">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="99" y="442.872">
    &quot;transferId&quot;: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="99" y="458.004">
    &quot;payeeFsp&quot;: dfsp2,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="99" y="473.137">
    &quot;payerFsp&quot;: dfsp1,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="99" y="488.27">
    &quot;amount&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="115" y="503.403">
    &quot;currency&quot;: &quot;AED&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="115" y="518.536">
    &quot;amount&quot;: &quot;string&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="99" y="533.668">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="99" y="548.801">
    &quot;ilpPacket&quot;: &quot;string&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="99" y="563.934">
    &quot;condition&quot;: &quot;string&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="99" y="579.067">
    &quot;expiration&quot;: &quot;string&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="99" y="594.2">
    &quot;extensionList&quot;: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="115" y="609.332">
    &quot;extension&quot;: [
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="131" y="624.465">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="147" y="639.598">
    &quot;key&quot;: &quot;string&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="147" y="654.731">
    &quot;value&quot;: &quot;string&quot;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="131" y="669.864">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="115" y="684.997">
    ]
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="99" y="700.129">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="83" y="715.262">
    }
  </text>
  <path stroke="#a80036" d="M350 753.461l-10-4M350 753.461l-10 4M72 753.461h279"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="79" y="748.395">
    1
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="92" y="748.395">
    POST - /transfers
  </text>
  <path stroke="#a80036" d="M362 797.727h42M404 797.727v13M363 810.727h41"/>
  <path fill="#A80036" stroke="#a80036" d="M373 806.727l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="369" y="785.094">
    2
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="351" x="382" y="777.528">
    Validate incoming token and originator matching Payer
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="382" y="792.661">
    Error codes:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="476" y="792.661">
    3000-3002, 3100-3107
  </text>
  <path d="M367 823.727v358h270v-348l-10-10H367" fill="#FF0" filter="url(#a)" stroke="#a80036"/>
  <path d="M627 823.727v10h10l-10-10" fill="#FF0" stroke="#a80036"/>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="373" y="840.793">
    Message:
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="373" y="855.926">
    {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="389" y="871.059">
    id: &lt;transferMessage.transferId&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="389" y="886.192">
    from: &lt;transferMessage.payerFsp&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="389" y="901.325">
    to: &lt;transferMessage.payeeFsp&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="389" y="916.457">
    type: application/json
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="389" y="931.59">
    content: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="405" y="946.723">
    headers: &lt;transferHeaders&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="405" y="961.856">
    payload: &lt;transferMessage&gt;
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="389" y="976.989">
    },
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="389" y="992.122">
    metadata: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="405" y="1007.254">
    event: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="421" y="1022.387">
    id: &lt;uuid&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="421" y="1037.52">
    type: prepare,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="421" y="1052.653">
    action: prepare,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="421" y="1067.786">
    createdAt: &lt;timestamp&gt;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="421" y="1082.918">
    state: {
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="437" y="1098.051">
    status: &quot;success&quot;,
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="437" y="1113.184">
    code: 0
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="421" y="1128.317">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="405" y="1143.45">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="389" y="1158.582">
    }
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="373" y="1173.715">
    }
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1083.5 1223.047l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M362 1227.047h727.5"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="369" y="1214.415">
    3
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="382" y="1206.848">
    Route &amp; Publish Prepare event for Payer
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="382" y="1221.981">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="468" y="1221.981">
    2003
  </text>
  <path stroke="#a80036" d="M1105.5 1271.313h42M1147.5 1271.313v13M1106.5 1284.313h41"/>
  <path fill="#A80036" stroke="#a80036" d="M1116.5 1280.313l-10 4 10 4-4-4z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1112.5" y="1258.68">
    4
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="329" x="1125.5" y="1251.114">
    Ensure event is replicated as configured (ACKS=all)
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="1125.5" y="1266.247">
    Error code:
  </text>
  <text fill="red" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="1211.5" y="1266.247">
    2003
  </text>
  <path fill="#A80036" stroke="#a80036" d="M373 1309.445l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M367 1313.445h732.5"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="379" y="1308.379">
    5
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="381" x="392" y="1308.379">
    Respond replication acknowledgements have been received
  </text>
  <path stroke="#a80036" d="M72 1342.578l10-4M72 1342.578l10 4"/>
  <path stroke="#a80036" stroke-dasharray="2,2" d="M72 1342.578h284"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="89" y="1337.512">
    6
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="102" y="1337.512">
    Respond HTTP - 202 (Accepted)
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1111.5 1392.71l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M1105.5 1396.711h355"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1117.5" y="1391.645">
    7
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="1130.5" y="1391.645">
    Consume message
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M1011 1404.711h718.5v55.398H1011z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M1011 1404.71h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="1024" y="1418.778">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="1287.75" y="1437.778">
    Prepare Handler Consume
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1631.5 1482.242l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1471.5 1486.242h166"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1478.5" y="1481.176">
    8
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="1491.5" y="1481.176">
    Produce message
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1654.5 1536.375l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M1648.5 1540.375H1815"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1660.5" y="1535.309">
    9
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="1673.5" y="1535.309">
    Consume message
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M1553.5 1548.375h347v55.398h-347z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M1553.5 1548.375h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="1566.5" y="1562.442">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="1644.5" y="1581.442">
    Position Handler Consume
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1975 1625.906l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M1826 1629.906h155"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1833" y="1624.84">
    10
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="1855" y="1624.84">
    Produce message
  </text>
  <path fill="#A80036" stroke="#a80036" d="M1975 1680.04l10 4-10 4 4-4z"/>
  <path stroke="#a80036" d="M750 1684.039h1231"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="757" y="1678.973">
    11
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="779" y="1678.973">
    Consume message
  </text>
  <path fill="#FFF" filter="url(#a)" stroke="#000" stroke-width="2" d="M105 1692.039h1951.5v55.398H105z"/>
  <path fill="#EEE" stroke="#000" stroke-width="2" d="M105 1692.04h66v7l-10 10h-56v-17z"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="118" y="1706.106">
    ref
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="958.25" y="1725.106">
    Send notification to Participant (Payee)
  </text>
  <path fill="#A80036" stroke="#a80036" d="M145 1769.57l-10 4 10 4-4-4z"/>
  <path stroke="#a80036" d="M139 1773.57h600"/>
  <text font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="151" y="1768.504">
    12
  </text>
  <text font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="173" y="1768.504">
    Send callback notification
  </text>
</svg>
